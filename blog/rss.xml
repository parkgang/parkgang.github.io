<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>parkgang.log Blog</title>
        <link>https://parkgang.github.io/blog</link>
        <description>parkgang.log Blog</description>
        <lastBuildDate>Sun, 24 Apr 2022 04:04:49 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>ko</language>
        <item>
            <title><![CDATA[소프트웨어 개발 능력은 정량적으로 측정이 왜 어려울까? (feat. 전공자가 바라보는 정보처리기사 실기)]]></title>
            <link>https://parkgang.github.io/blog/2022/04/24/why-is-software-development-capability-difficult-to-quantitatively-measure</link>
            <guid>/2022/04/24/why-is-software-development-capability-difficult-to-quantitatively-measure</guid>
            <pubDate>Sun, 24 Apr 2022 04:04:49 GMT</pubDate>
            <description><![CDATA[정보처리기사를 공부하다 보면 왜 코딩 능력 보다 단어를 열심히 암기해야 합격할 수 있는 자격증인지 생각하게 됩니다. 그럼 전부 코딩 문제로 출제를 하면 되연 문제가 없을까요? 한번 생각해 봅시다.]]></description>
            <content:encoded><![CDATA[<p>정보처리기사를 공부하다 보면 왜 코딩 능력 보다 단어를 열심히 암기해야 합격할 수 있는 자격증인지 생각하게 됩니다. 그럼 전부 코딩 문제로 출제를 하면 되연 문제가 없을까요? 한번 생각해 봅시다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="tldr">TL;DR<a class="hash-link" href="#tldr" title="제목으로 바로 가기">​</a></h2><ol><li>정처기 실기를 공부하면서 왜 코딩 능력 보다 단어를 열심히 암기해야 합격 여부가 판가름 되는 자격증인지 이게 과연 IT 분야에서 변별력을 가질 수 있는 자격증인지 생각을 하게 되었다.</li><li>그래서 정처기 실기를 전부 코딩 문제를 내면 정량적인 평가 방법일 까?라는 생각을 하게 되었다.</li><li>그렇게 생각을 해보니 소프트웨어 개발 즉, 프로그래밍이라는 것을 정량적으로 평가하는 것은 어렵다는 결론이 나왔다.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="서론">서론<a class="hash-link" href="#서론" title="제목으로 바로 가기">​</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>이하 "정보처리기사" 용어를 "정처기" 라고 말하도록 하겠습니다.</p></div></div><p>IT 업계에서 정보처리기사 유무는 크지 않다는 것으로 알고 있습니다.</p><blockquote><p>있으면 좋지만 없어도 큰 문제가 없다.</p></blockquote><p>그러한 이유는 여러 가지가 있겠지만 필자가 생각하는 이유는 아래와 같다고 생각합니다.</p><ol><li>기사 시험임에 불구하고 관련 학과를 졸업하지 않은 비전공자도 시험에 응시할 수 있다.</li><li>개정 이전까지는 합격률이 높아서 변별력이 없었다.</li><li>정처기라는 자격증이 소프트웨어 개발 능력을 모두 대변하기엔 실무와 괴리감이 있다.</li></ol><p>그리고 개발자라는 직업을 고려할 때 많이 듣는 말로는 <code>평생 공부해야 하는 직업이다</code> 라고 말합니다.</p><p>이 말의 의미는 공부할 것이 많다는 것도 의미하지만 그만큼 개발 패러다임이 많이 변한다는 것도 내포합니다.</p><blockquote><p>1년 전 공부한 게 지금은 쓰이지 않는다...?</p></blockquote><p>이렇게 계속 변하는 학문을 정해진 시험 범위에서 시험을 통해 측정이 가능한가 싶기도 합니다.</p><blockquote><p>물론, 기초적인 CS의 경우는 측정이 충분히 가능할 것입니다.</p></blockquote><p>필자도 정처기 실기를 준비하고 있는데 여러 정보를 얻기 위해서 수제비 카페를 주로 방문합니다.</p><p>근데 여기서 <a href="https://cafe.naver.com/soojebi/87088" target="_blank" rel="noopener noreferrer">전공자분들 중 정처기 시험에 대해 불만의 목소리</a>를 볼 수 있었고 저 또한 정처기가 정말 전공자가 유리한 게 맞는가? 유리하지 않다면 왜 유리하지 않는 것인지 그럼 유리하게 시험 문제를 전부 코딩으로 내보면 어떨까? 라는 내용으로 생각을 공유하면 좋겠다 싶어서 글을 작성해 봅니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="본론">본론<a class="hash-link" href="#본론" title="제목으로 바로 가기">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="정처기-시험은-어떻게-진행되는가">정처기 시험은 어떻게 진행되는가?<a class="hash-link" href="#정처기-시험은-어떻게-진행되는가" title="제목으로 바로 가기">​</a></h3><p>우선 정처기 취득을 위해서는 <code>필기</code> 와 <code>실기</code> 의 과정을 거쳐야 하는데 <code>필기</code> 의 경우 객관식이므로 개념에 대해 이해한다면 편하게 풀 수 있기 때문에 넘어가도록 하겠습니다.</p><p>문제는 <code>실기</code> 인데요 이해보다 암기가 필요한 부분이 훨씬 많습니다. 실무에서 많이 사용될만한 용어도 대거 있지만 별로 사용되지 않거나 이런 것도 있구나 싶은 내용과 단어도 많습니다.</p><p>하지만 합격을 위해서는 이런 것도 있구나 하고 넘어갈 수 없습니다. 단답형과 약술형을 많이 맞추기 위해서는 많이 암기할수록 합격률이 높아지기 때문입니다.</p><p>결국 똑같이 새로운 단어를 외워야 하기 때문에 전공자이라서의 큰 메리트는 사라집니다.</p><p>그럼 역시 전공자라서 메리트라면 코딩, SQL 문제라고 생각하는데 20문제 중 평균적으로 6개 정도는 출제되므로 출제 비중이 높은 것을 알 수 있습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="그렇다고-해서-전공자가-유리한가">그렇다고 해서 전공자가 유리한가?<a class="hash-link" href="#그렇다고-해서-전공자가-유리한가" title="제목으로 바로 가기">​</a></h3><p>코딩, SQL 문제 비중이 높다고 해서 전공자가 유리한 가? 라고 생각하면 유리하긴 하지만 큰 상관은 없다고 생각합니다.</p><p>나오는 난이도가 쉬운 편이고 그것을 풀었다고 해서 개발 능력이 입증되는 것은 아니기 때문입니다.</p><p>그러면 정처기 실기의 경우 소프트웨어 개발 능력 입증을 위해서 문제를 전부 코딩, SQL로 출제하고 난이도를 높이면 좋지 아늘까?라는 생각을 할 수 있었습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="전부-코딩-sql-문제로-출제해도-문제일-것이다">전부 코딩, SQL 문제로 출제해도 문제일 것이다.<a class="hash-link" href="#전부-코딩-sql-문제로-출제해도-문제일-것이다" title="제목으로 바로 가기">​</a></h3><p>전부 코딩, SQL 문제로 출제하면 보이는 문제점은 답안 작성도 어렵지만 책점 기준도 모호할 것이라고 생각합니다.</p><p>당장 답안 작성만 생각해도 스트레스일 거 같은데 대학에 가면 주로 요구사항을 주고 손 코딩 문제를 보게 됩니다.</p><p>손 코딩을 할 때 중요하게 생각하는 건 로직, 반복되는 재사용 코드 줄이기 이런 것이 아닌 세미콜론은 잘 적었는지, 오타는 없는지 이런 것들로 점수가 판별되는 경우가 많습니다.</p><blockquote><p>실제 소프트웨어 개발 능력과 없는 것으로 스트레스를 받아야 함</p></blockquote><p>요즘은 개발 도구가 현대적인데 저런 사소한 것을 신경 쓰면서 코딩을 하는 것도 이상합니다. 그럼에도 손 코딩을 보는 이유는 PC으로 코딩을 위한 준비과정 Cost가 발생하며 부정행위를 모니터링하기도 어렵기 때문입니다. 그래서 대학에서 손 코딩을 선호하는 것으로 알고 있습니다.</p><blockquote><p>물론, 모든 대학을 대변하지 않으며 PC로 코딩 시험을 치를 수 있는 좋은 솔루션은 많을 것 입니다.</p></blockquote><p>어찌어찌해서 대부분의 수험생이 요구사항을 구현하고 Input, Output이 정상적으로 동작한다면 이후 변별력은 어떻게 구별할까요? 코드 줄 수가 적다고 해서 좋은 코드일까요? 코드 줄 수는 많은데 단일 책임 원칙으로 정교하게 분리된 코드가 좋은 코드일까요? 혹여나 Feature 중 반만 구현되었다면 점수는 어떻게 채점해야 될까요.</p><p>이처럼 소프트웨어는 바닥부터 차근차근 탑을 쌓듯이 완성되는 제품이며 중간까지만 구현을 마치면 매뉴얼대로 책점이 어렵고 하나의 요구사항에 대해 구현 방법도 여러 가지이기 때문에 소프트웨어 개발에 정답은 없고 이 때문에 정량적인 측정은 어려우며 개발자라는 직업이 경력과 경험이 우대된다고 생각됩니다.</p><p>지금까지 분석한 내용만 봐도 소프트웨어 개발이라는 능력을 정량적으로 측정하는 것은 매우 어렵다고 생각됩니다.</p><blockquote><p>근데 코딩 실력을 정량적으로 평가할 수 있는 솔루션이 있으면 나름대로 대박인 솔루션 이겠는데?</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="코딩-테스트도-같은-맥락">코딩 테스트도 같은 맥락<a class="hash-link" href="#코딩-테스트도-같은-맥락" title="제목으로 바로 가기">​</a></h3><p>이외 비슷한 사례로 코딩 테스트가 떠오릅니다. 대부분의 회사에서 코딩 테스트를 이용해서 개발자를 판단하는 첫 척도로 사용합니다.</p><p>하지만 이 부분도 알다시피 코딩 테스트 즉, 알고리즘을 잘한다고 해서 개발을 꼭 잘하는 것은 아닙니다.
이 부분에 대해서는 여러 의견이 분분하지만 <strong>확실한 것은 잘하면 좋은 것이며 알고리즘이 중요한 것은 맞습니다.</strong></p><p>그럼에도 코딩 테스트라는 나름 정량적인 테스트를 통해 합격자를 필터링할 수 있을 것이지만 이 부분에서도 억울해하는 사람이 있을 수도 있는 것입니다. 코딩 테스트가 개발 능력을 전부 대변해 주지 않기 때문입니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="종합하면">종합하면<a class="hash-link" href="#종합하면" title="제목으로 바로 가기">​</a></h3><p>이처럼 소프트웨어 개발 능력을 정략적으로 평가하는 것은 매우 어렵다고 느껴집니다.</p><p>이 때문에 정처기가 있다고 해서 개발의 기본은 하겠지라는 것을 보장할 수 없으며 IT 업계에서 정처기 유무는 크게 신경 쓰지 않는 것을 이해할 수 있습니다.</p><blockquote><p>물론 기본은 준비된 최소한의 CS를 아는 사람으로서는 인식될 수 있을 것입니다.</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="결론">결론<a class="hash-link" href="#결론" title="제목으로 바로 가기">​</a></h2><p>실제 정처기 실기를 준비해 보면 코딩 공부보다는 열심히 단어를 외우고 있는 자신을 볼 수 있습니다.</p><p>정처기 실기를 공부하면서 이런 거 실무에서 안 쓸 거 같은데 왜 해야 되라고 짜증이 날 수도 있지만 위와 같은 insight으로 접근하면 조금의 짜증이 누그러질 수? 있다고 생각합니다.</p><p>누군가는 이 글을 통해 위로가 되었으면? 좋겠네요.</p><p>번외로 당연한 생각이라고 할 수도 있지만 필자는 이런 당연한 생각도 분석을 통해 그 생각의 결과를 글로 export 해서 정리할 수 있는 것도 개발에서 중요한 능력이라고 생각합니다.</p><p>실제 현업에서 개발보다 개발하면서 내가 겪은 문제를 일목요연하게 정리해서 상대방(e.g., 동료, PM)에게 전달하는 커뮤니케이션 능력이 중요하기 때문입니다.</p><p>프로그래밍이라는 것을 공부하면서 이런 것까지 insight를 가지고 대하다 보면 더 좋은 insight이 도출되지 않을까라고 생각됩니다.</p><p>여기까지 읽어주셔서 감사합니다 :)</p>]]></content:encoded>
            <category>자격증</category>
            <category>정보처리기사</category>
        </item>
        <item>
            <title><![CDATA[parkgang.log(2021)]]></title>
            <link>https://parkgang.github.io/blog/2022/01/12/2021-retrospective</link>
            <guid>/2022/01/12/2021-retrospective</guid>
            <pubDate>Wed, 12 Jan 2022 13:02:26 GMT</pubDate>
            <description><![CDATA[정말 바쁘다고 생각했던 2021이 지나갔습니다. 대학 졸업도 하고 여러모로 Big Event가 많아서 한 달 한 달이 묵직했던 거 같아요. 축약해서 이번 연도 회고와 내년을 위한 목표를 정리해 보도록 하겠습니다.]]></description>
            <content:encoded><![CDATA[<p>정말 바쁘다고 생각했던 2021이 지나갔습니다. 대학 졸업도 하고 여러모로 Big Event가 많아서 한 달 한 달이 묵직했던 거 같아요. 축약해서 이번 연도 회고와 내년을 위한 목표를 정리해 보도록 하겠습니다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>데일리 커밋도 성실히 성공</h5></div><div class="admonition-content"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAY0lEQVQImSXFWw7CIBBAUTYgjEhMnVIIU/jxEWNidP8ru8b24+Q4rZ06rkxlxafLJvw/7Z9zI2nFHUvBP41wN+J3ED8DefXdw5B3J6wLTqZMMiM1Q9qCLzMH1U3QTLw1ZM78AFiZJ4f2JdUbAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1540" height="402"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.da5a98c.1540.png" srcset="/assets/ideal-img/1.da5a98c.1540.png 1540w" width="1540" height="402"></noscript></div></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>가슴이 웅장해지는 공부량</h5></div><div class="admonition-content"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAApUlEQVQImS3LORKCQBCFYa4jFrM0PT0bi+VhDLwGBJzEzEsYaqiUEV6DmqitEYMveu8v0IULxe4D5GeJ9p0p4zZoZ3DNAs3hWlRgHpoCu9ix8ZGVcSxq+pFoWSGxrOmZj7f/sAL5ZGOfyLcJbEgS7Sq34F4IMK9cZjkACkyh5dgf2YSGgTwrtEtRCn3aS5hKoYdS6rEUetwJPQrAUYAZFNJUaTx/AeZoSC4h1ZZsAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="4714" height="2246"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.446ad18.4714.png" srcset="/assets/ideal-img/2.446ad18.4714.png 4714w" width="4714" height="2246"></noscript></div></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="tldr">TL;DR<a class="hash-link" href="#tldr" title="제목으로 바로 가기">​</a></h2><ol><li>Go 언어 학습</li><li>CI/CD 고도화 (use k8s)</li><li>첫 제품 제작 느낀 Front-end Engineer로써</li><li>졸업작품 최우수상과 대학교 졸업</li><li>병특 유무는!?</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="go-언어와-k8s">Go 언어와 k8s<a class="hash-link" href="#go-언어와-k8s" title="제목으로 바로 가기">​</a></h2><p>TS는 자신 있고 재밌게 사용할 수 있는데 인터프리터 기반의 script 언어만 가지고 있기엔 뭔가 아쉬워서 low-level의 컴파일 언어를 배워보고 싶었습니다.</p><p>딱 떠오르고 핫한 언어가 Rust와 Go가 있었는데 Go가 Docker, k8s와 같이 성공한 프로젝트가 있기도 하고 실제 사용하는 제품이 늘어나는 추세로 보여서 Go를 배우게 되었습니다.</p><p>사실 Go가 그렇게 좋다고 하길래 너무 궁금해서 배워본 것도 있고 DevOps의 Tool 체인들이 Go로 작성된 것도 많아서 배워서 나쁠 것은 없다고 생각했습니다.</p><p>추가적으로 작년에 CI/CD로 자동화 Pipeline까지는 구축할 수 있는데 뭔가 모를 아쉬움이 있어서 더 고도화 시켜보고 싶은 마음에 k8s을 공부하게 되었습니다.</p><p>공부한 k8s을 졸업 작품에 실제로 사용하면서 많은 경험치를 획득할 수 있었는데 배우길 잘했다고 생각이 듭니다.</p><blockquote><p>역시 배포는 너무 재밌어</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="제품이라고-불릴-수-있는-소프트웨어란-ps-front-end-engineer">제품이라고 불릴 수 있는 소프트웨어란 (ps. Front-end Engineer)<a class="hash-link" href="#제품이라고-불릴-수-있는-소프트웨어란-ps-front-end-engineer" title="제목으로 바로 가기">​</a></h2><p>이번 연도에 직무에서 크게 변한 것은 내가 Front-end Engineer으로 써 제품을 만들 수 있다는 것이었습니다.</p><blockquote><p>아직 부족한 게 많지만...</p></blockquote><p>이전까지는 제품 유지 보수 및 Power App이라는 비 개발자 개발 도구를 이용하여 제품을 만들었었는데 드디어 코드로써 개발에 들어갈 수 있게 되었습니다.</p><p>실제 실무에서 제품 퀄리티의 개발을 하면서 느낀 점이 매우 많았는데 사실 이전까지는 소프트웨어라고 한다면 프로그래밍 언어를 가지고 뭐든 만들면 된다! 실행되고 돌아가면 된다! 문제가 생기면 고쳐주면 되는 거고 프로그래밍 문법을 알면 언제든지 시간을 투자해서 고칠 수 있으니까 문제가 없다!라고 생각했습니다.</p><p>사실 위에 한말은 비즈니스 개발을 한 번도 안 했을 때 발생할 수 있는 착각이었습니다.</p><p>개발자는 항상 바쁘고 일정에 따라 움직이기 때문에 제한적인 시간안에 output을 도출해야 되고 내가 만든 프로그램이 정상적으로 수행되는지 로그로써 남기고 추적도 가능해야 되고 성능도 고려해야 되고 엄청나게 많습니다.</p><p>그냥 프로그래밍 언어를 배워서 서비스 하나 만들어봤어요!로 느낄 수 없는 경험들이 많았습니다.</p><p>그래서 중점적으로 느낀 점이 무엇이냐고 말한다면</p><ol><li>프로그래밍 언어와 프레임워크에 대한 이해도가 중요하다.<ol><li>당연한 말이긴 한데 프로그래밍 언어와 프레임워크에 대한 이해도가 적어도 제품을 만들 수야 있긴 하지만 시간이 지날수록 기술 부체에 부딪히며 일정 산출에 스트레스를 받는 자신을 본다면 무슨 말인지 이해가 될 것입니다.</li><li>백날 언어 문법이나 프레임워크 사용법만 익히더라도 이슈 발생 시 <code>제한된 시간</code> 안에 트러블 슈팅에 성공하려면 정말 많은 경험과 실력이 필요한 것을 느꼈습니다.</li><li>되게 당연할 말을 적어놨는데 지금이라도 실력이 없는 것을 인정하고 공부할 준비가 되었다면 반은 온 것이라고 생각합니다.</li></ol></li><li>모니터링(로깅)<ol><li>내가 만든 제품이 정상적으로 수행되는지 성공률과 실패율 등등 여러 지표를 로깅하고 추적할 수 있는 시스템을 만드는 것이 중요하다는 것을 느꼈습니다.</li><li>실제로 해보니 생각보다 어려운 부분이어서 작년이 CI/CD 고도화이라면 이번 연도는 모니터링, E2E 테스트와 같은 운영성에 초점을 두고 공부하게 될 거 같습니다.</li></ol></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="대학교-졸업">대학교 졸업!<a class="hash-link" href="#대학교-졸업" title="제목으로 바로 가기">​</a></h2><p>학교와 회사를 병행하던 대학교의 마지막 학기를 드디어 끝났습니다! 🥳</p><p>아직 공식적으로 졸업장이 나온 것은 아니지만 이제 대학교에 안 간다는 사실이 시원섭섭하지만 개인 시간이 생겼다는 기쁨이 존재합니다.</p><p>졸업작품까지 최우수상에 수상하면서 뿌듯하게 졸업할 수 있을 거 같아요.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>졸업작품 프로젝트를 어떻게 설계했는지 궁금하면 <a href="/series/workflows-with-aks-github-slack/">여기를 클릭해보세요.</a></p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="산업기능요원-병역특례">산업기능요원 (병역특례)<a class="hash-link" href="#산업기능요원-병역특례" title="제목으로 바로 가기">​</a></h2><p>그리고 가장 큰 문제인 군대... 🪖 저는 특성화 고교를 나와서 대학교와 병행하더라도 병특을 받을 수 있는 기회가 있었는데 배정 순위가 낮아서 사실 기대하지 않고 있었습니다.</p><p>하지만 신이 주신 기회인지는 몰라도 여러 운이 겹쳐서 제가 산업기능요원 TO을 받게 되었습니다!</p><p>그래서 사실 산업기능요원 편입 신청이 확정되면 회고를 작성하려고 했는데 문제가 발생했습니다...</p><p>대학교에 재학 중이고 곧 졸업이기 때문에 기사 자격증이 필요하다는 것이었는데 이 때문에 편입 서류에서 탈락되었습니다. 🤯 😱 😵‍💫</p><p>당연히 대학교 재학 중이니까 산업기사나 기사 준비는 당연한 게 아니냐? 할 수 있지만 개인-내부적으로 복잡한 사연이 너무 많았습니다. 하지만 이미 지나간 일이고 덕분에 이번 연도 목표 1순위가 기사 자격증 취득으로 변경되었습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="이외">이외<a class="hash-link" href="#이외" title="제목으로 바로 가기">​</a></h2><ol><li>TDD 하려고 jest도 공부했는데 한 번도 사용하지 못헀다...</li><li>SRE을 경험할 수 있었다.</li><li>이외는 notion에 정리된 study의 모든 것!</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="앞으로는">앞으로는?<a class="hash-link" href="#앞으로는" title="제목으로 바로 가기">​</a></h2><p>마일스톤은 단한 게! 정보 처리 기사 취득입니다. 지금까지 열심히 한 것이 아까워서 꼭 병특을 받고 싶네요.</p><p>이제 제품 개발 능력보다는 고도화에 관심이 가고 있습니다. 어떻게 해야지 더 우아하고 적은 코드량으로 개발할 수 있을까? SRE을 통한 운영성도 기르고 싶습니다.</p><p>현재까지 주 업무는 Front-end 이지만 개인적으로 Back-end, DevOps도 계속 공부하고 있고 모두 재밌기 때문에 나는 <code>???</code> 엔지니어에요! 라고 자신있게 말할 포지션을 못 정했습니다.</p><p>내년에는 포지션을 과연 정할 수 있을지? 병특을 받아서 군대에 안 갈지? 관전 포인트가 될 거 같습니다.</p><p>2022년도 화이팅! 하기를 바라며~ 회고록을 마치도록 하겠습니다. 읽어주셔서 감사합니다 :)</p>]]></content:encoded>
            <category>개인 회고</category>
        </item>
        <item>
            <title><![CDATA[MSA로 개발해 본 Belf 프로젝트 회고]]></title>
            <link>https://parkgang.github.io/blog/2021/12/26/belf-project-retrospective</link>
            <guid>/2021/12/26/belf-project-retrospective</guid>
            <pubDate>Sun, 26 Dec 2021 13:13:10 GMT</pubDate>
            <description><![CDATA[첫 MSA 를 적용하여 만들어진 프로젝트가 성공적으로 종료되어 이에 대한 회고를 해보려고 합니다.]]></description>
            <content:encoded><![CDATA[<p>첫 <code>MSA</code> 를 적용하여 만들어진 프로젝트가 성공적으로 종료되어 이에 대한 회고를 해보려고 합니다.</p><table><thead><tr><th align="center">Mobile</th><th align="center">PC</th></tr></thead><tbody><tr><td align="center"><div class="imgContainer_g3cu" style="width:170px"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAWAAoDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAUGAwf/xAApEAABAwIEBAcBAAAAAAAAAAABAgMEABEFBhIhBxMUUQgiMUJTlNLh/8QAFQEBAQAAAAAAAAAAAAAAAAAAAwL/xAAbEQEAAgIDAAAAAAAAAAAAAAABAAMCkREhQf/aAAwDAQACEQMRAD8AssZ4Y5Gw3HcNwh1E1UycfIeoTdKQfXSQCe1x3p0rgVlgqJ1yxv8AL/Kt33VolB+RBS64ytXLdccb1NX2sk2uAaZolr0DU2UqtuOYDY1BYL7piZVID1snCofHuQqK863l1pLaCSR1pv3PsrIeIx8DfLafvH8UUUvEKf/Z&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1170" height="2532"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.579a5ea.1170.jpeg" srcset="/assets/ideal-img/1.579a5ea.1170.jpeg 1170w" width="1170" height="2532"></noscript></div></div></td><td align="center"><div class="imgContainer_g3cu"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+UlEQVQYlW2LMU/CQBhAb9WEtPddvPvuKJQC1wI1tIeouDj7Z1zdNQ4uxsnBXV2Mgcn4GwwzMSHprv8AbPOZrsbhLS/vsez44G4/d9/pcLyO4rSI7Kjo20ERJ6OinwzWk9x9nZ7MHpiU8uVoOqWoG1FuW+TikKRCQkTiHAjlHoVGvTE3Tp/ub67o8uJ8a62twrBTKYWVEKICgG0dez6fM6318yRzlKXpT7vTpWbQJtSGEDUhmlIpJAGwYKFRj2eHQ5olwcYErVKboETUJWpTom5uFGoCgDkzUry6nqGsZ+qzlv/xzjyfX+80/M/dhvcBAMs/1G7FOb/9BYXKV59PMbAqAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2992" height="2244"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/thumbnail.6ba8d5c.2992.png" srcset="/assets/ideal-img/thumbnail.6ba8d5c.2992.png 2992w" width="2992" height="2244"></noscript></div></div></td></tr></tbody></table><p>해당 프로젝트는 졸업과제로 진행되었으며 약 <code>2021.03.10</code> ~ <code>2021.12.18</code> 까지 진행되므로 거즘 1년 동안 진행되었습니다.</p><p>저는 프로젝트에서 PM과 devops를 담당했으며 팀원들이 개발에만 집중할 수 있도록 환경을 만들어주고 <code>front-end</code>, <code>back-end</code> 모두 issue 발생 시 서포트해 주었습니다. 이외 <a href="https://github.com/belf-kr/oauth-server" target="_blank" rel="noopener noreferrer">oauth-server</a> 제품도 개발하였습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="프로젝트-정보-">프로젝트 정보 🔥<a class="hash-link" href="#프로젝트-정보-" title="제목으로 바로 가기">​</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>관련 내용이 여러 군대로 파편화되어 링크로 제공되었습니다. 😂</p></div></div><ol><li><a href="https://github.com/belf-kr/.github/blob/main/profile/README.md" target="_blank" rel="noopener noreferrer">소개</a></li><li><a href="https://github.com/belf-kr" target="_blank" rel="noopener noreferrer">project github</a></li><li><a href="https://parkgang.notion.site/6de1a3d7002f4a46ab713e7d6846c490?v=52125eaffbf24e9ca82114b4c2441c80" target="_blank" rel="noopener noreferrer">팀원</a></li><li><a href="https://parkgang.notion.site/36f01d56dff643dfa1db264e33f18d7d" target="_blank" rel="noopener noreferrer">서비스 사용 매뉴얼</a></li><li><a href="https://parkgang.notion.site/Belf-27b87963790b4e43baae2e0c3c6ae123" target="_blank" rel="noopener noreferrer">notion 구경하기 "여기에 모든 정보가 작성되어있어요!"</a></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="서비스-접속-주소-">서비스 접속 주소 ✨<a class="hash-link" href="#서비스-접속-주소-" title="제목으로 바로 가기">​</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>서버가 down되어 있을 수 있습니다.</p></div></div><ol><li><a href="https://belf.xyz" target="_blank" rel="noopener noreferrer">prod "실 서비스"</a></li><li><a href="https://qa.belf.xyz" target="_blank" rel="noopener noreferrer">qa</a></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="background">Background<a class="hash-link" href="#background" title="제목으로 바로 가기">​</a></h2><blockquote><p>사용자의 코스를 공유하는 Todo 서비스</p></blockquote><p>todo의 기능과 github fork에 영감을 받아서 제작된 웹앱 제품입니다.</p><p>이번 프로젝트를 진행하면서 얻을 수 있는 값진 경험치는 k8s의 운영 경험과 정의된 워크플로우 안에서 팀원과 함께 협업하여 제품을 개발한 것입니다.</p><p>CI/CD 및 워크플로우의 경우 내용이 너무 길어서 설계부터 실습까지 <a href="/series/workflows-with-aks-github-slack/blueprint/">blueprint</a> 에 정리해놓았으니 궁금하다면 구경해주세요.</p><p>이번 회고에서는 프로젝트를 진행하면서 전체적으로 경험한 것에 대해 회고하려고 합니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="pm으로써">PM으로써<a class="hash-link" href="#pm으로써" title="제목으로 바로 가기">​</a></h3><p><a href="/series/workflows-with-aks-github-slack/blueprint/">blueprint</a> 에도 명시되어있지만 팀원의 대부분은 이미 개발자로써 직장 생활을 하고 있어서 개발을 어떻게 해야 하는지 개발 프로세스가 왜 중요한 지에 대한 설명까지는 필요가 없는 상태이었습니다.</p><p>적어도 웹앱의 개발 시작에 대한 기초적인 Background가 있는 상태이라서 어떤 개발 프로세스와 역할 배정을 해야지 최고의 효율을 뽑을 수 있을지 고민을 해보았습니다.</p><p>팀원이 좋아하고 자신 있어 하는 stack이 달라서 하나의 언어와 프레임워크로 가기는 어려웠고 MSA를 사용할 만큼 큰 규모의 서비스는 아니지만 다들 작장 생활하느라 개발 주기도 일정하지 않고 그냥 서비스를 하나 독립적으로 담당하는 게 더 좋지 아늘까? 생각이 들었고 무엇보다 제가 MSA으로 프로젝트를 진행해보고 싶었습니다.</p><p>이전에 k8s에 대해 이론 및 간단한 사용법은 공부했는데 실제로 프로젝트에 사용해보지 않아서 사용해보고 싶기도 했고 MSA를 하면서 여러 issue를 접해보고 싶었습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="msa">MSA<a class="hash-link" href="#msa" title="제목으로 바로 가기">​</a></h3><p>MSA는 MicroService Architecture의 줄임말으로써 그냥 쉽게 Service를 Micro하게 잘게 분리하는 Architecture를 말합니다.</p><p>사실 MSA는 이론 자체는 어렵지 않다고 생각합니다. 문제는 Micro 분리하는 Service 기준을 잘 정해야한다는 것이죠 이외 분산된 환경에서 로깅 및 insight를 도출 등 어려운 문제도 많습니다 하지만 해당 Architecture가 지향하는 목표는 심플하다고 생각합니다.</p><p>해당 프로젝트에서는 팀원이 수직적으로 담당할 수 있는 하나의 repo를 기준으로 Service를 분리하였습니다.</p><blockquote><p>즉, repo를 하나의 엔지니어가 담당하는 구조인거죠!</p></blockquote><p>대외적으로 MSA에 알려진 장점으로 뭐 단독 제품으로 쉽게 배포를 할 수 있다 등은 쉽게 체감할 수 있었습니다. 대외적인 것이외 제가 느낄 수 있었던 것의 <code>장점</code> 으로는 엔지니어가 하나의 service를 담당하고 있으니까 커뮤니케이션이 편리하였습니다. 제품에 대해 가장 잘 알고있기도 하고 하나면 집중하면 되는 환경이 되었습니다. <code>단점</code> 으로는 관리 포인트가 엄청나게 증가하였습니다. 사실 이부분은 진행해보니 구조의 결함일 수도 있긴한데 하나의 Service에서 CI/CD에 결함이 포착되었다면? 이외의 Service도 대응해주고 확인을 해줘야했고 MSA를 적용하면서 약간 당연하게? 겪을 수 있는 문제일 수 있지만 Service의 interface 파편화되는 것도 있었습니다.</p><p>그럼에도 불구하고 MSA를 통해서 생산성에 도움은 되었지만 확실히 거대 규모의 Service에서 어울리는 Architecture라는 인상이 강해졌습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="k8s">k8s<a class="hash-link" href="#k8s" title="제목으로 바로 가기">​</a></h3><p>MSA와 찰떡 궁합인 k8s 입니다. 해당 프로젝트에서는 AKS를 사용하여 배포하게 되었습니다.</p><p>실제 서비스를 운영한다는 마음으로 namespace도 정의하고 configmap으로 pod들도 관리하고 L7도 설정하고 해보면서 많은 경험을 얻을 수 있었습니다.</p><p>특히, k8s cluster 사양이 높지 않은데 가뜩이나 <code>qa</code> 와 <code>prod</code> 의 환경을 구분해서 많은 pod이 띄어지면서 발생한 k8s scheduler 배치 이슈 및 container 성능 이슈도 잡아보고 어떻게 object을 네이밍하면 좋을 지도 생각할 수 있는 계기가 되었습니다.</p><p>확실히 운영이라는 것을 해보면서 얻는 경험치는 말로 다 할 수 없는 거 같습니다.</p><blockquote><p>이외에도 <code>prod</code> 에는 mysql replication을 사용해보는 등 재밌는 경험을 해봤습니다.</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="트러블-슈팅-내역">트러블 슈팅 내역<a class="hash-link" href="#트러블-슈팅-내역" title="제목으로 바로 가기">​</a></h2><p>이외 해당 프로젝트를 진행하면서 발생한 트러블 슈팅 내역은 <a href="https://parkgang.notion.site/Issue-e38806db386346448681eb165327031f" target="_blank" rel="noopener noreferrer">Issue</a> 에 작성되어있습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="느낀-점">느낀 점<a class="hash-link" href="#느낀-점" title="제목으로 바로 가기">​</a></h2><p>k8s와 golang에 대한 제품이 없어서 아쉬웠는데 이번 프로젝트를 통해 만들 수 있어서 기뻤고 <code>qa</code>, <code>prod</code> 환경을 구분해서 <code>prod</code> 이전에 미리 사용성 및 버그를 확인할 수 있어서 미리 대응된 case 들도 있는데 이런 것을 보면서 환경 구분을 잘 해놨구나 하는 뿌듯함도 있었습니다.</p><p>이외에도 CI/CD Pipline을 한번 만들면 영원히 잘 돌아갈 줄 알았는데 중간에 예상하지 못한 곳에서 고장이 난 것도 꽤 신기한 경험이었습니다.</p><blockquote><p>난 영원할 줄 알았는데...</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="마무리">마무리<a class="hash-link" href="#마무리" title="제목으로 바로 가기">​</a></h2><p>성공적으로 프로젝트는 마무리되었고 많은 경험을 할 수 있었습니다.</p><p>아쉬운 것은 프로젝트가 끝날 때 쯤에서야 팀원들이 온보딩이 완료되어 더 주기적으로 개발하여 좋은 퀄리티의 서비스를 만들 수 있었을 꺼 같지만 다음을 기약하고 넘어가게 되었습니다.</p><p>그래도 이번 프로젝트를 계기로 개발 프로세스부터 배포까지 설계하고 서비스를 운영할 수 있는 자신감이라는 것은 생겼습니다.</p><blockquote><p>물론 로깅관련 부분이 부족해서 빨리 이부분을 보안하고 싶네요!</p></blockquote><p>다음 번에 더 좋은 제품을 만들 수 있도록 기약하며 회고를 마치도록 하겠습니다. 읽어주셔서 감사합니다. 😀</p>]]></content:encoded>
            <category>프로젝트 회고</category>
            <category>MSA</category>
            <category>졸업작품</category>
        </item>
        <item>
            <title><![CDATA[k8s의 EXTERNAL-IP는 Azure에서 어떻게 처리될까?]]></title>
            <link>https://parkgang.github.io/blog/2021/12/06/how-is-k8s-external-ip-handled-in-azure</link>
            <guid>/2021/12/06/how-is-k8s-external-ip-handled-in-azure</guid>
            <pubDate>Sun, 05 Dec 2021 20:13:24 GMT</pubDate>
            <description><![CDATA[k8s는 ingress를 통해 외부의 트래픽을 받아올 수 있습니다. 근데 AKS와 같은 클라우드 환경에서 사용하면 ingress IP은 어디서 생성되었으며 어떻게 Load balancing이 되는지에 설명합니다.]]></description>
            <content:encoded><![CDATA[<p>k8s는 ingress를 통해 외부의 트래픽을 받아올 수 있습니다. 근데 AKS와 같은 클라우드 환경에서 사용하면 ingress IP은 어디서 생성되었으며 어떻게 Load balancing이 되는지에 설명합니다.</p><p>Azure에서 AKS를 사용하면서 문득 이런 궁금증이 생겼습니다.</p><blockquote><p>ingress를 통해 외부의 트래픽을 받아오는데 ingress IP은 어디서 생성되었으며 어떻게 Load balancing이 되는거지?</p></blockquote><blockquote><p>svc를 LoadBalancer으로 생성하는 경우 IP가 생성되는데 어디서 생성된거지? 해당 IP는 어떻게 Load balancing 된다고 장담할 수 있는거지?</p></blockquote><p>Azure에 k8s cluster를 올려놓고 k8s의 spec에 맞게 <code>.yaml</code> 을 적용하면 예상하는 대로 동작이 되어서 Azure가 핸들링 한건지 k8s가 핸들링한건지 큰 관심을 안가지고 있었는데 AKS 관련 내용을 정리하다가 갑자기 궁금해져서 간단하게 찾아보고 정리하려고 합니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="리소스-관련이므로-azure가-하겠지">리소스 관련이므로 Azure가 하겠지?<a class="hash-link" href="#리소스-관련이므로-azure가-하겠지" title="제목으로 바로 가기">​</a></h2><p>IP 생성이랑 Load balancing 이부분은 리소스를 제공하는 Azure만 핸들링할 수 있다고 생각합니다.</p><p>그렇다면 어떤 리소스 타입으로 핸들링하느냐를 찾아야하는대 생각보다 쉽게 찾을 수 있었습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="부하-분산-장치와-공용-ip-주소">부하 분산 장치와 공용 IP 주소<a class="hash-link" href="#부하-분산-장치와-공용-ip-주소" title="제목으로 바로 가기">​</a></h2><p>AKS를 생성하면 자동으로 <code>부하 분산 장치</code> 라는 리소스가 생성됩니다.</p><p>또한, ingress를 설치하고 LoadBalancer type svc를 생성하다 보면 리소스 그룹에서 <code>공용 IP 주소</code> 라는 것을 쉽게 찾아볼 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAMCAYAAABbayygAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkUlEQVQYlSWPS4rbQBiEdQGp1Xp3q/WWrbY1kowfkpxFSK4RyCaQ+wxiMIRAjPcz4APMnGsGyVCDnMVHbar+ql85HHa/jl+/v7X9txdZ7q5p0Vxzubkmi4dr2bQvu333utkefivVfvun3h/Q7ltsdy3KegtZNkiyHItihThOwLn/T1lXzeND3SDPs48kTW+MsRul9GZZ1s00jQ/DMCGC8EmpN82wlCvYtjXyIIbnMViWBcdloIYxWbaN4/HLSVmXxeD7HJpGRtfzwBgD5xyu686BaQ51XXdSpJSDCEKoqjpGYYQ4iiB8H4LzWSfHcf4bi2I5JGkMnZCRiQgiXsNzfeRRiCgMJ48xdF1/UorlcsjyDFTXR8Z9+OECjmkiDgIEQkzzlLtRymKIkhhEVcckSZHmNZJ4hXWWIQ3FxLmP9n5Rysd0sZir303HmyweT/aM406Obb/PT7Vd9zRv/JumGSiloFS/oxMNuq6DEALTNNH3/VkJAvGDEPKsqurZMIzLjKaRi6ZpF01Vz5TS56qqfn4Cu1OTP+MKqwoAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2384" height="2890"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.ab5b3ec.2384.png" srcset="/assets/ideal-img/1.ab5b3ec.2384.png 2384w" width="2384" height="2890"></noscript></div></div><p>결론부터 말하면 <code>공용 IP 주소</code> 가 하나의 IP 주소에 대한 리소스이며 k8s svc의 <code>EXTERNAL-IP</code> 를 의미합니다. <code>부하 분산 장치</code> 는 여러개의 <code>공용 IP 주소</code> 를 IP 구성으로 가지고 있습니다.</p><p>그러면 ingress가 생성되거나 혹은 LoadBalancer type svc가 생성되는 것처럼 <code>외부 IP가 필요한 경우</code> Azure가 알아서 <code>공용 IP 주소</code> 를 생성하고 <code>부하 분산 장치</code> 에 바인딩 해주는 거라고 생각할 수 있습니다.</p><blockquote><p>이러니까 이해가 되네...</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="실제로-그런지-확인해보자">실제로 그런지 확인해보자<a class="hash-link" href="#실제로-그런지-확인해보자" title="제목으로 바로 가기">​</a></h2><p>실제로 그런지 한번 확인해보겠습니다. 위의 캡처 사진은 belf project에서 사용된 리소스 그룹을 캡처한 것인데 외부로 노출되는 svc는 모두 <a href="https://github.com/belf-kr/infrastructure-as-code/tree/v0.3.1" target="_blank" rel="noopener noreferrer">belf-kr/infrastructure-as-code</a> 에서 소비되고 있었습니다.</p><p><code>.yaml</code> 을 읽기 귀찮으신 분들을 위하여 외부로 노출된 svc를 나열해 드리면 아래와 같습니다.</p><table><thead><tr><th>ns</th><th>name</th><th>이유</th></tr></thead><tbody><tr><td>ingress-basic</td><td>nginx-ingress-ingress-nginx-controller</td><td><a href="https://docs.microsoft.com/ko-kr/azure/aks/ingress-tls" target="_blank" rel="noopener noreferrer">HTTPS 수신 컨트롤러</a> 를 사용하기 위함</td></tr><tr><td>qa</td><td>mysql-lb</td><td>qa 환경 mysql 데이터 조회를 팀원도 조회할 수 있도록 외부로 노출하기 위함</td></tr><tr><td>qa</td><td>redis-lb</td><td>qa 환경 redis 데이터 조회를 팀원도 조회할 수 있도록 외부로 노출하기 위함</td></tr></tbody></table><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>kubectl get services --all-namespaces</h5></div><div class="admonition-content"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAv0lEQVQImSXMywqCQACF4TEIRypvEUGL9irOaM6oM3khfMfaRI8Qbbq8ibgTce1acDGhLg78nMUH9ry46zTvZDeuFcwaneaNGqQNRKyBKK4NL+m2QfoABknfZnwRiscFxFyoJJsGMRMyYgI4oQBW8AXa6fzckFQs3aiHHh80mg+Kx4exIea95IRiYZMXgG70GTXJJpOi0VkbPxnP4sKhP3Cg2dVEUbu2/FJ3abXzWWWgsDJRWKkOKVcobo9JcfsD5IVDPrA+v3MAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="3282" height="1828"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2-0.3998d19.3282.png" srcset="/assets/ideal-img/2-0.3998d19.3282.png 3282w" width="3282" height="1828"></noscript></div></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>부하 분산 장치</h5></div><div class="admonition-content"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAy0lEQVQImQXBwU7DIBgAYB5AIEALtt2oXYmUdQV0abrExMQX87abL+Bx3ozPsqTHJfgA+gQ79PDv+9DTNB6n17f/cXy59PGQujClrR/TowvJDfuLD89/uyF+oG4YTjsfYescGGNA1zVUVQVSKZBSAeMcGGPfqPf+syxL0FpfV3qzSFUshVJLca+WPBNXIQQwLk7IR//VGgMhRFi3PRRlDV27gd5aaNYr4JwDz/If1Dn3/tA0v9bas8yzGeO7GRMyY4xnQuiZUpooJccb6Yo+CWc5MtkAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2688" height="1498"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2-1.59c4fd6.2688.png" srcset="/assets/ideal-img/2-1.59c4fd6.2688.png 2688w" width="2688" height="1498"></noscript></div></div></div></div><p>외부로 노출된 svc는 총 3개인데 위의 리소스 그룹에서는 <code>공용 IP 주소</code> 가 4개가 존재하였습니다. 한개는 뭘까요?</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="aks-slb-공용-부하-분산-장치-사용">aks slb (공용 부하 분산 장치 사용)<a class="hash-link" href="#aks-slb-공용-부하-분산-장치-사용" title="제목으로 바로 가기">​</a></h2><p><code>공용 IP 주소</code> 의 기본 정보를 보니까 태그에 친절하게 k8s metadata 들어가있어서 쉽게 찾을 수 있었습니다.</p><details class="details_rxUF alert alert--info details_PYSW" data-collapsed="true"><summary>공용 IP 주소들 자세히 보기</summary><div><div class="collapsibleContent_oXwz"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVQYlR3KPVPiQByA8dXSYZNsEmE3RJLwEl4CmLDZkBcId8D4HexkLK6+VhkrR2ks/JjODe3p8ZL/jVTPr3jQsNPyr7n/luY3r+N0vnF7waZquRu76W3cdu/F6w/f2x1vigIR/krnP0BM5zCOUhBiAj2egR9NQSQ58DCCbrf/jDrd9l3negR9n3+JKN7Fab4Lo2THOd9VTfNTkjBIGD8gPxqv7EYD6vXGgTKjoIyBYRhQLpcLQshe08tAVG2NglG4cpw6GLXmgWiVQpKk08gYLWRZ3quqBrKirNEoHq6cugOGaR0orRS6rgNjDEzz6jQSQkCW5TUaDNqrWq0G1St7Tyk96pp61C8rxwo1jkRR/qmqCoqiPCLXbd07lgNh9BMGXgAWMwDjEpRKJcAYFxjjbz8ht9W8FUL8zbLJnyxNt1mabeM43oZhuOWcf3DOD57n/UZnZ+cXQeDbi8XcyvPcms1ya7FcnpxNJt+1kyTB/wGU5HeK0iR5kAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="870" height="842"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.e88cf90.870.png" srcset="/assets/ideal-img/3.e88cf90.870.png 870w" width="870" height="842"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAABb0lEQVQYlR2MO0/CUBhAr24S+m7oE9pqaytXoXBvL70UiqIm/gU3iYOzqxInoywO/kxjWH0B/YwOJ+dMB3WSKO2S9IWPz5/z4nQR4/7C9eNFEB4u4gQ/Ydx5jZP2GPUyejOcToCVU8gHI8iyAtr9IaRsDCQfAaUDaOOjR5QcJFdxpwu42//KGP/hfPjDGPsnjKJPURRBFIU7lDI28/dCCHb31qZlV5Zlg+O6YBhGpev6StMboKjaHPX62SzwA7Bb4VrRzervYNs2mOZ/r1RVA0mW54jknZm3G4DpBuuG0agUTQPDtMB1m5UkSStFUUCSpDlqH8WzyGvCvuusItfZhLa5aVnWpmFYG0WRv1VVBVmW71G0H12HfgC9NIM0pZDRHDzHgVptBwRBrARBgHq9/oDiKLwkNPsYjCbvjPPlYFgsWZ4vKaVLQsgbIWSNMb5FaGu7RnupfzEde2cnE+/suPTOT6deWZZeURR/9jnnwi8fi3hqJ1UlVAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="870" height="842"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.77191c6.870.png" srcset="/assets/ideal-img/4.77191c6.870.png 870w" width="870" height="842"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAABc0lEQVQYlSXMS3OaUBiA4WOXGTlcFQQjICqEM97gHDiI2Blpm/YnZFeni6yzTZysMombLPIzMxm3vXjhy6Su3mf1olHQn4zjyXNWfH3i+XLjk2jTdvyN2yMbPyCPIRm9+EFYoCmj17PlZ2DFEniSA6M5hNEMJkkBlBdAaQphOHxAwUXw0x+NgYyjvyzJdmnKd0nCdoyxned5f0SMAWN8iyZJsnK8Hrhd72C0zMpomWBZbdB1vdI0da9qTZAVdY2mEVs5jgtmp3eQNaPCGINpmmAY/71XFBVESVqjiI9WbtcFs+0c9Gaj0lQVWqdrJYriXpZlEEVxjYZDf9WxO2Cd23vr3Dk2deOoNZpH3TCPsiz9UxQFJEm6Q4NB/5dru5DyEgISgWpYgAUB6vU6CIJQCSffo8Ggd0Up+53n87eU0W2asC3nfEsp3cZx/BrH8YEQcoNqtU9n02jqlOXS/nL5w/52+d0uy9JeLBb2fD7/qJNlmfAOu4N3ygGVihcAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="870" height="842"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.e2bf783.870.png" srcset="/assets/ideal-img/5.e2bf783.870.png 870w" width="870" height="842"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAABeElEQVQYlSXGyW7TQBgA4ClHlLHHnuB4aTJ26tqOrSzOzHiLE6BWoeobcCPiwLnXEnFCNJceeMyqypUli3+EOH0fmkSXsymfPZbL64di0WzDON06LNi6frINo+R7nIx/hFG8RKkUn6ur1yCXbyHPKpBiAfG8gqmsQRRLkLKAUTz+hqJR9DGcTCGepL+zvNpX9Zt9VpR7zvn+wvd/EaKCouB7NMuytXvhg+cNj6Zlt5Zlg+M4YBhG2+3SA+0aoOl0g9K5XLuuB4NhdKSG3WKsgG3bYJpmqyjKQdcpqIRs0LycrN2hB+cD72j2jJZSCpZlQb/fb1VVPWiaBqqqbtB4HK4HbAD2OTs4ffdk9MxT95Vx6pn2SSPkj67rQAj5goLg8pPHPMjyBoJRCtR0QMEYOp0OYIxb/P9fURD4H4SQPxeL+jmXYpdnclcUxU4IseOcP3HOj0mS3KGzsxcv03nqNs0Vu765Ze/e37CmadhqtWJ1Xf/TLcsS/wXTTHfk7QY2OwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="870" height="842"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.87dc6d8.870.png" srcset="/assets/ideal-img/6.87dc6d8.870.png 870w" width="870" height="842"></noscript></div></div></div></div></details><p>type이 <code>aks-slb-managed-outbound-ip</code> 인 리소스이였는데 AKS 클러스터의 송신 트래픽을 허용하기 위한 공용 IP 인거 같습니다.</p><p>해당 부분에 대해서는 더 깊게 찾아보지 않아서 궁금하신 분들은 <a href="https://github.com/Azure/AKS/issues/1281#issuecomment-543867504" target="_blank" rel="noopener noreferrer">Undocumented public IP in AKS-provisioned load balancer</a> 를 읽어보시면 좋을 꺼 같습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="마무리">마무리<a class="hash-link" href="#마무리" title="제목으로 바로 가기">​</a></h2><p>k8s에서 IP를 필요로 할 때 Azure가 어떻게 핸들링 하는지 아주 간단하게 알 수 있었습니다.</p><p>각 클라우드 프로바이더마다 처리 방법이 다르겠지만 그래도 역시 기존에 있던 클라우드 자원을 잘 조립해서 처리하는 방향일 것 같습니다.</p><p>읽어주셔서 감사합니다 :)</p>]]></content:encoded>
            <category>azure</category>
            <category>k8s</category>
            <category>AKS</category>
        </item>
        <item>
            <title><![CDATA[간단한 HTTP Cache Server를 만들어보자 (with golang)]]></title>
            <link>https://parkgang.github.io/blog/2021/11/17/lets-create-an-http-cache-server-with-golang</link>
            <guid>/2021/11/17/lets-create-an-http-cache-server-with-golang</guid>
            <pubDate>Tue, 16 Nov 2021 15:12:13 GMT</pubDate>
            <description><![CDATA[HTTP Cache를 위한 Header 값 설명이 아닌 실제 Server 프로그램이 어떤 로직으로 처리가 되는지 설명합니다.]]></description>
            <content:encoded><![CDATA[<p>HTTP Cache를 위한 Header 값 설명이 아닌 실제 Server 프로그램이 어떤 로직으로 처리가 되는지 설명합니다.</p><p>HTTP Cache에 대해서 찾아보면 대부분 각 Header가 어떻게 동작하는지에 대해 중점으로 알려줍니다.</p><p>어떻게 보면 Client와 Server가 HTTP Spec에 규정된 Header 값을 바탕으로 캐시하는 것이 전부이긴 하지만 Header 값을 실제 프로그램이 어떻게 읽어서 처리하느냐도 중요합니다.</p><p>필자는 HTTP Cache를 공부할 때 Header에 대한 내용만 나오고 그 Header를 어떤 로직으로 보내는지 서버는 Header를 읽어서 어떻게 하는지 로직적으로 살펴볼 수 없어서 이해가 너무 힘들었습니다.</p><p>특히, <code>ETag</code> 부분은 도데체 어떤 경우에 생기며 <code>ETag</code> 가 변경되는 기준은 무엇이며 검증은 어떤 식으로 하는지 너무 답답했습니다.</p><p>이에 따라 직접 캐시 서버를 만들어서 이해하기로 결심했고 <a href="https://www.sanarias.com/blog/115LearningHTTPcachinginGo" target="_blank" rel="noopener noreferrer">Learning HTTP caching in Go</a> 글을 기준으로 잡고 간단한 캐시 서버를 제작하게 되었습니다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>해당 글에서는 HTTP Cache와 관련된 Header에 대해서 자세히 설명하지 않으며 HTTP Cache와 관련된 Header가 어떻게 Request되고 Server는 어떤 식으로 처리되는지를 그에 대한 효율성을 중점적으로 서술합니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="tldr">TL;DR<a class="hash-link" href="#tldr" title="제목으로 바로 가기">​</a></h2><ol><li>HTTP Cache Header는 HTTP로 통신하는 주체들이 캐시를 처리하기 위한 하나의 interface일 뿐 그것에 대한 처리 로직을 구현하는 것은 Client (browser) 와 Server (web server) 입니다.</li><li><code>Express.js</code> 니 <code>ASP.NET Core</code> 과 같은 상용화 된 웹 서버 제품을 사용하는 경우 캐시 관련 해더를 처리하는 부분은 블랙박스 영역이라고 생각하면 됩니다.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="요구사항">요구사항<a class="hash-link" href="#요구사항" title="제목으로 바로 가기">​</a></h2><ol><li>우선 캐시가 적용된 경우와 적용되지 않은 경우를 보기 쉽도록 이미지 파일을 읽어오는 API를 만들고 가장 궁금했던 <code>ETag</code> 처리 로직을 위해서 텍스트 파일을 읽어오는 API를 만들도록 합니다.</li><li>이미지 API의 경우 제일 단순하게 <code>Cache-Control</code> Header를 통해서 <code>max-age</code> 만을 가지고 캐시 적용 유무 차이를 볼 것이고</li><li>텍스트 API의 경우 파일이 수정될 때마다 <code>ETag</code> 값을 변경하여 Response 하는 로직과 함께 <code>Cache-Control</code> Header로 시간에 따른 캐시 변화도 볼 것입니다.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="코드를-보여주세요">코드를 보여주세요<a class="hash-link" href="#코드를-보여주세요" title="제목으로 바로 가기">​</a></h2><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>아래에 사용된 코드는 <a href="https://github.com/parkgang/http-cache-server-with-go" target="_blank" rel="noopener noreferrer">parkgang/http-cache-server-with-go</a> 에서 살펴보실 수 있습니다.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="maingo">main.go<a class="hash-link" href="#maingo" title="제목으로 바로 가기">​</a></h3><ol><li>HTTP Cache를 이해하기 위한 간단한 서버라서 로직은 모두 <code>main.go</code> 에 몰아져있습니다.</li><li>endpoint는 <code>/image</code>, <code>/text</code> 2가지가 있고 위에서 말한 이미지와 텍스트를 조회하는 API 입니다.<ol><li>이미지의 경우 메모리 상에서 생성하고 응답할 것이며</li><li>텍스트의 경우 <code>assets</code> 디렉터리에 있는 <code>note.txt</code> 파일을 사용할 것입니다.</li></ol></li><li><code>Cache-Control</code> Header의 경우 이미지와 텍스트 모두 동일하게 <code>private, max-age=5</code> 가 적용됩니다.<ol><li>확실한 테스트를 위해 브라우저만 캐시되도록 <code>private</code> 을 지정하였고</li><li>캐시 적용 유무를 빠르게 보기 위하여 아주 짧은 시간인 <code>max-age</code> 를 5초로 지정하였습니다.</li></ol></li><li><code>ETag</code> 의 경우 만드는 방법이 여러가지 있는 것으로 알지만 가장 단순하게 파일이 수정된 일자를 MD5 해시 함수를 이용하여 생성하였습니다.<ol><li>이로써 파일이 수정될 때마다 (파일을 그냥 저장할 때도 해당) 수정된 일자가 변경되어서 <code>ETag</code> 가 계속 변하게 될 것입니다.</li></ol></li><li><code>r.Header.Get("If-None-Match")</code> 쪽 코드를 보면 <code>ETag</code> 를 검증하는 로직이 있는데 request header에 <code>If-None-Match</code> 값이 존재하고 request한 <code>ETag</code> 와 현재 파일의 <code>ETag</code> 를 구해서 비교 후 같으면 <code>304</code> 를 응답하는 코드입니다.<blockquote><p>물론 제품 수준의 퀄리티는 아니지만 메커니즘 이해를 위한 구현은 이렇게 쉬운데 이 부분이 블랙박스로 처리되어 참으로 이해가 어려웠습니다.</p></blockquote></li><li>또한, 각각의 API가 실제로 호출 여부를 확인하기 위해서 호출 시 응답 전에 console에 글자를 출력하도록 코딩되어 있습니다.</li></ol><div class="language-go codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">main.go</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-go codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"bytes"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"crypto/md5"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"flag"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"fmt"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"image"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"image/color"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"image/draw"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"image/jpeg"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"io/ioutil"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"log"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"net/http"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"os"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"strconv"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"strings"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> flag</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">String</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"root"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"./assets"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"file system path"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Handle</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">FileServer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">HandleFunc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/image"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> imageHandler</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">HandleFunc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/text"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> textHandler</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Listening on 8080"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ListenAndServe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">":8080"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Fatal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"ListenAndServe:"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">imageHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">w http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ResponseWriter</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> image</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewRGBA</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Rect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">240</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">240</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 검은색 이미지 생성</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tempImage </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RGBA</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">255</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    draw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Draw</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Bounds</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Uniform</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">tempImage</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> image</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Point</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> draw</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Src</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// jpeg 형식으로 이미지를 인코딩하고 ResponseWriter에 writes 합니다.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> img image</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    buffer </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bytes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> jpeg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Encode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> img</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"unable to encode image."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"이미지 응답"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    w</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Cache-Control"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"private, max-age=5"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    w</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Content-Type"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"image/jpeg"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    w</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Content-Length"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> strconv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Itoa</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"unable to write image."</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">textHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">w http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ResponseWriter</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filename </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"./assets/note.txt"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 마지막 수정 시간 가져오기</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    file</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Stat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    modifiedtime </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> file</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ModTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    etag </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> fmt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Sprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"%x"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> md5</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token function" style="color:#d73a49">byte</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">modifiedtime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">String</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    w</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Etag"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> etag</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    w</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Cache-Control"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"private, max-age=5"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// etag가 변하지 않았다면 304 응답</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> match </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Header</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"If-None-Match"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> match </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">""</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> strings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Contains</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">match</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> etag</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">            log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"etag가 변하지 않았음으로 304 응답"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">            w</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WriteHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">StatusNotModified</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 파일을 읽은 후 응답</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dat</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> ioutil</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ReadFile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"파일 응답"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fmt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Fprint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dat</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="assetsnotetxt">assets/note.txt<a class="hash-link" href="#assetsnotetxt" title="제목으로 바로 가기">​</a></h3><ol><li>텍스트 API에서 응답할 때 사용되는 텍스트 파일인데 일부로 <code>3MB</code> 으로 무겁개 해서 캐시 효과가 얼마나 큰지 알 수 있도록 디자인하였습니다.</li><li>또한, <code>304</code> 응답 시 얼마나 응답 바디가 작은지 확인할 수 있습니다.</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="assetsindexhtml">assets/index.html<a class="hash-link" href="#assetsindexhtml" title="제목으로 바로 가기">​</a></h3><ol><li>Server API를 소비하는 Client 웹 페이지 입니다.</li><li><code>이미지 요청</code> 버튼을 누르면 이미지를 조회해서 보여주고</li><li><code>텍스트 요청</code> 버튼을 누르면 텍스트를 조회해서 보여주는 아주 간단한 웹 페이지 입니다.</li></ol><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>독자분들은 아시나요...? 정적 파일 요청을 브라우저의 URL에 직접 넣어서 요청하면 캐시 되지 않는다는 것을...🥲</p><p>분명 캐시가 적용된 URL인데 계속 요청을 해도 캐시되지 않고 새롭게 응답받길래 왜 그러지 하고 트러블 슈팅을 해보니 브라우저 URL에 직접 넣어서 호출해서 그렇더군요</p><p>그래서 아래와 같이 간단한 웹 페이지를 만들어서 호출할 수 있도록 디자인하였습니다.</p><p>에초에 GUI라서 확인하기도 쉬우실 꺼에요!</p></div></div><div class="language-html codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-html codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">ko</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">width=device-width, initial-scale=1.0</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Document</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">      </span><span class="token style language-css selector class" style="color:#00009f">.text-area</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:#393A34">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">        </span><span class="token style language-css property" style="color:#36acaa">display</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> inline-block</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">        </span><span class="token style language-css property" style="color:#36acaa">width</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">240</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">        </span><span class="token style language-css property" style="color:#36acaa">height</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">240</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">        </span><span class="token style language-css property" style="color:#36acaa">border</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:#36acaa">1</span><span class="token style language-css unit">px</span><span class="token style language-css"> solid </span><span class="token style language-css color">black</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">        </span><span class="token style language-css property" style="color:#36acaa">overflow</span><span class="token style language-css punctuation" style="color:#393A34">:</span><span class="token style language-css"> hidden</span><span class="token style language-css punctuation" style="color:#393A34">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">      </span><span class="token style language-css punctuation" style="color:#393A34">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:#393A34"><span class="token style language-css">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">style</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">onclick</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag special-attr attr-value value javascript language-javascript function" style="color:#d73a49">handleGetImage</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">(</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">)</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">이미지 요청</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">image</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">이미지가 표시 안됨</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">hr</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag special-attr attr-name" style="color:#00a4db">onclick</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag special-attr attr-value value javascript language-javascript function" style="color:#d73a49">handleGetTxt</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">(</span><span class="token tag special-attr attr-value value javascript language-javascript punctuation" style="color:#393A34">)</span><span class="token tag special-attr attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">텍스트 요청</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">br</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">text-area</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">async</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">handleGetImage</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> response </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">await</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">fetch</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript template-string template-punctuation string" style="color:#e3116c">`</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token script language-javascript template-string interpolation dom variable" style="color:#36acaa">window</span><span class="token script language-javascript template-string interpolation punctuation" style="color:#393A34">.</span><span class="token script language-javascript template-string interpolation property-access">location</span><span class="token script language-javascript template-string interpolation punctuation" style="color:#393A34">.</span><span class="token script language-javascript template-string interpolation property-access">origin</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token script language-javascript template-string string" style="color:#e3116c">/image</span><span class="token script language-javascript template-string template-punctuation string" style="color:#e3116c">`</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">response</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">ok</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> imageBlob </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">await</span><span class="token script language-javascript"> response</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">blob</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> imageObjectURL </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:#36acaa">URL</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createObjectURL</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">imageBlob</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">"image"</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">src</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> imageObjectURL</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">else</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">"HTTP-Error: "</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> response</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">status</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">async</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">handleGetTxt</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> response </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">await</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">fetch</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript template-string template-punctuation string" style="color:#e3116c">`</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token script language-javascript template-string interpolation dom variable" style="color:#36acaa">window</span><span class="token script language-javascript template-string interpolation punctuation" style="color:#393A34">.</span><span class="token script language-javascript template-string interpolation property-access">location</span><span class="token script language-javascript template-string interpolation punctuation" style="color:#393A34">.</span><span class="token script language-javascript template-string interpolation property-access">origin</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token script language-javascript template-string string" style="color:#e3116c">/text</span><span class="token script language-javascript template-string template-punctuation string" style="color:#e3116c">`</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">response</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">ok</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> text </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">await</span><span class="token script language-javascript"> response</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">text</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementsByClassName</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">"text-area"</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript number" style="color:#36acaa">0</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">innerHTML</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> text</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">else</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">"HTTP-Error: "</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript"> response</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">status</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="원하는-대로-동작하는지-확인해보자">원하는 대로 동작하는지 확인해보자<a class="hash-link" href="#원하는-대로-동작하는지-확인해보자" title="제목으로 바로 가기">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="서버-실행">서버 실행<a class="hash-link" href="#서버-실행" title="제목으로 바로 가기">​</a></h3><ol><li>자 이제 캐시가 잘 되는지 확인해볼까요? 위에서 말한 repo에서 소스코드를 clone 받고 <code>go run main.go</code> 으로 서버를 시작해 봅시다.</li><li>캐시 여부를 편리하기 보기위해서 저는 친숙한 <code>Chrome</code> 을 사용하도록 하겠습니다.<blockquote><p>대부분 비슷하긴 하지만 <code>Chrome</code> 이 아니여도 디버깅이 편하신 분은 다른 브라우저를 사용하셔도 됩니다.</p></blockquote></li><li>그리고 <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">http://localhost:8080</a> 주소로 접속하고 개발자 도구를 켜주세요! 아마 아래와 같이 화면이 될 것 입니다.<div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAABDUlEQVQYlWPw8PNpCI+JfR4RFnnN1ML2ppqW/k1NHcOb2joGN/UNTK6ZWVg/NzW3bmU4furk3GcvX/z/9OHj//TMnP9qmnr/TS2s/xsamf43AGFDk/86ugZLGN68fjP9PwT8TEhI+isqJvlXWUXtr4KiCgj/VFBU+S+voDyX4dmzZzP+/PkDUvg7Lj7xn4io5D8lZbV/Cooq/+QVlH+DFMrJK81jePXq1TSoiT/i4hP/iIhK/FFT1/6jqa3/R0lZ7Ye8gjJI4RyG169fL4Aq/B8fn/RfVEzyv5Ky2n+QSTAsJ6+0nOHMmTOpd+/e3XHv3r1VQcEha4SFxdbIySutkZGVB+FVMrIK26Vl5LIALGmKgzQxTmQAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2546" height="1886"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.1a2fd40.2546.png" srcset="/assets/ideal-img/1.1a2fd40.2546.png 2546w" width="2546" height="1886"></noscript></div></div></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="이미지-캐시-확인">이미지 캐시 확인<a class="hash-link" href="#이미지-캐시-확인" title="제목으로 바로 가기">​</a></h3><p>우선 <code>이미지 요청</code> 버튼을 클릭해 볼까요?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAABG0lEQVQYlTXKvU7CUBiA4XMRotRGen56KrQQitKAabwARxYJDAgYFnd/JxdvQR3EACExId31Cjp1JilJZezUqQuE034GjW/ybg86azQe291e2Gq251b91Nd009dLFd8omn7ZrM5rdTu0avYTOq6fDLOyDNPJBK5vHoByHayaDeaRBWbFgnKlCkbJnCJN4y8IIRiNx+vbu/tEkuTEKJaTQsFI9IKx1vI6UMaHyHXd18ViAXEcb/qXg3QvK6cqz6eE8pRSviGUQ06h7yiKomf4a9Xp9MROJiso0wQmqlCIusJE3cI3FIbhSAjxKy+6fcjsSsDUQ9iC/3MK/UCe5w2CIPhaLr9n582WI+0fOJRpDsbMUTCbYcI+cwq5+gGYsn9T25cl4wAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2546" height="1886"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.1f5ae80.2546.png" srcset="/assets/ideal-img/2.1f5ae80.2546.png 2546w" width="2546" height="1886"></noscript></div></div><p>위와 같이 요청 후 서버에서 응답된 것을 확인할 수 있네요 응답 받은 이미지 용량은 <code>1.6kB</code> 이라고 하네요! 그럼 바로 한번 더 빠르게 <code>이미지 요청</code> 버튼을 클릭해 볼까요?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAABIklEQVQYlSXKPU/CQByA8fsOvpLa3vWu1xYotBAqmMYv4MYiwUStJmjibEx8GVz4CuogpiEkJqS7fgImZpKSIGMnJhYI1/4N+iTP9kNH9frziX8RNxvNkVs7jIy8E+WsUpS37Mh2KqP9mhe7Va+NKrWDzq4kQa/bhdu7e6A8C27VA6fsgl1ywSm5YBWcHtI5f0UIQRAEy4fHp0SWcWI75aRgFZNiwV6a2TxoXO+gwWDwNh6PYT6fr1pX16m0p6SGmUs5N1JdN1eUcSCEfqDZbPYC/y1Oz3yxsbkjKNMFJppQCFsQVQMF03cUx3EghPiT5/4lbG1ngGkGqKoGa7QeY/qJhsNhazKZfE+nP/3jRjPMSHJImR4SwkJMWJ+o7EvB6s0v2vJ/u620BCkAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2546" height="1886"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.10668eb.2546.png" srcset="/assets/ideal-img/3.10668eb.2546.png 2546w" width="2546" height="1886"></noscript></div></div><p>이번에는 뭔가 요청이 된거 같으나 응답 부분의 용량이 <code>(디스크 캐시)</code> 인 것을 확인할 수 있습니다. 네, 그렇습니다 캐시되서 그렇습니다. 🤭 네트워크 요청 내역을 자세히 봐볼까요?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA3ElEQVQYlVWQSW7EMAwE9RJbXrRYkrV4JDsLkCDnnPL/x1RgTyZIDsUGyGaDoGj1oNx2anu62I9XytZIpZJLZU2nNkQIEe9WQkj4kPEhsbiVxUUWf0dbj3C5MbuMDZmYCqncLtaYWdd015gR4e0T//FFPN55aZWWN2JIzMr+wSBkJ5FdjzMLz3VnCxGrLXKY6eX0i5CDopMTxnqOdlBiQStzDU/zA/HYPI35thPihtKOaTY/2HviWbp+vG7Z6nG9xfmEsQGlF7TxzGpBaOOutLN5pg+TZpw0w6j+8Q0x3YY6j7o07QAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1596" height="1430"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.f0bceb0.1596.png" srcset="/assets/ideal-img/4.f0bceb0.1596.png 1596w" width="1596" height="1430"></noscript></div></div><p>응답 header에 <code>Cache-Control: private, max-age=5</code> 가 존재하는 것을 볼 수 있습니다. 이미지 조회 API에 넣어 둔 header인 것을 알 수 있습니다. 앞으로 5초 동안은 해당 URL 요청에 대해서 Server에 물어보지 않고 브라우저 캐시를 사용합니다.</p><p>중요한 것은 네트워크 탭에는 <strong>마치 요청된 것</strong> 같아 보이지만 실제로는 <strong>Server에 요청하지 않는</strong> 다는 것 입니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAMklEQVQImWOITCz97xtd9d8/puK/b1TZfyf/7P+23tn/XT1D/we7G/3X1zf+r6xm+h8Al80TNRjIjQoAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1252" height="102"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.a96c270.1252.png" srcset="/assets/ideal-img/5.a96c270.1252.png 1252w" width="1252" height="102"></noscript></div></div><p>Server Console을 보니까 요청이 1회 들어온 것을 확인할 수 있습니다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>앗, 혹시라도 1회 이상 요청되었나요? 그렇다면 2가지를 의심하셔야 합니다.</p><p>첫번째로 브라우저 개발자 도구에 <code>캐시 사용 중지</code> 체크 박스가 해재되어있는지 확인해주세요. 해당 체크박스가 체크되어 있으면 캐시되지 않습니다ㅠㅠ</p><p>두번째로 <code>max-age</code> 값을 올리시거나 아니면 더 빨리 버튼을 클릭해 보세요 빠른 테스트를 위해서 캐시 시간을 5초로 지정하였는데 5초가 지나면 해당 URL의 캐시는 무효화 되어 Server에게 다시 요청을 보내게 됩니다. 해당 경우가 아닌지 한번 확인해보세요</p></div></div><p>이외 아래의 RGBA 값과 <code>max-age</code> 값을 바꾸면서 테스트 해보세요. 첫 조회된 <code>max-age</code> 시간 동안은 색상 값을 변경하더라도 조회되지 않지만 <code>max-age</code> 가 지나면 변경되는 것을 확인할 수 있습니다.</p><div class="language-go codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">main.go</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-go codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">imageHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">w http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ResponseWriter</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 검은색 이미지 생성</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    tempImage </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> color</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RGBA</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">255</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    w</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Cache-Control"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"private, max-age=5"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="텍스트-캐시-확인">텍스트 캐시 확인<a class="hash-link" href="#텍스트-캐시-확인" title="제목으로 바로 가기">​</a></h3><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>텍스트 확인 전 혹시 모르니까 캐시를 모두 날리면서 테스트 하세요. 개발자 도구를 활성화한 상태에서 새로고침 버튼에서 오른쪽 마우스를 클릭하면 아래와 같이 강력 세로고침 매뉴을 볼 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAABDUlEQVQYlTXMvU6DUBjG8XMPLcRGyjlwCA0BUiDUGjs76ORH55L6NXgVLt6COlhDjIkJwVln05G5CQOMNIG6twHOa4j1SX7bPw86PD66sx13SQhdKKoWa6YTa4YV64YV9y13sbc/Wg6Go3v0PZ/PPoIAXn0fTk7HoJsOuMMDsJ0BWA3bBcO03tDPavUIf9tcXt3UHN+pqdKriaQ0NkRSABM6Q1mWPZVlCYyxcuJNWZvrMJmqjEgKw4SWTShi+QXlef6wfVxPvGnV5nYqtadXmt6vZKquMaFN+IyKovC3IXjeBXB8B2SqQvP0T8TyO4qi6DpJkq80TYOz83HYavGhiOVQ6OJGIHTJ564g3v4C8AGHQU1Q5vAAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2546" height="1886"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.93bb876.2546.png" srcset="/assets/ideal-img/6.93bb876.2546.png 2546w" width="2546" height="1886"></noscript></div></div></div></div><p>자 이제 <code>Etag</code> 가 있는 텍스트 입니다. <code>텍스트 요청</code> 버튼을 클릭해 볼까요?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAABFUlEQVQYlWPwCvBriIpPeB4ZHnXN1Nz2ppqW/k0tHYOb2joGN/UNTK6ZWVg/NzW3bmXYuWf33Gs3b/x///bt/4ys3P9qWvr/TS1s/hsamf43AGFDk/86ugZLGPbt2zf92NGj/9+8efMzIzP7r4SU7F8tbb2/mhpafzU1dX6qaOv/V1JSmctw8eLFGQ8ePPj/9evX3wmJyf9ERCX+Kauo/1NUVAHh3wqKKv/l5JXmMbx582bafwj4ERef+EdUTPKPsor6HwVFFRD+AVU4h+HVq1cLoAr/x8cn/RcVk/yvrKL+H6QAhuXklZYznDlzJvXu3bs77t27tyosPHKNlLTsGiVltTUKCspr5BWUVykoKm+Xk1fMAgC6d4ji6g2T7wAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2546" height="1886"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.815b419.2546.png" srcset="/assets/ideal-img/7.815b419.2546.png 2546w" width="2546" height="1886"></noscript></div></div><p>위와 같이 <code>3.1MB</code> 으로 묵직한 텍스트가 응답되었습니다. 매 요청마다 <code>3.1MB</code> 을 다운로드 하면 모바일 환경에서 데이터는 남아나지 않을 것 입니다. 바로 또 다시 <code>텍스트 요청</code> 버튼을 클릭해 볼까요?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAABHElEQVQYlWPwCvBriIpPeB4ZHnXN1Nz2ppqW/k0tXcOb2jr6N/UNTa6ZWVg/NzW3bmXYuWf33Gs3b/x/9/bt/4zM3P9qmrr/Tc2t/xsamf3XNzT5b2Bo+l9H12AJw759+6YfO3r0/5s3b35mZmX/lZSU/qujq/9XW0v3r5aWzk81Da3/KqoacxkuXrw448GDB/+/fv36OzEp5Z+IqMQ/FVWNf8rKqiD8W0FJ5b+cgvI8hjdv3kz7DwE/4uIT/4iISf5RUlb7o6Co8kdeUeWHgqLKfzl5pTkMr169WgBV+D8+Pum/qJjkf2UV9f8gBTAsL6+0nOHMmTOpd+/e3XHv3r1VYeGRa6Sk5dYoKautkVdQBuFVCorK2+XkFbMAyamI/CJ6d6oAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2546" height="1886"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/8.ef16521.2546.png" srcset="/assets/ideal-img/8.ef16521.2546.png 2546w" width="2546" height="1886"></noscript></div></div><p>텍스트 파일도 이미지 파일과 동일하게 <code>Cache-Control: private, max-age=5</code> 가 설정되어 있기 때문에 5초 동안 캐시되어 있는 것을 확인할 수 있습니다. 그럼 이번에는 5초 기달렸다가 요청을 보내볼 까요?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAABG0lEQVQYlS3KT0vCYBzA8edF5GAKPs/27I/sT3NgKYzeQIfolOhBzZDKehFdegvVIaNDEMjuFcVudtplF2mHjd2EMek0UJz+YtgXPrcvOjw+uml3e7NWsz3daxz4klL1Fd30Va3qG2ZtWm9Ys/26dYs+vj5HU/8HfudzOL+4BrGiQ61ugWHWwKhuqZrxghzHuf+eTCBJkuXl8GrNFktrfddca6qeW0oVBSgVR8jzvIcoiiBN01X/bLBhGHYjycpGFOXciqcSEMI/oSRJ7mDbotM5zXYKbMZTKcNEyDChC8IJUMb8I4rj+Pl/hG6vDwWGBSrIwHEC5FMOY/4Vua47CILgPQzD8UmzZRdLZZunkk0ItTGhY8LRtzLmhn/TFIkRG1+MxwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2546" height="1886"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/9.2161684.2546.png" srcset="/assets/ideal-img/9.2161684.2546.png 2546w" width="2546" height="1886"></noscript></div></div><p>이번에는 <code>141B</code> 로 매우 가벼운 응답이 온 것을 확인할 수 있습니다.</p><p>이유는 파일이 변경되지 않았기 때문에 Server에서 <code>ETag</code> 가 변경되지 않아 이전과 <code>ETag</code> 가 동일하기 때문에 <code>304</code> 를 응답하기 때문입니다.</p><p>덕분에 캐시가 끝나서 다시 <code>3.1MB</code> 응답받을 뻔! 했지만? Server에서 변경되지 않았다고 <code>304</code> 상태 코드와 <code>ETag</code> 를 header 응답해줘서 5초 동안은 캐시될 수 있도록 생명연장이 되었습니다. 😤 😮‍💨</p><p>그러면 궁금한 것이 이전 <code>ETag</code> 를 Server는 어떻게 알고 있는 걸까요?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA40lEQVQYlT2P246EIBBE/ZDxiogICKiMOpN92WT//5POBtedh5N0OtVdVUXaduK6s6XMQdpfhCXh48bsF3xI+LBSWDtjjMNaj5sjxvoL6wLTvZPKUGifEDogR8eoLePkkGpC9IpODBd5Lvr9h8fyzRBfxLjhY8K4QNP2tJ38UNRlTV1WKKVZ08lkPMNori9ZXDfiT9i0krrpkVJzFYsbwS/Md94cQw46C3uqRjAqzdd+8n4eJB8JxjFkkZpu60ZQVS1CjqzPE20Dj6qlrLvL9p8iX+VMufG6HYRcxgZ0bj/oj/Uva+iGQ0I8cWcAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1594" height="1428"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/10.fda71f8.1594.png" srcset="/assets/ideal-img/10.fda71f8.1594.png 1594w" width="1594" height="1428"></noscript></div></div><p>진실은 Client (브라우저) 가 알아서 포함해서 보내기 때문입니다.</p><p>텍스트도 이미지와 같이 <code>max-age</code> 값을 바꾸거나 텍스트 파일을 수정해보면서 어떤 식으로 돌아가는지 확인해보세요. <code>ETag</code> 가 없을 때 캐시가 만료되면 어떻게 동작하는지 직접 확인하면 이해가 빠를 것 입니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="마무리">마무리<a class="hash-link" href="#마무리" title="제목으로 바로 가기">​</a></h2><p>만들고나니 엄청나게 특별한 로직이 존재하지는 않았습니다. 그래도 실제로 캐시 유무에 따른 변화와 함께 상용으로 사용되는 웹 서버도 이와 비슷한 메커니즘으로 처리되겠구나 하는 것을 인지할 수 있었습니다.</p><p>덕분에 앞으로 웹 앱을 배포하고 무작정 캐시 문제라고 생각할 것이 아니라 논리적으로 트러블 슈팅을 할 수 있는 귀중한 경험치가 될 거 같습니다.</p><p>저와 같이 블랙박스 영역의 웹 서버 로직이 궁금하셨을 분들에게 조금이라도 도움이 됬으면 하며 저는 이만 물러가도록 하겠습니다. 읽어주셔서 감사합니다. 😀</p>]]></content:encoded>
            <category>golang</category>
            <category>HTTP</category>
            <category>cache</category>
        </item>
        <item>
            <title><![CDATA[gin과 함께하는 react boilerplate를 공유합니다]]></title>
            <link>https://parkgang.github.io/blog/2021/09/13/share-react-boilerplate-with-gin</link>
            <guid>/2021/09/13/share-react-boilerplate-with-gin</guid>
            <pubDate>Mon, 13 Sep 2021 04:09:19 GMT</pubDate>
            <description><![CDATA[Gin 을 사용하면서 손쉽게 config 변경도 가능하고 CRA 를 사용할 수 있는 boilerplate가 어디 없나? 그래서 만들어봤습니다.]]></description>
            <content:encoded><![CDATA[<p><code>Gin</code> 을 사용하면서 손쉽게 config 변경도 가능하고 <code>CRA</code> 를 사용할 수 있는 boilerplate가 어디 없나? 그래서 만들어봤습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="tldr">TL;DR<a class="hash-link" href="#tldr" title="제목으로 바로 가기">​</a></h2><ol><li>gin + react boilerplate 이며 <a href="https://github.com/parkgang/react-with-gin-boilerplate" target="_blank" rel="noopener noreferrer">parkgang/react-with-gin-boilerplate</a> 에서 살펴보실 수 있습니다.</li><li>prod 환경도 json 가져와서 사용하는데 이는 보안에 위험할 수 있으니 기호에 맞게 수정해서 사용해주세요.<blockquote><p>예를 들어 환경변수로 바꾸기</p></blockquote></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="왜-만든건가요">왜 만든건가요?<a class="hash-link" href="#왜-만든건가요" title="제목으로 바로 가기">​</a></h2><p>그동안 golang으로 그렇다 할만한 제품이 없어서 개인 프로젝트로 제품을 하나 제작해보려고 했습니다.</p><p>여러 golang의 웹 프레임워크 중 이전부터 많이 찾아보기도 헀고 지켜보고 있던 <code>gin</code> 으로 정하고 개발을 하려고 딱 준비를 했더니 신기한 점을 발견할 수 있었습니다.</p><p>뭐 라이브러리나 프레임워크가 얼마나 제공해주느냐에 따라 다르겠지만 기본적으로 개발 환경에 맞는 <code>config</code> 값을 주입받을 수 있는 기능과 같이 기본적인 기능이 <code>gin</code> 에 있을 줄 알았지만 없었습니다.</p><p>물론 <code>gin</code> 자체가 마이크로 웹 프레임워크 이므로 웹 프레임워크게 딱 필요한 기능있는 것이 맞습니다.</p><p>하지만 결국에 제품 개발을 하면서 환경분리 라던지~ 문서화 도구라던지~ 웹 프레임워크에 점점 살이 붙어져 나갈 텐데 이걸 일일이 프로젝트 마다 셋팅하는 것은 비효율적이라고 생각했습니다.</p><p>더구나 필자는 최근에 Server Side는 <code>ASP.NET Core</code> Client Side는 <code>CRA</code> 을 주로 개발해 왔었고 이외도 Server Side는 <code>express.js</code>, <code>nest.js</code> Client Side는 <code>next.js</code> 으로도 간단하게나 개발 경험이 있었는데 <code>ASP.NET Core</code> 같은 것만을 봐도 없는 기능이 무엇인 가 싶을정도로 많은 것을 지원합니다.</p><blockquote><p>특히 <code>config</code> 부분을 기본적으로 제공하는 기능이 마음에 들었습니다.</p></blockquote><blockquote><p>너무 익숙함에 속아서 그런지 <code>gin</code> 에 살짝 당황했었던... 🥲</p></blockquote><p>그래서 이참에 높은 이해도를 가지고 프로젝트를 시작하고 싶어 <code>gin</code> 에다가 <code>cra</code> 환경의 react를 사용하는 boilerplate를 만들기로 결심했고 미숙하지만 만들어진 결과물을 공유하려고 합니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="어떤-것을-중점으로-만들-것인가">어떤 것을 중점으로 만들 것인가?<a class="hash-link" href="#어떤-것을-중점으로-만들-것인가" title="제목으로 바로 가기">​</a></h2><p>당연히 기본은 gin server에서 react app 개발이 잘 이뤄지는 것이지만 그래도 저는 프로젝트 스트럭처에 관심많고 명확하고 깔끔 하이어라키를 디자인하고 싶어서 당연한 기본적인 목표 이외 아래의 목표를 추가로 설정하였습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="엄격한-타입-정의">엄격한 타입 정의<a class="hash-link" href="#엄격한-타입-정의" title="제목으로 바로 가기">​</a></h3><p>ts의 유틸리티 타입을 적극 사용해서 우아한 타입을 선언</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="모호한-문법말고-명확하고-일관성-있게">모호한 문법말고 명확하고 일관성 있게<a class="hash-link" href="#모호한-문법말고-명확하고-일관성-있게" title="제목으로 바로 가기">​</a></h3><p>특히 js/ts에서 이런 고민이 많이 발생하는데 예를 들어 어떤 경우에 익명함수를 사용할지 화살표 함수를 사용할 지, 모듈에서 <code>default</code> 으로 export 되는 친구는 변수명 바로 옆에 <code>export default</code> 으로 선언해줄지 해당 파일의 가장 마지막 줄에 선언할 지, 컴포넌트마다 디렉터리를 만들어서 <code>index.ts</code> 으로 export 해주는 전략을 사용할지 등 꽤나 고민되는 요소가 많이 있습니다.</p><p>필자는 이런 부분의 규칙을 만드는 것에 매우 관심이 많음으로 이 부분을 감안하여 일관성있는 boilerplate를 만들고 싶었습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="server-side-api-문서화-및-http-status-code-명확하게-디자인">Server Side API 문서화 및 Http Status Code 명확하게 디자인<a class="hash-link" href="#server-side-api-문서화-및-http-status-code-명확하게-디자인" title="제목으로 바로 가기">​</a></h3><p>요청 성공하면 대충 <code>200</code> 으로 response 하는 것이 아닌 각각의 요청 처리에 맞는 Http Status Code 적절히 사용하고 싶었습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="recoil-react-query를-이용하여-react-명확하게-상태관리하기">recoil, react-query를 이용하여 react 명확하게 상태관리하기<a class="hash-link" href="#recoil-react-query를-이용하여-react-명확하게-상태관리하기" title="제목으로 바로 가기">​</a></h3><p><code>recoil</code> 과 <code>react-query</code> 모두 아주 대중적으로 사용되는 라이브러리 아닙니다.</p><blockquote><p>물론 <code>redux</code>, <code>context api</code> 친구와 비교한다면 이며 기준은 상대적입니다.</p></blockquote><p>필자는 해당 라이브러리를 너무 좋아한다 그래서 이번 boilerplate에 예제 코드를 넣어서 혹시라도 다른 분들께 insight를 전달할 수 있지 아늘까라는 기대로 넣으려고 했습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="예외처리">예외처리<a class="hash-link" href="#예외처리" title="제목으로 바로 가기">​</a></h3><p>제품 레벨으로써는 너무나도 당연한 것이지만 boilerplate으로 써 앱이 돌아갈 수 있는 환경까지 이면 되는데 여기에 예외처리까지 잘된 코드를 넣고 싶었습니다.</p><blockquote><p>문서화는 덤 ✌️</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="microsoft-teams-ui-component">Microsoft Teams UI Component<a class="hash-link" href="#microsoft-teams-ui-component" title="제목으로 바로 가기">​</a></h3><p>react에 많은 component framework가 있지만 그 중에서도 아주 외소한 <code>@fluentui/react-northstar</code> 를 사용해서 Teams 룩앤필이 된 예제코드를 넣고 싶었습니다.</p><p>직장내에서 매신저 앱으로 slack 혹은 teams 혹은 회사마다 다른 사내매신저를 사용하실 텐데 teams를 사용하시는 곳이라면 해당 boilerplate를 보고 오 teams app이다 라는 반가움을 전달하고 싶었습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="디버깅-환경">디버깅 환경<a class="hash-link" href="#디버깅-환경" title="제목으로 바로 가기">​</a></h3><p>프로젝트는 쉽게 실행되어 디버깅에 불편함이 없어야 개발하면서 계속 즐거움이 유지된다고 생각합니다. 이를 꼭 만족시키기 위해 좋은 디버깅 설정 rnd 했습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="제작-완료-회고-및-마무리">제작 완료 회고 및 마무리<a class="hash-link" href="#제작-완료-회고-및-마무리" title="제목으로 바로 가기">​</a></h2><p>이렇게 위와 같은 목표로 boilerplate가 완성되었습니다.</p><p><a href="https://github.com/parkgang/react-with-gin-boilerplate" target="_blank" rel="noopener noreferrer">parkgang/react-with-gin-boilerplate</a> 에서 만나보실 수 있으며 기존 예제 코드가 마음에 안드는 경우</p><blockquote><p>예를 들어 mysql을 사용하지 않는 다거나 그냥 바닐라 cra을 원하는 경우</p></blockquote><p>기호에 맞게 수정해서 사용하시면 됩니다.</p><p>이외 개발하면서 생각보다 많은 지식을 필요로 하는 부분은 SPA 이였습니다. 번들링된 정적파일 서빙 부터 CSR Router까지 Front End의 기본을 잘 이해하고 접근해야하는 부분이였는데 상당히 재미있었습니다.</p><p>끝으로 부족한 실력으로 boilerplate를 만들어 보았는데 사용하시는 분이 계실지 모르겠네요. 혹시라도 사용하시게 된다면 티를 내주시면 감사하겠습니다! 그러면 많은 동기부여가 될꺼 같아요! 읽어주셔서 감사합니다.</p>]]></content:encoded>
            <category>promotion</category>
            <category>boilerplate</category>
        </item>
        <item>
            <title><![CDATA[next.js의 SSG 제대로 이해하고 사용하기]]></title>
            <link>https://parkgang.github.io/blog/2021/09/07/lets-properly-understand-and-use-the-ssg-of-nextjs</link>
            <guid>/2021/09/07/lets-properly-understand-and-use-the-ssg-of-nextjs</guid>
            <pubDate>Mon, 06 Sep 2021 15:09:55 GMT</pubDate>
            <description><![CDATA[next.js의 장점 중 하나로 SSR 을 지원하는 것 인데 어떻게 전역 상태를 가지고 있는 걸까? PHP, JSP와 같은 SSR과 다른 걸까?]]></description>
            <content:encoded><![CDATA[<p>next.js의 장점 중 하나로 <code>SSR</code> 을 지원하는 것 인데 어떻게 전역 상태를 가지고 있는 걸까? PHP, JSP와 같은 SSR과 다른 걸까?</p><p>내가 아는 SSR은 Server Side에서 각 페이지 별로 html을 생성해서 Response (혹은 파일 서빙) 을 해주는 것인데 next.js를 공부하고 사용해보면서 이부분에서 아직 찝찝한 부분이 있어서 next.js도 그렇게 동작하는게 맞는가? 에 대한 의문이 항상있었습니다.</p><blockquote><p>물론 SSR 단어 뜻 그대로 서버 측에서 렌더링 한다라는 뜻을 의미하지만 필자는 계속 JSP 같은 전통적인 SSR와 엄청 햇갈렸습니다.</p></blockquote><p>그동안 CRA 환경 즉, SPA에서 개발을 하고 있었는데 갑자기 next.js의 원리에 대해 궁금해서 이참에 다시 정리를 해보면서 얻은 경험치에 대해 공유해보려고 합니다.</p><p>그럼 SPA를 가공할 수 있는 여러 형태라고 할 수 있는 CSR, SSG, SSR를 비교하면서 설명해보도록 하겠습니다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>추가적으로 해당 글에서는 SPA, CSR, SSG, SSR과 같은 단어 설명과 next.js에 대한 설명을 포함하고 있지 않습니다.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="tldr">TL;DR<a class="hash-link" href="#tldr" title="제목으로 바로 가기">​</a></h3><ol><li>next.js에서 말하는 SSR도 사실 하나 뿐인 SPA으로 동작합니다.</li><li>다만, empty html의 SPA 형태가 아닌 Server Side에서 미리 가공된 html을 가지고 SPA으로 동작합니다.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="내가-알고-있던-ssr은">내가 알고 있던 SSR은?<a class="hash-link" href="#내가-알고-있던-ssr은" title="제목으로 바로 가기">​</a></h2><p>필자는 SSR를 들었을 때 가장 처음으로 떠오른 것은 jsp 이였습니다.</p><p>Client가 요청한 페이지를 Server Side에서 열심히 가공해서 Response 하는 것을 말이죠</p><p>이는 주로 SSR를 설명할 때 가장 많이 소개되는 시나리오로 다른 페이지로 넘어갈 때 페이지의 내용을 새로 가공해서 넘겨주기 때문에 <strong>화면이 깜빡</strong> 한다 라고 하는 그 메커니즘을 가진 친구입니다.</p><p>근데 next.js 해보면 SSR임에 불구하고 아주 부드럽게 CSR처럼 화면 전환이 이뤄지는 것을 볼 수 있습니다.</p><blockquote><q>어라...? 내가 뭔가 잘못 이해했구나...</q></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="그런데-어떻게-전역-상태가-관리되는-거지">그런데 어떻게 전역 상태가 관리되는 거지?<a class="hash-link" href="#그런데-어떻게-전역-상태가-관리되는-거지" title="제목으로 바로 가기">​</a></h3><p>이뿐만이 아니라 위에 내가 알고 있는 SSR을 대입하면 전역 상태는 어떻게 관리되는 건지 의문이 생깁니다.</p><p>이동하는 매 페이지는 다른 html인데 전역 상태가 불가능 할 것입니다.<br>
<!-- -->하지만 next.js는 SSR임에 불구하고 잘 처리됩니다.</p><p>사실 next.js only SSR이 아닌 CSR과 SSR의 장점을 섞은 방식인 것을 알 수 있습니다.<br>
<!-- -->그럼에도 불구하고 SSR 단어는 계속 이전 개념과 충돌하게 되었습니다.</p><p>혹시라도 저와 같으신 분이 있다면 해당 글로 이해가 풀리셨으면 좋겠습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="그럼-nextjs의-ssr은-어떻게-작동하는거야">그럼 next.js의 SSR은 어떻게 작동하는거야?<a class="hash-link" href="#그럼-nextjs의-ssr은-어떻게-작동하는거야" title="제목으로 바로 가기">​</a></h2><p>가장 햇갈리고 오해하기 쉬운 것이 SSG, SSR 개념이 들어가니 모든 페이지가 정적으로 구어져있고 페이지 이동마다 Server Side에서 구어진 파일을 응답해서 탐색하겟지? 일 수 있습니다.</p><p>하지만 아닙니다! <ins><strong>첫 요청하는 페이지에 대해서만</strong></ins> SSG 혹은 SSR으로 Server Side에서 미리 구어 놓은 파일을 응답하는 것이고 그 이후부터는 router를 통해 이동하는 것은 CSR 입니다.</p><p>사실 next.js에서 말하는 SSG와 SSR은 Server Side에서 build 시점에 구어 줄까?<sup>SSG</sup> 아님 요청마다 구어 줄까?<sup>SSR</sup> 라고 봐도 무방합니다.</p><p>결국에는 첫 요청하는 페이지만 Server Side에서 구어진 파일을 사용하고 이후 부터는 CSR입니다.</p><p>그렇기 때문에 전역 상태와 같은 것이 가능한 것입니다. 첫 요청한 페이지를 SPA 삼아서 CSR를 하기 때문이죠 마치 다른 페이지로 이동하면 다른 구어진 파일을 사용했구나 싶을 수 있지만 사실 CSR으로 이동 중 인 것입니다.</p><blockquote><p>물론 이동한 경로에서 새로고침을 하면 해당 URL 기준으로 다시 구어진 파일을 받겠지만요</p></blockquote><p>그래서 next.js의 SSR를 설명할 때 SSG와 SSR를 빼고 설명하기가 참 어려운 거 같습니다.</p><p>이 때문에 next.js에서 말하는 SSR을 말 그대로 Server Side에서 처리하는 렌더링이라고 생각하시는게 이해에 좋습니다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>참고로 next.js의 Pre Rendering 시스템은 기본적으로 SSG으로 동작하며 Server Side에서 build시 기본 파일을 구어내고 매 요청마다 재사용하게 됩니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="serverless">serverless<a class="hash-link" href="#serverless" title="제목으로 바로 가기">​</a></h2><p>Static으로 구어지기 때문에 next.js server 이외 serverless deployment가 동작할 수 있는 것을 생각할 수 있습니다.</p><p>사실 이 부분이 궁금했습니다. 이걸 잘 응용하면 굳이 정적 사이트 생성을 위해서 <code>Gatsby.js</code> 을 사용하지 않을 수 있을까라는 생각으로 말이죠</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="한번-해보자">한번 해보자<a class="hash-link" href="#한번-해보자" title="제목으로 바로 가기">​</a></h3><p>실습을 위해서 <a href="https://github.com/parkgang/next.js-ssg-tutorial" target="_blank" rel="noopener noreferrer">parkgang/next.js-ssg-tutorial</a> 코드를 참고하시면 됩니다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>코드 상태는 정말 안 좋으므로 돌아가는 샘플로서만 사용해 주세요.</p><blockquote><p>해당 글 샘플을 위해서 태어난 코드라 상태가 🤭</p></blockquote></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>해당 글을 위해서 따로 소스 코드를 생성할 까 싶었지만 사전에 미리 SSG를 테스트 하면서 이용 된 <a href="https://docs.microsoft.com/ko-kr/azure/static-web-apps/deploy-nextjs" target="_blank" rel="noopener noreferrer">정적으로 렌더링된 Next.js 웹 사이트 배포</a> 템플릿이 글에 사용할 수 있어서 해당 템플릿 코드를 수정해서 사용했습니다.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="export">export<a class="hash-link" href="#export" title="제목으로 바로 가기">​</a></h3><p>제가 미리 <code>export</code> 명령어를 작성해 놓았습니다.</p><p><code>next</code> 디렉터리에서 <code>npm run export</code> 를 실행하여 <code>express/public</code> 으로 Static Html으로 export 되는지 확인합니다.</p><blockquote><p>굳이 <code>express/public</code> 으로 export 하는 이유는 이따가 설명드릴께요.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="왜-파일시스템에서는-안되는-걸까">왜 파일시스템에서는 안되는 걸까?<a class="hash-link" href="#왜-파일시스템에서는-안되는-걸까" title="제목으로 바로 가기">​</a></h3><p>여기서 궁금증이 생겻습니다. Static Html 인데 파일 시스템에서 router 동작이 어떻게 될까요?</p><p><code>express/public</code> 에 있는 파일은 serverless 환경에서 돌릴 수 있는 순수한 Static Html 입니다.</p><p>한번 웹 브라우저에서 해당 파일 경로로 파일을 열어볼까요?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA50lEQVQYlWMwsTDJsrCxOWRmZrXZ2MRim76R2TZ9I9Nthkam2/T0jTebm1scNDczLmBYs3nL/L2Hj/w/euTo/4sXL/+/cPHK//MXL/2/ePHS/wsXLv6/cuXK/3379q5gOH/n+bS3P/6DAIj8g4bBMm/fvp3HsPLwrRmXn335////v99//vz99/cvAv/58+c3SOGLFy8WMOy9/Gjajddgjd///vv3+x8qBku8fv16HsPBC/cWPnjzDWz3v39gCg7+QQVev369iiG9e1HApNW7J129eL791OkznWfOoOD2c+fOTdy/f38oACkD4PoPFENLAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2588" height="1808"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.925c0f2.2588.png" srcset="/assets/ideal-img/1.925c0f2.2588.png 2588w" width="2588" height="1808"></noscript></div></div><p>짠, 뭔가 나오긴 하는데 대충 봐도 css가 모두 깨져있는거 같습니다. 원래 해당 앱은 아래와 같이 렌더링 되어야 하거든요</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAABFUlEQVQYlR3NvU7CUACG4XM5GqqRKAR10Ttw8SacvAvSUQfihLoZV5IuxRSVUvtjbIokTCYEA/QvxRba0nPaz5ThTZ7tJUfHtavTs/O3Wv2kw3FVYYerCrvcgVCp7AvcXrVTqzdeG/XDa9Lt9e6Ho29YXyYURcOgL0Puv0P5UGGZJkbDIURRfCLpKmotN0BIkQJgn7OYWXbCSjtxnnopEAV+m/iuczcL1lgs1xTIix8vLn6DpCg9cUO6WMZw7fkDmc3nLRQ5GKNJlmW0YIzmjG7zwjj1owSeY7eJ6zqPG1ZgQ8sbMPUjTN2/rV/GNrpjB9kqeCaSJF0Yhn6raVpT1w1eHij8QFF4wzB4VVWbuq7fSJJ0+Q9qjN++1KqBDwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2588" height="1808"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.3e41a79.2588.png" srcset="/assets/ideal-img/2.3e41a79.2588.png 2588w" width="2588" height="1808"></noscript></div></div><p>이외에도 link인 파란색 글자를 클릭해보면 아래와 같은 화면이 나오면서 정상동작 하지 않는 것을 확인할 수 있습니다. url 경로를 보더라도 에초에 존재할 수 없는 경로로 요청을 보내는 것도 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA10lEQVQYlXWMO0oEQRCG+xrz6K7u6vf0sPiYRUSYwBOYeImN9hZiqMFi5CMT04XJ9VIOzDAlrRstGHz8VfV/FDu7ON9c9v3X9VW/X7Ung/HtYEMafEhDTKt9160/193plmkfX1zTUgyJrG0IbUPaRbK/NORDIufCO+Nc7rhQZFwcfUgzop0F4AxS5xwFINVcPjMB+CSVIdRu8qFdULsFpF6kMpkpdwLwlQlQu7xIZb5B6imThcM8/okqf1RvB/FfBOAHK4r6pqz4Y1nxu7Li90fk20NR1Lc/djxWfh9Ip40AAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2588" height="1808"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.ef0a323.2588.png" srcset="/assets/ideal-img/3.ef0a323.2588.png 2588w" width="2588" height="1808"></noscript></div></div><p>이에 대한 이유는 export된 파일의 <code>index.html</code> 을 열어보면 알 수 있습니다. 아마 대충 아래와 같은 형태를 가지고 있을 것입니다.</p><div class="language-html codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">index.html</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-html codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">en</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">stylesheet</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">data-href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">https://fonts.googleapis.com/css?family=PT+Sans:300,400,700,800</span><span class="token tag attr-value entity named-entity" style="color:#36acaa">&amp;amp;</span><span class="token tag attr-value" style="color:#e3116c">display=optional</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">preconnect</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">https://fonts.gstatic.com</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">crossorigin</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">utf-8</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">width=device-width</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">next-head-count</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">2</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">preload</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">/_next/static/css/8964a576241b890e8a20.css</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">as</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">style</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">stylesheet</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">/_next/static/css/8964a576241b890e8a20.css</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">data-n-g</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">noscript</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">data-n-css</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">noscript</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">defer</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">nomodule</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token tag" style="color:#00009f">      </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>보니까 각종 css 및 script에 대한 정보를 <code>/</code> 경로로 요청하는 것을 볼 수 있습니다.</p><p>당연히 <code>/</code> 하위 경로에 해당 파일이 없을 테니 css가 깨지는 것은 당연합니다.<br>
<!-- -->한번 <code>index.html</code> 만 <code>/</code> 으로 되어 있는 부분을 모두 <code>./</code> 으로 변경하고 다시 열어볼까요?</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Editor에서 <code>/_next</code> =&gt; <code>./_next</code> 으로 찾아서 변경하면 편리합니다.</p></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAABEUlEQVQYlR3NvU7CUACG4XNFDGILqMFbcPEmnLwL0lEH4oS6GVeSLmCKJrS25wxgJWEyMSiF/qS1pbT0nPYzMLzJs71EOmlctdrnb+3WWf9UaqpyvaE2jmW1VZfUWu2oL8nN16ZcvybD0ejentn4nExgmQymruNdH8OyKD6mE8xsG4PB4Inkm6Qb7YCYIwcg2G8qpqtM7O2mZe7nQBIGPRJ47t0yTLGKUg6U1Ze/rX7CrNr724v5KtrCWzsPZOk4XVQlhOBZURS8EoKXgh/y420eJBl8d90jnuc+7kSFHd/fgEWQYOH9HfwyX2M4d1FswmeiadoFY/TWsqwOpUwZ64aiG4bCGFNM0+xQSm80Tbv8Bwn94FksibVmAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2588" height="1808"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.fa0d3a1.2588.png" srcset="/assets/ideal-img/4.fa0d3a1.2588.png 2588w" width="2588" height="1808"></noscript></div></div><p>이제 css 파일이 깨지지 않고 정상적으로 렌더링되는 것을 확인할 수 있습니다.
하지만 여전히 router 기능은 동작하지 않는 것을 확인할 수 있습니다. 왜 그런 것 일까요?</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="express-server">express server<a class="hash-link" href="#express-server" title="제목으로 바로 가기">​</a></h3><p>사실 기본 옵션으로 <code>next export</code> 되었을 때의 경로가 <code>/</code> 으로 설정되어 있다는 것과 link시 이동되는 경로도 <code>/</code> 를 기준으로 하고 있는 것을 보면 결국 리소스 탐색을 위해서 <code>basePath</code> 가 필요하다는 것을 알 수 있습니다.</p><p><code>basePath</code> 지정하는 가장 쉬운 테스트 방법으로 web server에서 static file를 서빙해주는 것입니다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>도메인 자체가 리소스의 <code>/</code> 이기 때문입니다.</p></div></div><p>중요한 것은 next.js server 이외에서 돌아갈 수 있는 것입니다.
static html을 클라우드와 같은 static web host에 push하고 사용할 것이기 때문입니다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>사실 export된 static 파일을 파일시스템에서 돌려볼 일은 없을 것입니다. 그럼에도 넣은 이유는 메커니즘에 대한 설명을 위한 것이었습니다.</p></div></div><p>이를 위한 테스트를 위해서 <code>express</code> 에 express server 코드를 작성해 놓았습니다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>일부로 express 코드도 공식문서와 동일하게 맞춰놓았습니다. 코드 리딩이 쉽도록요!</p></div></div><p>아까전에 <code>index.html</code> 경로 수정해서 찝찝하므로 다시 <code>next export</code> 후 <code>express</code> 디렉터리에서 <code>npm run start</code> 를 실행해서 서빙되는 정적파일이 잘 동작하는지 확인해봅시다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA50lEQVQYlV3NzUrDQBAA4H0bsZhCq0SFFqS+gBdfwpNvUTzqoXhq9SZeCz3VGHNNuhvtG2RzWAlYL7WG2ZmRiULBgY9hhvlRB8fhRX9wmvR6J9O9oDvbabUbu61gFrQ70zA8ejkM9y/Vc5JMFnnORhs25pUzLQxrYXJ+Wy75aT5/UKuP1Yh/45uZ/T/S46qqxsra8haJGMCD954QkT7XdcN7DzJYFMWdsmU5ImZGxA0RgVjXAF81ACI2F621Y+Xc+70UiNj8lyUmYhJ/Pefco4rj+ExrfZOm6TDLsqutheSh1vo6iqLzHyVW42vEcKKdAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2588" height="1808"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.361b189.2588.png" srcset="/assets/ideal-img/5.361b189.2588.png 2588w" width="2588" height="1808"></noscript></div></div><p>next.js server 이외 다른 server에서 css 및 router가 정상적으로 동작하는 것을 볼 수 있습니다.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>만약, 도메인의 하위 경로를 바꾸고 싶다면 <a href="https://nextjs.org/docs/api-reference/next.config.js/basepath" target="_blank" rel="noopener noreferrer">basepath</a> 를 참고하세요.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="숨겨진-router의-원리">숨겨진 router의 원리<a class="hash-link" href="#숨겨진-router의-원리" title="제목으로 바로 가기">​</a></h3><p>맨 위에서 부터 첫 페이지 요청만 html 파일을 받고 이후에는 CSR이라고 설명했었습니다.
다시 한번 export된 파일의 구조를 한번 봐볼까요?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAhCAYAAADgWTpIAAAACXBIWXMAAAsTAAALEwEAmpwYAAACtUlEQVQ4jW2Uy5LqNhRF+Yp0A5b8kOSHZGMwLwMNdCfc5CaZ5A66kkH+/zdWSjK4k9sZYOzyrnW8t845k1h12OaKKQ4U9ZWivpDbM/Xyhq6OPEeWqaiZRFGFPL2jr39RlAfK5g2RroiSJfO4DaKZbJhMI4vd3KjWP6OLI6Y6hRcPkr8PxOd5jXEdl99OZKYnzfckekOit4E6EmeRQxRbyq/vxNmaxAwCX34eL/5VWjjmaYd9+xNdHYjV5l7a/be0v0wjx+n6K3Z5DVRPmslBNPw/hKKmPH/DrH4MZZ9EzbOniuE3FQ0Tf6NERXZ8x3VfKNKWLGlIhSWVjkw65p7ohZUoyTe/U61u5GqNVh1JXBPHC8rYEUs3lFbCossd/fYazCT5nlhvkWaHSlukcJ5YY6RlFi846gqlNyHL1OyI0lUoPRK1qCibE6vDLyHozAv1lsyfv+oG4vRO9ORzqlHah74jNVtmyTKYih/xBGJ9ZNV/QaZd+E5PncVtcD4KPXEqG66qQKkHcff/xKI+0u5uA63oSbx7s0f5mL53fTUl2njXPZnZIbL1Z9fG9rTrV2TWhTaL1ToY/E5oidIlL+VidO1j+mTGC7N8S9f0xFkXjPgcP7sWFqk6XpY9iS/tA8/3TEfh3UwuLa07cDGOhemo8w1VtiRPGgppEWM/RjWH1xvF8kyitiRqHVprNna4nxlR80PUsK4Mrlwg1XB83nWA3Lt8EIqGvS5weoHUg9AP12NmBqGseYoa+tbgbItUvsW2iOxDOMy1qElix0VrjL3g2p/Q9yXwQWyYPM1rtLF8+5qR28u4KT4J/cM8aci7NogKN4g9NXfncELjXM/iGr1aYOwLVfNG2bwGsT/Wj2+MHIv1K8vdG1ne31dJO66Tj90zzZnv/yC9/o2zL2FHqvKAzIYcH8R/ANgt4RocoSmNAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="205" height="684"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.bcf32f0.205.png" srcset="/assets/ideal-img/6.bcf32f0.205.png 205w" width="205" height="684"></noscript></div></div><p>만약, <code>http://localhost:3000/project/facebook-react/</code> 경로에서 새로고침을 한다면 어떤 html 파일을 받아와야 할까요?</p><p>next.js server 이였다면 똑똑하게 이 요청은 <code>project/[path].tsx</code> 경로야! 하면서 SSR 이후 파일은 반환해줄 것입니다.</p><p>하지만 위의 테스트 시나리오는 next.js server 이외 처리되었습니다. 때문에 요청하는 경로에 파일이 없으면 그냥 없는 것입니다.</p><p>이를 위해서 <code>next.config.js</code> 파일을 보면 <code>trailingSlash: true</code> option 처리가 되어있는 것을 확인할 수 있습니다.</p><p>웹 개발자라면 새로고침을 하더라도 위 캡쳐사진의 파일 하이어라키 덕분에 정상적으로 router 되는 것을 확인하실 수 있습니다.</p><blockquote><p>모르겠다면 댓글주세요. 🤗</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="생성되지-않은-동적경로의-경우는">생성되지 않은 동적경로의 경우는?<a class="hash-link" href="#생성되지-않은-동적경로의-경우는" title="제목으로 바로 가기">​</a></h3><p>동적인 경로의 경우 <code>getStaticPaths()</code> 으로 생성되지 않았다면 어떻게 될까요?</p><p>제가 예제 코드에서 <code>http://localhost:3000/post/[id]</code> 경로의 경우 동적 경로이지만 <code>getStaticPaths()</code> 으로 생성되지 않은 것을 확인할 수 있습니다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>export 결과물을 보면 아래와 같습니다. 이러면 당연히 새로고침하면 문제가 발생하겠죠?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAhUlEQVQImR3OOQ7CMBQAUV8CiRC8/iwgB2EnUQJdREdBR8EBuP8VBuH+aTRK2wtWMuv2IrQTJmScTBif8O2MdlcOOqJsSEg38fx86dJGaBdCt2BlpDndC6yOZ1StI7tjZKgcbzFonwr0zVyw9CtORlRtBvZ6IPrIQxp0yDT9reD/QqmHzA/NkTr89VLWLQAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="244" height="94"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.82daa4e.244.png" srcset="/assets/ideal-img/7.82daa4e.244.png 244w" width="244" height="94"></noscript></div></div></div></div><p>한번 해볼까요? express server를 시작해서 아래의 영역을 클릭해서 들어가 봅시다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+UlEQVQYlV3NP0vDQBgG8Ps4NcUo/kuE4qDfQPBLOPkZRCmOIhSnKp2kiEvh1tYMiWea2E5ODsIRcDhIatK73JvLK9WC4gO/5eGBh2ztbh/v7R94rtsaWM112rDWaKNp0xXLpqv2xsBx3EdnZ/OEDD3vJoxjZE/PGEUTDKMXDKMYx0uT6RRHo+EdmWVZB3+iELH6Z9FhmqZdwjm/1lqjKkvI87wWQnwriqLWWgMAYJIkt4R/iE76qVBkc6lNDUpKkFKCMQaUUmo57JLXt/eemClM54AlGDTmV1Ut3hE5531yenZ+2L9/uGLhuO37/kUQBH+1GWOXlNKjL0cc4G36YJyKAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2588" height="1808"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/8.6a39944.2588.png" srcset="/assets/ideal-img/8.6a39944.2588.png 2588w" width="2588" height="1808"></noscript></div></div><p>정상적으로 나오는 것을 확인할 수 있습니다. <code>express/public/index.html</code> 의 파일을 받아서 CSR 처리를 통해 router 되었기 때문입니다. 이제 여기서 새로고침을 하면 어떻게 될까요?</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA2klEQVQYlV3Lv07CQBwH8HscpLEQTaw1QQZ4ABdfwsm3II46ECeEzWjCQtKpTYCB5HKtLW/Q6fobu3m96/E150Q6fJbvHxbe3z2NJ9N9GI42njeMev1B1PP86KLvR5f+1SYIbnfBzfUz+16vPw6co8gLpGkOkeUQaYY0+/lXHI/YbbefrCzL+claAFAA2g6Xoa7rBSOi97ZtoZQyTdOczrnMGAMp5ZJJKeduqLX+1VqbDuU6IlqwqqpW1lo3hHufc5nriOiLxXH8IIR445zPOOcvHTMhxGuSJI9/jS3iLE2d0VQAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2588" height="1808"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/9.1d1b460.2588.png" srcset="/assets/ideal-img/9.1d1b460.2588.png 2588w" width="2588" height="1808"></noscript></div></div><p>아래와 같이 요청한 경로에 리소스가 없기 때문에 새로고침에 실패? 하는 것을 볼 수 있습니다. 만약 next.js server에서 해당 경로에서 새로고침 했다면 정상적으로 동작했을 것입니다. next.js server는 해당 경로가 어떤 리소스를 필요로 하는지 알고 있기 때문이죠</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAxUlEQVQYlV2OuwrCMBiF8zj1VkXFFESfwcWXcPItiqMO4uRlE1chk5Bq1xB78SXaZjOgYJtfUitKD3zLx+FwUMfqTqzB8IJx/1irt4hRbRKjZpJK1SQNs33E2DrjXmeKTg7deGEIvheA5wXAc3y4FoS3G7iuu0fyfl/CJ08ASEtoB1LKNYqiaKW0TdNXlmXqH+10MY7jLUqSJF9USj2UUq8S+aIQYq2Lu6JYPPjl64QQB0QpHXHOF4wxmzE2K2FzzueO44zfrwjkiwrZxWgAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2588" height="1808"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/10.f0ae2b9.2588.png" srcset="/assets/ideal-img/10.f0ae2b9.2588.png 2588w" width="2588" height="1808"></noscript></div></div><p>사실 <code>next export</code> 으로 사용한다는 것은 블로그와 같이 정말 정적인 데이터인 경우 사용하는 시나리오가 대부분 일 것이기 때문에 이와 같은 시나리오의 경우는 매우 스페셜한 케이스라고 생각됩니다.</p><p>중요한 것은 next.js server 이외 돌아가는 메커니즘을 이해하는 것입니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="사용을-추천하지-않는-exportpathmap">사용을 추천하지 않는 <code>exportPathMap</code><a class="hash-link" href="#사용을-추천하지-않는-exportpathmap" title="제목으로 바로 가기">​</a></h3><p><code>next export</code> 와 관련되어 찾아보면 <code>next.config.js</code> 의 <code>exportPathMap</code> 옵션에 대해 그냥 써놓은 글이 많습니다.</p><p>결론부터 말하면 이제 사용되지 않습니다. (사실 사용하는 법도 모르겠습니다) <code>getStaticPaths()</code> 가 동적인 경로를 반환해주기 때문이죠</p><p>해당 내용은 <a href="https://github.com/vercel/next.js/issues/10983#issuecomment-597829065" target="_blank" rel="noopener noreferrer">github issue로도 open</a> 되어 있는 상태입니다.</p><p>이걸 왜 사용하는지 제대로 설명해준 사람도 거의 없고 공식문서도 아직 내용이 반영되지 않은거 같아 시간이 많이 소모되었습니다...😾</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>에초에 동적 경로에서 <code>getStaticProps()</code> 만 사용하면 <code>Error: getStaticPaths is required for dynamic SSG pages</code> 가 출력되어 export가 안됩니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="마무리">마무리<a class="hash-link" href="#마무리" title="제목으로 바로 가기">​</a></h2><p>사실 제대로 next.js를 많이 사용하고 공부 헀다면 이런 질문이 나오지 않을 수 있다고 생각하기도 합니다.</p><p>하지만 그럼에도 불구하고 next.js의 SSR을 햇갈려하는 글은 간간히 보이는 걸로 보아 나만 그런건 아닌가 싶은 안심이 들긴했습니다.</p><p>특히, jsp와 같은 Server Side Script 언어와 대조를 하다보니 더욱 더 햇갈렸습니다.</p><p>보통 블로그와 같이 정적 웹을 만든다고 하면 <code>Gatsby.js</code> 가 주로 생각나고 많이 사용되는 것으로 알고 있는데 차란히 next.js로 SSG, SSR을 모두 처리하는게 더 좋지 아늘까? 하면서 더 궁금해서 SSG를 더 깊이 공부하게 된 거 같습니다.</p><p>해당 글이 next.js의 SSG 이해에 도움이 되셨으면 좋겠습니다. 언제든지 질문과 피드백은 환영합니다. 읽어주셔서 감사합니다.</p>]]></content:encoded>
            <category>nextjs</category>
            <category>SSG</category>
        </item>
        <item>
            <title><![CDATA[next.js에서 recoil 사용하기]]></title>
            <link>https://parkgang.github.io/blog/2021/05/06/using-recoil-in-nextjs</link>
            <guid>/2021/05/06/using-recoil-in-nextjs</guid>
            <pubDate>Wed, 05 May 2021 18:06:21 GMT</pubDate>
            <description><![CDATA[recoil 을 CSR 에서는 사용해 보았지만 next.js 와 같은 SSR 에서 사용한 사례는 찾기가 어려웠습니다. 이번 기회에 next.js 에서 recoil 을 사용하는 방법을 알아보도록 하겠습니다.]]></description>
            <content:encoded><![CDATA[<div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAABcSAAAXEgFnn9JSAAAA10lEQVQImS2N3UoCURzEZw9nv3dLz66roqgkyEIgKIJRG93UXUFEIFk9gDcSee079Cy+W+yNzF9cvfgxMDPMAMAeAJUFRp5mrdWmqzVTz2HcrDNrZgyDgFBWVZR+quVxHIqa3kjR68hdOxFv0hdtaznmOC/KZQBGAFuNiMbR9GEx8B0e3yruc3f/9zVgz3WZvC+4+F7y+eqC03GHuYk5/3igmQ+JzyLkbnMtifLEX//I9nctb0MjxW0uIxPL0+pFuq+z6vrf1iiBE3aSlmmWlY2af/JsVekBkFdNXDYdrV4AAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1412" height="893"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/thumbnail.140f334.1412.png" srcset="/assets/ideal-img/thumbnail.140f334.1412.png 1412w" width="1412" height="893"></noscript></div></div><p><code>recoil</code> 을 <code>CSR</code> 에서는 사용해 보았지만 <code>next.js</code> 와 같은 <code>SSR</code> 에서 사용한 사례는 찾기가 어려웠습니다. 이번 기회에 <code>next.js</code> 에서 <code>recoil</code> 을 사용하는 방법을 알아보도록 하겠습니다.</p><p>원래는 redux를 사용했었지만 기본적으로 필요로하는 코드의 양이 많아 내가 원하는 상태를 빠르게 저장하고 빼서 쓰고 싶었는데 개발하면서 딜레이가 생기는 경험이 있었습니다.</p><p>물론 지금은 redux toolkit이 나와서 많이 해소 된거 같지만 facebook이 직접 개발하는 recoil이 앞으로 더 발전가능성이 높아서 사용하게 되었습니다.</p><p>next.js는 SSR를 지원하기 때문에 각각의 페이지 별로 정적파일이 생성되어 CSR과 햇갈릴 수 있습니다. 하지만 사용하면서 크게 다른 점은 없습니다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>기본적으로 CSR과 SSR의 차이, next.js와 recoil에 대해 기본적인 이해를 기반하고 설명합니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="프로젝트를-생성해보자">프로젝트를 생성해보자<a class="hash-link" href="#프로젝트를-생성해보자" title="제목으로 바로 가기">​</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>실습이 진행된 코드는 <a href="https://github.com/parkgang/next.js-with-recoil" target="_blank" rel="noopener noreferrer">parkgang/next.js-with-recoil</a> 에서 확인하실 수 있습니다.</p></div></div><p>먼저 아래의 명령어로 next.js 프로젝트를 실행하도록 하겠습니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token plain">npx create-next-app</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAYAAABhYU3QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAW0lEQVQImWNw83S1twiJvaTrHXNW19nznJa9+zlVK6dzynZe54z9Y864BIVcVzW3DWAQ1dTRFjdz7BM2tuvh1dDr4VbX62FT0uxhVNTu4dO16JY2Np/IraRhBgA16Bei+NVqaQAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1554" height="392"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.7c9caaa.1554.png" srcset="/assets/ideal-img/1.7c9caaa.1554.png 1554w" width="1554" height="392"></noscript></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>공식으로 제공하는 <a href="https://github.com/vercel/next.js/tree/canary/examples/with-recoil" target="_blank" rel="noopener noreferrer">with-recoil</a> 템플릿이 있었지만 마지막 업데이트가 거즘 8개월 전이고 recoil 버전 업도 많이 된 상태이기 때문에 사용하지 않았습니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="recoil를-추가하자">recoil를 추가하자<a class="hash-link" href="#recoil를-추가하자" title="제목으로 바로 가기">​</a></h2><p>아래의 명령어로 next.js 프로젝트에 recoil를 추가해줍니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i recoil</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>next.js는 pages 별로 정적 파일을 찍어낼 텐데 어떻게 하나의 상태 관리를 할 수 있을까요?</p></blockquote><p>정답은 <code>_app.js</code> 에 있습니다. next.js의 모든 pages는 렌더링을 거치기 전에 <code>/_app.js</code> 를 거칩니다.</p><p>우리가 recoil를 사용할 때 recoil 상태를 사용하는 컴포넌트의 최상위 부모 트리에 <code>&lt;RecoilRoot&gt;</code> 가 필요한데 해당 파일에 wrap 해주면 됩니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="기본적인-_appjs-구조">기본적인 <!-- -->_<!-- -->app.js 구조<a class="hash-link" href="#기본적인-_appjs-구조" title="제목으로 바로 가기">​</a></h3><p>여기서 <code>Component</code> 는 각 pages component가 들어오고, <code>pageProps</code> 는 getInitialProps를 통해 들어온 props들을 나타냅니다.</p><div class="language-jsx codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">/pages/_app.js</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-jsx codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MyApp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">Component</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> pageProps </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Component</span><span class="token tag" style="color:#00009f"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread operator" style="color:#393A34">...</span><span class="token tag spread" style="color:#00009f">pageProps</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">MyApp</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="recoilroot-적용">RecoilRoot 적용<a class="hash-link" href="#recoilroot-적용" title="제목으로 바로 가기">​</a></h3><p>여기에 Component 코드를 <code>RecoilRoot</code> 로 wrap 해주면 됩니다.</p><div class="language-jsx codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">/pages/_app.js</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-jsx codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">RecoilRoot</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"recoil"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MyApp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> </span><span class="token parameter maybe-class-name">Component</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> pageProps </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">RecoilRoot</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Component</span><span class="token tag" style="color:#00009f"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread operator" style="color:#393A34">...</span><span class="token tag spread" style="color:#00009f">pageProps</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">RecoilRoot</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">MyApp</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="기본적인-상태관리-방법은">기본적인 상태관리 방법은?<a class="hash-link" href="#기본적인-상태관리-방법은" title="제목으로 바로 가기">​</a></h2><p>자, 아직 남은 문제가 있지만 기본적인 recoil를 사용할 수 있는 상태까지 왔습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="테스트를-해보자">테스트를 해보자!<a class="hash-link" href="#테스트를-해보자" title="제목으로 바로 가기">​</a></h3><p>일단 잘 작동하는지 테스트를 해볼까요? <code>/states</code> 디렉터리를 생성하고 내부에 <code>index.js</code>를 생성해 봅시다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA40lEQVQYlW2QyU7DMBRF/RPQxFOcsSGOhzZNKE0ZKtZsKvH/n3KRHRSK1MXRfYs36B0iqx1UM4BJCyrNSir6NQMkryyadg+aeXDlwLKAXRvo7yDJC49mO4LnA5hy/7bSG8hDMWFTz+DSIOEaj7TFhnWxTlY6kObJYZieod0nen+Bdh9o+1dU7RHl9hgzQKyucZk9pvM35vcrTm9XjC9f0C4M/UGYMPEsUxYsC192SESHVNye1iBM9ZCVgSg8ZOWXLIOB8LmJBgKE5h6iPkDke8hiSSrv6EnVDqwco0OuFpf3hP8AEzOQWg1NfP8AAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="224" height="230"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.79cebfa.224.png" srcset="/assets/ideal-img/2.79cebfa.224.png 224w" width="224" height="230"></noscript></div></div><p>해당 파일에 아래의 코드를 작성합니다.</p><div class="language-js codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">/states/index.js</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-js codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> atom </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"recoil"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> pageNameState </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">atom</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"pageNameState"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword module" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>해당 파일의 코드를 아래와 같이 변경합니다.</p><div class="language-jsx codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">/pages/index.js</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-jsx codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useRecoilState </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"recoil"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> pageNameState </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"../states"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">IndexPage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pageName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setPageName</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRecoilState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pageNameState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Index Page!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">pageName 상태: </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">pageName</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">            </span><span class="token tag script language-javascript function" style="color:#d73a49">setPageName</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript string" style="color:#e3116c">"IndexPage"</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">;</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">          </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          현재 페이지 이름으로 상태 변경</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">IndexPage</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>router 되더라도 상태가 유지되는게 핵심이겟죠? 다른 pages도 만들어 봅시다.</p><p>아래의 파일을 생성하고 아래와 같이 코딩합니다.</p><div class="language-jsx codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">/pages/post.js</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-jsx codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Link</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"next/link"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useRecoilState </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"recoil"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> pageNameState </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"../states"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">PostPage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pageName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setPageName</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRecoilState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pageNameState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Post Page!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">pageName 상태: </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">pageName</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">            </span><span class="token tag script language-javascript function" style="color:#d73a49">setPageName</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript string" style="color:#e3116c">"PostPage"</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">;</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">          </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          현재 페이지 이름으로 상태 변경</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">/</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Index Pages 이동</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Link</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">PostPage</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>post</code> 페이지로 이동하기 쉽게 아래의 코드를 추가합니다.</p><div class="language-jsx codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">/pages/index.js</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-jsx codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Link</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"next/link"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useRecoilState </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"recoil"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> pageNameState </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"../states"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">IndexPage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pageName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setPageName</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRecoilState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pageNameState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Index Page!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">pageName 상태: </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">pageName</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">          </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">            </span><span class="token tag script language-javascript function" style="color:#d73a49">setPageName</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript string" style="color:#e3116c">"IndexPage"</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">;</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">          </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">        </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          현재 페이지 이름으로 상태 변경</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">/post</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Post Pages 이동</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Link</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">IndexPage</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="테스트-결과">테스트 결과<a class="hash-link" href="#테스트-결과" title="제목으로 바로 가기">​</a></h3><p>next.js를 실행해보면 index page에서 변경된 상태가 post page까지 잘 전달되는 것을 볼 수 있습니다. 그 반대도 마찬가지 입니다.<br>
<!-- -->이로써 recoil이 정상적으로 동작하는 것을 확인하였습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAABYlAAAWJQFJUiTwAAABHElEQVQYlW3Lu0rDYBjG8XfQVXDyUKG1lIbGHGqiKcYMXofQTTG5grrEzrmBgEPrkFIlKfV0GRZ1yZcQq3O9gECTfMkrhQ6C/uG3PPAAs1VbawnMGb8vGpp2oiuKqkvKkc4LTX23WjMaLH++xwnrUN6uSKzAIS8foKRoyMstrNc5rDICMg0BRVHCjc2SCu3TtnztDeY33m3eHwwz7+mRjp0hvRs9Z+P7h9zzRumFbhxD57Ijv7++ZYFP8COKCkT8bVHuuq4K3auu/DKZJFEUFbPZN50nSZ6laZ6mKaWUFnEcZ71eXwXbtg8ppcvz34qiQMdxNDBNkyWEkDAMvwgh0yAIPpemi833/dCyrCYAwAoAlACgAgDlf+wAwOoP6Sy3/57FAAsAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1224" height="974"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.2fbdc9d.1224.png" srcset="/assets/ideal-img/3.2fbdc9d.1224.png 1224w" width="1224" height="974"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAABYlAAAWJQFJUiTwAAABG0lEQVQYlW3LQUuDcBzG8d+hrkGnBgZbY2CzqXO2HVSidxHUtUjfwDrp3TcwumyHCWPpWI16Gbu05l+D1an5DgTTv/5isENQX/hcHniALdX2OgJ7zUuioWnnuqKc6XJH0XmhqR9Va0ad429OGsI+lJlKixMayMunKLVVlDoqssc8VlkB2bqAotjCgxKjwOXFlXz/MEwG7igfjt3Me57RqTOi48lLNn18yj1vkt7qhgrdu668fF1ky8UbrtdfBSL+til3XVcBy7Lk+Xz+Hb6HRRRFNEmSPEvTPE1TSikt4jjO+v2BAr1er00p3Z7/VhQFOo6jgWmaHCGEhGH4SQhZBUHwsbXabL7vh7ZtNwEAdgCAAYAKAJT/cQgAuz8Pj7gkZhyQZwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1224" height="974"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.b6049df.1224.png" srcset="/assets/ideal-img/4.b6049df.1224.png 1224w" width="1224" height="974"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="duplicate-atom-key-waring">Duplicate atom key Waring<a class="hash-link" href="#duplicate-atom-key-waring" title="제목으로 바로 가기">​</a></h2><p>동작에는 문제가 없지만 사실 next.js console에서는 Warning을 출력하고 있습니다.</p><div class="codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-text codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token plain">Duplicate atom key "pageNameState". This is a FATAL ERROR in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      production. But it is safe to ignore this warning if it occurred because of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      hot module replacement.</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>이는 SSR이라서 여러면 atom을 생성하면서 경고 메시지가 출력되는 것입니다.</p><p>현재 공식 <a href="https://github.com/facebookexperimental/Recoil/issues/733" target="_blank" rel="noopener noreferrer">이슈</a>로 open 되어 있습니다. 수정까지는 시간이 꽤 걸릴 수 있으니 경고 창을 보고 싶지 않다! 라면 우회 방법을 알려드리도록 하겠습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="우회-방법">우회 방법<a class="hash-link" href="#우회-방법" title="제목으로 바로 가기">​</a></h3><p>되게 간단합니다. recoil module에서 해당 경고 메시지를 주석처리 하는 방법입니다.</p><ol><li><code>node_modules/recoil</code> 의 디렉터리에서 모든 <code>recoil.js</code> 파일의 <code>registerNode</code> 함수를 찾습니다.</li><li>해당 함수를 잘 보시면 위에서 출력되는 경고 메시지를 출력해주는 함수입니다. <code>console.warn</code> 부분을 주석하면 더 이상 출력되지 않습니다.</li></ol><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkUlEQVQImT3KSw6CMBhF4a7GBAr9W14SaBEsD2Vi2P9ijoEYB9/g5F7lp4M+HgzrhyYsVN1G2W4UbaT2Z89oGVGN37n793WQekaqU8SUEftrLRPKNW+keGHcinELuVvIbETL85K5mdQ8UMV9x9Y7ebmSyoS252G6xiQPJPlwUUM1MthAEE+Qns70JLrnlp66vy9GQlJFrM5B5QAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="637" height="349"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.6ad0a0b.637.png" srcset="/assets/ideal-img/5.6ad0a0b.637.png 637w" width="637" height="349"></noscript></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>이 방법은 개인 에게만 적용되며 추천하지 않습니다. 실제로 key가 중복되는 경우를 구별할 수 없기 때문입니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="비동기-작업은-어떻게">비동기 작업은 어떻게?<a class="hash-link" href="#비동기-작업은-어떻게" title="제목으로 바로 가기">​</a></h2><p>이번에는 <code>selector</code> 함수를 이용하여 비동기 작업을 해보도록 하겠습니다.<br>
<code>Ajax</code> 를 위해 저는 <code>axios</code> 즐겨 사용하기 때문에 해당 모듈을 설치하도록 하겠습니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i axios</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>아래의 코드를 추가합니다.</p><div class="language-js codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">/states/index.js</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-js codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> atom</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> selector </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"recoil"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">axios</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"axios"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> pageNameState </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">atom</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"pageNameState"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword module" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> getNameSelector </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">selector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"getNameSelector"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">get</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"http://localhost:3000/api/hello"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p><code>selector</code> 에서 반환되는 값은 필요한 값만 반환해야합니다.</p><p>CSR에서는 axios의 res 값을 모두 반환해서 사용해도 문제가 없었는데 next.js에서는 모두 반환하면 에러가 발생합니다.</p><p>아마 테스트 해보시면 비동기 콜을 하는 page를 다른 페이지에서 link를 통해 들어가면 문제가 없지만 해당 page 주소로 바로 접속하면 아래와 같은 에러가 출력되면서 next.js server가 down 됩니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAg0lEQVQImT3KWw6CMBQAUbbhA7BAeVRoL7aSkBKUGN3/jsYEEz8m83OSbohI2OhlpagDWTGSl7f/UyUc0p5Ea4+TF8Y+0F2k7VdqE1H1RF6OnC/uB4MRgqx0dqFqJ8rmTlYIx2zYO+V2x4ltHCILYX4z3jem+YPzT8wQaa4zqvIo7fkCFpE8h/5nsMMAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="694" height="274"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.0e0eaa1.694.png" srcset="/assets/ideal-img/6.0e0eaa1.694.png 694w" width="694" height="274"></noscript></div></div><p>axios 에서 return 데이터 중 <code>.data</code> 만을 사용하지 않고 모두 던지면 <code>selector</code> 호출 기록은 있지만 렌더링하다가 next.js에서 run time error 가 발생합니다.</p><p>해당 문제는 <code>npm run dev</code> 일 때만 발생합니다. 같은 코드인데 build 되어 start으로 실행 된 next.js server에서는 해당 문제가 발생하지 않습니다. 하지만 dev 환경의 live server가 되지 않기 때문에 전략적으로 필요한 데이터만 return 하여 사용하는 것이 좋아보입니다.</p></div></div><p>아래의 코드를 추가합니다.</p><div class="language-jsx codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">/pages/post.js</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-jsx codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Link</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"next/link"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useRecoilState</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> useRecoilValueLoadable </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"recoil"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> pageNameState</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> getNameSelector </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"../states"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">PostPage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pageName</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setPageName</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRecoilState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pageNameState</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRecoilValueLoadable</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">getNameSelector</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"hasValue"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Post Page!</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">pageName 상태: </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">pageName</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">              </span><span class="token tag attr-name" style="color:#00a4db">onClick</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token tag script language-javascript" style="color:#00009f"> </span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">                </span><span class="token tag script language-javascript function" style="color:#d73a49">setPageName</span><span class="token tag script language-javascript punctuation" style="color:#393A34">(</span><span class="token tag script language-javascript string" style="color:#e3116c">"PostPage"</span><span class="token tag script language-javascript punctuation" style="color:#393A34">)</span><span class="token tag script language-javascript punctuation" style="color:#393A34">;</span><span class="token tag script language-javascript" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag script language-javascript" style="color:#00009f">              </span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">            </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">              현재 페이지 이름으로 상태 변경</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">contents</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">/</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">            </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Index Pages 이동</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">          </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#00009f">Link</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">        </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"loading"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Loading...</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"hasError"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">contents</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">PostPage</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://ko.reactjs.org/docs/code-splitting.html#reactlazy" target="_blank" rel="noopener noreferrer">SSR에서는 Suspense를 지원하지 않기 때문에</a> <code>useRecoilValueLoadable</code> 를 사용해야합니다.</p><blockquote><p>찾아보니 SSR에서도 Suspense 사용할 수 있는 방법이 있습니다! 나중에 시간이 될 때 소개하도록 하겠습니다.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="테스트-결과-1">테스트 결과<a class="hash-link" href="#테스트-결과-1" title="제목으로 바로 가기">​</a></h3><p>아래와 같이 정상적으로 렌더링 되는 것을 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAABYlAAAWJQFJUiTwAAABLUlEQVQYlW3MT0vCYBzA8d+hrkGnBANNhKW5Z+pqhzmidxHUtWh7BebJ28B30EWJhpR/UKn3MWg2ew5rPjdBsdtC27P9QujQoS98rl8QEtkdhQhXYkkyNO1MV9VTXVZUXSRF/SCTNXJ58fqoQHYhlUyX86SARD7GkqJhSamgcChiRiAo5AhKUhn3EkkVLs4v5bvOw6rVaUf37cew9zziA6vNn/ov4WA4inq9/veNblSgeluV316d8H0ywa8giBHxr01Rt9tVoV6vy67rrhljMWOMLxaL6HO5jFarNeecx0EQhM1mSwXTNE8cx8HpdIrz+RwZYzibzX5niHEco2VZGtRqtbxt25PxeOx7nuf5vv+xiVLqUUp913Vpo9EoAgBsAUASANIAkPrHPgBs/wBEfrY/Ffo5fwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1224" height="974"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.66f8fa2.1224.png" srcset="/assets/ideal-img/7.66f8fa2.1224.png 1224w" width="1224" height="974"></noscript></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>혹시라도 해당 api가 어디서 만들어 진건지? 하시면 기본 템플릿으로 만들면 생성되는 next.js api를 사용한 것입니다 😉</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="빌드-시-경고-창">빌드 시 경고 창<a class="hash-link" href="#빌드-시-경고-창" title="제목으로 바로 가기">​</a></h2><p>자 이제 문제가 없는거 같지만 아직 한가지 더 남아있습니다...<br>
<!-- -->한번 <code>npm run build</code> 으로 build를 해보시겟어요? 또 경고가 출력됩니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6UlEQVQYlUWPSW7CQAAE5xVhM7stw3jBMONljG02m4ASkCLl/1+piDmQQ6kO3WqpRVo/yesfVPnAFBVKG/zA4PopM1ezio/IaI+QWUfV3MhMy3JV2HDm7lh4moWncKYRvZFEFPWd5vykOnxhqk/rFypvCeKKKGksItvfqI/fNOcHprqTFp1FF631Nj0TJTXCj/ZMFglzT+P6Ga5UzLyEj6Gk7wRvhM4vbNQRb52xjkuWcsfcTxiMI4aTf8Rr+nr/JTNX+67vhPRGAQMnYDAObellEW5qdN6Smo6tPhFuD0h1wlcXprJ8F/8AY159ggyhTYMAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="764" height="641"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/8.979f3f4.764.png" srcset="/assets/ideal-img/8.979f3f4.764.png 764w" width="764" height="641"></noscript></div></div><p>build 시점에 <code>selector</code> 에서 호출하는 api가 정상이 아니면 에러가 발생합니다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>더 정확히 말하면 try 부분의 코드를 실행하는거 같습니다. 해당 부분에 <code>console.log</code> 와 같은 코드를 삽입하면 출력되는 것을 확인할 수 있습니다.</p></div></div><p>우리는 next.js의 api를 사용하고 있기 때문에 build 시점에 next.js server가 내려가 있으니 api에 호출에 실패에서 발생하는 메시지 입니다.</p><p>아래와 같이 해당 부분을 trycatch으로 묶는다면 catch에 걸리는 것을 확인할 수 있습니다.</p><div class="language-js codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">/states/index.js</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-js codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> atom</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> selector </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"recoil"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">axios</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"axios"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> pageNameState </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">atom</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"pageNameState"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword module" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> getNameSelector </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">selector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"getNameSelector"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">get</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> axios</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"http://localhost:3000/api/hello"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">getNameSelector 에러 발생</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1UlEQVQYlS3PW26DMBCFYZYRIJCAuBSMMcQJpoS0UCiVWqmX/S/mr+L2YTTzcM4njVOoJxo9UTU3hBop5JVMPJKWPfl9F4Yo1TiZXplePpnXL5SeyHNNGSuKuOZ4kLihxAslTlJdbbOoBium2QWletKkIQglblDZcdrzRJRodr4gKw1RdkZcOoJEsdtXVrPiqVuY12/MsFE1I7nocQOBF/5J9/tfnFm2H8bnD/tU8tDhHRV+3LKPGvz4hHeocUQ92oAZ3jibFd0ttOYV1W+UwzuRvNngL9ema4sLmNnQAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="659" height="475"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/9.f45c8df.659.png" srcset="/assets/ideal-img/9.f45c8df.659.png 659w" width="659" height="475"></noscript></div></div><p>결론적으로 경고 메시지가 출력되어도, catch에 걸리더라도 <strong>구어진 정적파일은 문제가 없으며 next.js server가 실행했을 때 정상적으로 동작합니다.</strong></p><p><code>selector</code> get부분에 api EndPoint를 next.js 내부 api 말고 build 시점에 살아있는 api으로 호출한다면 경고 메시지 없이 빌드 되는 것을 확인할 수 있습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="마무리">마무리<a class="hash-link" href="#마무리" title="제목으로 바로 가기">​</a></h2><p>사용하는데 크게 어려운 점은 없지만 비동기 콜 부분에서 많은 시간을 소비하였습니다.</p><p>에러 발생 시 정보가 생각보다 디테일 하지 않았고 CSR에서는 되던건게 안되서 코드를 잘못짠건가?🧐 했습니다.</p><p>특히 axios 결과 값을 모두 return 했을 때 next.js server가 down되는 부분에서 많은 시간을 소비하였습니다.</p><p>어서 recoil이 공식 릴리즈되서 많은 사람들이 사용했으면 좋겠네요 언제든지 질문과 피드백은 환영합니다. 읽어주셔서 감사합니다.</p>]]></content:encoded>
            <category>nextjs</category>
            <category>recoil</category>
        </item>
        <item>
            <title><![CDATA[parkgang.log(2020)]]></title>
            <link>https://parkgang.github.io/blog/2021/05/06/2020-retrospective</link>
            <guid>/2021/05/06/2020-retrospective</guid>
            <pubDate>Wed, 05 May 2021 18:05:10 GMT</pubDate>
            <description><![CDATA[공부한 걸 잘 정리하는 습관은 있었는데 한 해를 회고한 적이 없었습니다. 2020년을 회고하기엔 조금 늦은 2021 2분기 이지만 짧게 첫 회고를 해보려고 합니다.]]></description>
            <content:encoded><![CDATA[<p>공부한 걸 잘 정리하는 습관은 있었는데 한 해를 회고한 적이 없었습니다. 2020년을 회고하기엔 조금 늦은 2021 2분기 이지만 짧게 <code>첫</code> 회고를 해보려고 합니다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>깃허브 첫 가입!</h5></div><div class="admonition-content"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAYAAABhYU3QAAAACXBIWXMAABYlAAAWJQFJUiTwAAAASUlEQVQImRXKMQ6AIAxAUY7QFi1GoGI0Dq7e/2zfMLztpWULfB/k0tG1Il7RqXZkBPkaWATJvGHeySWwmUtD14ZGIO+JfjfyHPz+zhnPwQVB+wAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1532" height="406"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.86b1e98.1532.png" srcset="/assets/ideal-img/1.86b1e98.1532.png 1532w" width="1532" height="406"></noscript></div></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>웹 제품을 만들기 위한 공부의 서막</h5></div><div class="admonition-content"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAlklEQVQImV3MPQ7CMAxA4ZyHtolTx07cH8RBWZBYuAUjFbCUMsFFqg5GgU4Mn972jHTbg/S7t0UePcvkQpws8opGiO0Lmu3JAKVLzaIuROW21yCdehaltT426khGU9V0tshqkWeLvLgQv4DS4llmTJ1CSIOxSEO+/bMZZqxVTQ+zcX5fAD4LwGsBeM9KH34AbwXgVAIeP/OGSmbg2q3iAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="4436" height="2246"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.e76f009.4436.png" srcset="/assets/ideal-img/2.e76f009.4436.png 4436w" width="4436" height="2246"></noscript></div></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="tldr">TL;DR<a class="hash-link" href="#tldr" title="제목으로 바로 가기">​</a></h2><ol><li>첫번째로 작성해보는 회고!</li><li>첫 직장! 🔥</li><li>전체적으로 웹 제품을 만드는 방법에 대해 알게 되었다.</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="나의-2020년은">나의 2020년은?<a class="hash-link" href="#나의-2020년은" title="제목으로 바로 가기">​</a></h2><p>2020년은 처음으로 깃허브에 가입한 해이기도 하고 SW 엔지니어라는 직업으로 첫 출근을 한 해이기도 합니다.</p><p>저의 첫 개발은 C언어로 펌웨어 프로그래밍을 하다가 여기까지 오게 되었는데 그래서 그런지 front-end? back-end? 로 왜 구분을 하는 것이고 sql을 왜 배워야 하지? 이런 생각이 난잡하던 해이었습니다.</p><blockquote><p>전 C언어만 알면 모든 것을 해결할 수 있는 줄 알았거든요... 진심으로... 🥴</p></blockquote><p>그래도 다행히 2분기부터 대학 친구와 함께 JSP 스터디를 진행하면서 정신을 차리게 되었습니다. 아마 이 스터디가 없었더라면 전 매우 많이 후퇴되어 있었을 거 같아요.</p><p>근데 스터디를 진행하면서 느낀 것은 back-end의 경우 java를 사용헀기 때문에 C-family programming languages 답게 문법적으로나 동작에 대해서 이해가 안 되는 부분이 적었습니다.</p><p>문제는 front-end 이었는데요 태어나서 처음 보는 마크업 언어를 보고 이게 프로그래밍 언어인지... 아니라고 하기엔 문법이라는 게 보이긴 하는데 그래서 마크업이라고 하는 건 가... 이걸 어떻게 사용해야 하는지 감조차 안 오는 상태이었습니다.</p><blockquote><p>JS 친구는 덤이었습니다. C언어를 하다가 JS를 보니까 외계어인 줄 알았어요</p></blockquote><p>그래서 스터디가 종료되고 HTML, CSS, JS와 같이 front-end에 부족한 부분을 알아서 공부를 하면서 자연스럽게 프로그램 배포는 어떻게 되는 거지? 서버에 배포하면 된다고? 서버는 어떻게 만드는데? 원리는? 이런 식으로 계속 파고들어서 공부하게 되었습니다.</p><p>마침 회사에서도 클라우드와 DevOps를 경험하고 있던 시점이어서 서버와 관련된 모르는 것을 동료에게 물어보며 성장할 수 있었습니다.</p><blockquote><p>모두 고마워요! 🥰</p></blockquote><p>그 결과 연말에는 <a href="https://github.com/parkgang/modern-tier" target="_blank" rel="noopener noreferrer">modern-tier</a> 프로젝트를 진행하면서 CI/CD 자동화 라인까지 직접 만들어보게 되었습니다.</p><p>돌이켜보면 짧은 시간 안에 많은 성장을 했다는 것이 느껴집니다.</p><blockquote><p>사실 그냥 제 자신을 갈아 넣었습니다.</p></blockquote><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>전반적으로 웹 애플리케이션 제품 개발 한 사이클을 돌려서 기본을 배울 수 있는 시간이었습니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="앞으로는">앞으로는?<a class="hash-link" href="#앞으로는" title="제목으로 바로 가기">​</a></h2><p>아직 부족한 것이 많지만 <code>2020</code> 년에는 웹 애플리케이션을 만드는 아주 큰 틀을 이해하는 시간이 되었습니다.</p><p>개발하면서 어떤 점이 부족하고 어떤 것을 더 중점으로 공부해야 하는지 index가 잡히는 계기가 되었습니다.</p><p><code>2021</code> 년에는 전반적으로 배운 기술을 복습하고 고도화할 수 있도록 노력하는 한 해가 되기를 목표하여 글을 마무리하겠습니다.</p>]]></content:encoded>
            <category>개인 회고</category>
        </item>
        <item>
            <title><![CDATA[Github Blog 시작 이유]]></title>
            <link>https://parkgang.github.io/blog/2021/05/06/why-start-github-blog</link>
            <guid>/2021/05/06/why-start-github-blog</guid>
            <pubDate>Wed, 05 May 2021 17:05:10 GMT</pubDate>
            <description><![CDATA[왜 굳이 SaaS 블로그를 사용하지 않고 깃허브 블로그를 선택하게 되었을까? 깃허브 블로그 첫 포스트로써 왜 깃허브 블로그를 사용하게 되었는지 알아보도록 하겠습니다.]]></description>
            <content:encoded><![CDATA[<p>왜 굳이 <code>SaaS</code> 블로그를 사용하지 않고 깃허브 블로그를 선택하게 되었을까? 깃허브 블로그 첫 포스트로써 왜 깃허브 블로그를 사용하게 되었는지 알아보도록 하겠습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="이전의-나는">이전의 나는?<a class="hash-link" href="#이전의-나는" title="제목으로 바로 가기">​</a></h2><p>나의 첫 개발 블로그는 <code>velog</code> 에서 시작되었습니다.</p><p>처음에는 열정적으로 잘 작성하였지만 어째 사람들에게 정보를 공유하기 위한 개발 블로그 라는 성격 보다는 내가 공부한 내용을 복습하고 나중에 보려고 작성하는 느낌이 강하게 들었습니다.</p><p>더구나 이미 있는 글을 나에게 맞게 바꾸어 작성하게 되는 나를 발견하고 이럴꺼면 개인 노트에 작성하는게 더 효율적이라는 생각을 하게되었습니다.</p><p>이때부터 이전부터 봐왔던 notion을 공부해서 알게 된 지식을 모두 정리하기 시작하였습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAARCAYAAADkIz3lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/UlEQVQokU2STW7bMBCFdZI2v5ITSyIl/gwlUSRlObZTOE2KLIoC8aJID9QarYGiQE8QIAfIxRLJ9hS0g7aLtyE+vveGnCDN2efZrHxSunyIc/mYsr0SJh+pVA+yMk+Ew5cgjOnPqw/XqGqD5xnHhMm/ShlgygHjXPwOBin9Wrkxmnb6LLVdQ+3WoN1a1c2aKf1MhMKUye9BFJNlPRrj7cdP3fXNLc7mNzi+nOPF5RzHl1c9L2uMM74KBgldlrbF2fy6c+0EobIotUVZGVS165mqfPQqOCf5UpkGQduOymLXaS+JmVA9l8U/0PfIlO6gbhBMgz7OnyVM9oQDJuwVTPxkTHRxLjAVCkVlfQISDv+BNF9SDkg5dFQAZhKQcLnvaFxPvbOPjtJs6dwYa2262pYoixJLZzGDAu1k2lNRvIL+edoJytp2YCxSWeL0/Q3y0qBt3/VEvjr6aN8xYbIjoNE7uGaCGZR+2n7/SzswW0JtkMiiE26KQls0boSEK9Sm6f2Fc5Kvgiih38zFFEGbrjLNNodiW1mzTYXaSm26XFV78Izk35rZHKumfSlcu8mg3AwzsUk5bOJcvCQMcEjZjyCM01U9anflq9EURalxuNsi4Tv6hfD6Fbw5OmGHYXT/9ji8G6bZ4jg6WxychIvD02hxcBrdHYWD++NwIP4AlQ3+hebVHQsAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2384" height="4014"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.ab6503e.2384.png" srcset="/assets/ideal-img/1.ab6503e.2384.png 2384w" width="2384" height="4014"></noscript></div></div><blockquote><p>쭉쭉 늘어나는 페이지들...</p></blockquote><p>사실 notion에 웹 공유 기능이 있어서 열심히 notion에 작성하고 웹에 공유해서 블로그 처럼 사용하려고 했습니다. 하지만 터닝 포인트🔥 가 발생하게 되는데</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="왜-깃허브-블로그">왜 깃허브 블로그?<a class="hash-link" href="#왜-깃허브-블로그" title="제목으로 바로 가기">​</a></h2><p>제품(SW)에 대해 아주 간단하고 사소한 오류라도 사용자 풀이 적다면 해결 방법에 대해 찾기가 어렵습니다.</p><p>물론 개발자 실력이 좋다면 그동안 쌓아온 지식을 기반하여 아주 수월하게 트러블 슈팅을 진행할 수 있을 겁니다.</p><p>하지만 깊은 지식 없이 SW가 <code>돌아가는 것에 치중</code> 하여 학습된 상태로 예상 하지 못한 새로운 이슈를 만난다면 당황스럽고 사전에 같은 문제를 고민한 글에 의존하게 됩니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9klEQVQYlU2Oa0rDQBCA9y7ShGyyu9ndzCYxNoZKH9ZIRAX/C96nSDCIIPUAQg6g52ppSlYmRPHHx7w+ZoZo0I86Sb9Pi9lnnOUtU9BybVquoJWQYO9LQvJEqFCvUhurhLQ0jCxXYLk2f4goxt47ipswiu3lutwvy+posvwoTTogong/iBpqFJ9DSGyxWB2ms7lNpsWAyXIrTdqN4guhXA7iqqwO5xeLXpq0Zwp6rg3yTxRyg0V5c7e7qm47SM+6UcC4G3+siS/UG26cr68tnsYch79gzTVsyYnr3Ts0+HB9XjuUNRPPbyZe0Dg0wLx2fbb1mHj4ATYxc/9Ph8yGAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2384" height="1928"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.416b01c.2384.png" srcset="/assets/ideal-img/2.416b01c.2384.png 2384w" width="2384" height="1928"></noscript></div></div><p>저는 각 토픽에 맞게 트러블 슈팅 내용을 notion에 기록하고 있었습니다.</p><p>요근래 공부하고 있는 부분에서 트러블 슈팅을 진행하면서 나와 같은 문제를 고민한 글이 많지 않다는 것을 직접 체감하게 되었습니다.</p><blockquote><p>이 트러블 슈팅 기록을 또 notion 작성해?</p></blockquote><p>물론 notion에도 계속 작성되고 있습니다. 하지만, 이전에 트러블 슈팅 경험을 살펴보면 글의 퀄리티 유무와 관계 없이 누군가 나와 같은 문제를 겪고 대충이라고 해결 방법을 적어 놓은 글을 보았을 때 많은 도움이 된다는 것을 느끼게 되었습니다.</p><blockquote><p>물론 공식문서를 보고 차근차근 배우고 트러블 슈팅하는게 맞지만 😔</p></blockquote><p>딱, 이맘때쯤 깃허브 블로그로 기술 분석에 대해 제가 궁금한 점을 딱 잡아서 작성된 글이 있었는데 그걸 읽고 반해버렸습니다.</p><p>notion에 작성할 때 아래의 Side effects를 고민하고 있던 시절이여서 깃허브 블로그가 더 매력적으로 다가왔습니다.</p><ol><li>이미지와 같은 정적파일이 날라가면 어떡하지?</li><li>다른 서비스로 마이그레이션은?</li><li>웹 공유를 하더라도 사람들이 많이 찾아줄까?</li></ol><p>그래서 전략적으로 듣고 까먹지 싫은 건 notion에 작성하고 사람들에게 가치를 전달할 수 있는 글은 깃허브 블로그에 작성해보자는 마음으로 시작되었습니다.</p>]]></content:encoded>
            <category>github</category>
            <category>blog</category>
        </item>
        <item>
            <title><![CDATA[왜 React.FC는 안 쓰일까?]]></title>
            <link>https://parkgang.github.io/blog/2021/01/01/why-is-react-fc-not-used</link>
            <guid>/2021/01/01/why-is-react-fc-not-used</guid>
            <pubDate>Fri, 01 Jan 2021 03:00:00 GMT</pubDate>
            <description><![CDATA[typescript 로 React Function Component Type을 지정하다 보면 만나게 되는 React.FC 이 친구는 왜 안 쓰일까?]]></description>
            <content:encoded><![CDATA[<p><code>typescript</code> 로 <code>React</code> Function Component Type을 지정하다 보면 만나게 되는 <code>React.FC</code> 이 친구는 왜 안 쓰일까?</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="props">props<a class="hash-link" href="#props" title="제목으로 바로 가기">​</a></h2><p><code>React.FC</code> or <code>직접 type</code> 를 정의하는 방법이 있습니다.</p><p>원래에는 <code>React.FC</code> 가 <code>defaultProps</code> 혹은 <code>props.children</code> 이슈 때문에 직접 type를 정의하는 방법이 좋다고 생각했지만 생각을 해보니 <code>React.FC</code> 를 이용해서 충분한 우회 방법을 찾아냈습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="공식적인-가이드">공식적인 가이드<a class="hash-link" href="#공식적인-가이드" title="제목으로 바로 가기">​</a></h2><p>js으로 개발된 react를 ts으로 마이그레이션을 위해 개발자가 연구를 통해 탄생한 type이 <code>React.FC</code> 이라고 생각됩니다.</p><p>이후 발생하는 이슈도 언젠간 공식적으로 수정될 확률이 높고 안전하게 사용할 수 있습니다.</p><blockquote><p>반대로 말하면 어떻게 미래에 어떤 방식으로 바뀔지 보장할 수 없는 위험이 있습니다.</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="짧아지는-코드">짧아지는 코드<a class="hash-link" href="#짧아지는-코드" title="제목으로 바로 가기">​</a></h2><p>type를 정의하고 사용하면 아마 아래와 같은 코드가 나오게 됩니다.</p><div class="language-ts codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-ts codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">MyProps</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mark</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onClick</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Greetings</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mark</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> onClick </span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> MyProps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JSX</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Element </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>MyProps</code> 으로 props type를 정의하고 함수의 return type까지 <code>JSX.Element</code> 으로 정의하였습니다.</p><p>이번엔 <code>React.FC</code> 으로 작성해보도록 하겠습니다.</p><div class="language-ts codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-ts codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">MyProps</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mark</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onClick</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Greetings</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FC</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">MyProps</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mark</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> optional</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> onClick </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>사실 <code>React.FC</code> 이나 크게 차이는 없지만 <code>React.FC</code> 는 props와 return까지 한번에 검사를 해주기 때문에 짧은 코드를 생산할 수 있습니다.</p><blockquote><p>Lint을 빡세게 잡아서 모든 함수의 return까지 명시를 해야하는 rule이 있다면 <code>React.FC</code>은 좋은 선택일지도 모릅니다.</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="defaultprops">defaultProps<a class="hash-link" href="#defaultprops" title="제목으로 바로 가기">​</a></h2><p><code>React.FC</code> 를 사용하면 <code>.defaultProps</code> 을 작성해도 체크되지 않는 버그가 있습니다.</p><p>ES6 문법인 기본값 매개변수를 이용하여 해결할 수 있습니다.</p><div class="language-ts codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-ts codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Greetings</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">FC</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">MyProps</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  mark</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  optional </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Hi"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  onClick</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>props이름이 변경되면 파라미터의 props이름과 defaultProps이름을 2가지 모두 변경해야 하는데 한번에 함수 파라미터에서 변경하는게 더 편해보입니다.</p><p>이미 진행된 react.js에서 defaultProps를 사용했다면 react.ts으로 마이그레이션을 위해서는 다시 파라미터에 기본값을 명시해야되기 때문에 오히려 불편한 방법이 될 수 있을꺼 같습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="propschildren">props.children<a class="hash-link" href="#propschildren" title="제목으로 바로 가기">​</a></h2><p>children 값이 옵셔널 형태라 사용유무를 모르겠다면 사용되는 component의 type에 명시적으로 선언해주면 됩니다.</p><div class="language-ts codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-ts codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">MyProps</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  children</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ReactNode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="js스러워서">js스러워서?<a class="hash-link" href="#js스러워서" title="제목으로 바로 가기">​</a></h2><p>일부의 <a href="https://fettblog.eu/typescript-react-why-i-dont-use-react-fc/" target="_blank" rel="noopener noreferrer">TypeScript + React: Why I don't use React.FC</a> 중에서 props를 일일이 지정해주는것이 간단하고 JavaScript에 훨씬 더 가깝다고 말합니다.</p><p>명시가 직관적이고 간단하며 추후, <code>React.FC</code> 가 변경된다고 해도 props를 받아오는 type를 명시한 것은 ts의 기능이기 때문에 하위호환성도 크게 걱정되지는 않을겁니다.</p><p>하지만 js에 가깝도록 ts에서 코딩하는 이유는 모르겠습니다. 강력한 타입의 기능을 사용하기 위해 ts를 사용해야하는데 class 기반의 React의 유물인 defaultProps를 사용해서 type을 명시한다는거 부터가 ts에서 사용하는 이유는 사라지고 있는거 같습니다.</p>]]></content:encoded>
            <category>react</category>
            <category>typescript</category>
        </item>
        <item>
            <title><![CDATA[Blue-Green 배포 방법을 이용하여 무중단 배포를 구현해보기 (with docker)]]></title>
            <link>https://parkgang.github.io/blog/2020/11/29/implement-blue-green-deployment-with-docker</link>
            <guid>/2020/11/29/implement-blue-green-deployment-with-docker</guid>
            <pubDate>Sun, 29 Nov 2020 04:00:00 GMT</pubDate>
            <description><![CDATA[Blue-Green 배포 방법을 이용하여 무중단 배포를 구현해 보겠습니다.]]></description>
            <content:encoded><![CDATA[<p>Blue-Green 배포 방법을 이용하여 무중단 배포를 구현해 보겠습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="메커니즘">메커니즘<a class="hash-link" href="#메커니즘" title="제목으로 바로 가기">​</a></h2><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0ElEQVQYlT2PTU/CQBRF5///E92wkJULViZKkBgDBsWkptR+gIF2Wjvt0HlzzFTxbt57ybm59yndtOi6wXtPUJiXnb87SN1FR6ZPMXhhcA4nHmsMzdsG87n7h9UyKZm9pCPonCDiR0M2uea0ePgFRVDv+5pldBjB4HQifOUpfV3hrcU5RwhXj7uS21UygvYcoh3TVcJ8mzCcOxgsUpWoQndEe43pDVlecKoarhYf3G9i2vabyXxLmh1Ql++63qK1RmRg9pqyjovQjpvnhLxs+QExAAni13Iw/QAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1016" height="728"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.b0ae04e.1016.png" srcset="/assets/ideal-img/1.b0ae04e.1016.png 1016w" width="1016" height="728"></noscript></div></div><p>로드 밸런서가 <code>blue 컨테이너</code> 와 <code>green 컨테이너</code> 를 로드 밸런싱 합니다.</p><p>배포되는 순간 <code>blue 컨테이너</code> 가 활성화 되어있으면 배포해야하는 새로운 파일을 <code>green 컨테이너</code> 로 실행시킵니다. 이 순간에만 blue와 green컨테이너가 up됩니다. 또한, 두개의 컨테이너가 로드 밸런싱이 진행됩니다.</p><p>일정 시간이 지난뒤 <code>blue 컨테이너</code> 을 down시킵니다. down 하더라도 이전에 배포된 <code>green 컨테이너</code> 가 up 되어있기 때문에 연결이 중단되지 않습니다. 반대로 <code>green 컨테이너</code> 가 up되어있으면 위의 작업이 반대로 진행됩니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="소스코드-작성">소스코드 작성<a class="hash-link" href="#소스코드-작성" title="제목으로 바로 가기">​</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>실습이 진행된 코드는 <a href="https://github.com/parkgang/helloworld-docker-blue-green" target="_blank" rel="noopener noreferrer">parkgang/helloworld-docker-blue-green</a> 에서 확인하실 수 있습니다.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="deploysh">deploy.sh<a class="hash-link" href="#deploysh" title="제목으로 바로 가기">​</a></h3><p><a href="https://velog.io/@jeff0720/Travis-CI-AWS-CodeDeploy-Docker-%EB%A1%9C-%EB%B0%B0%ED%8F%AC-%EC%9E%90%EB%8F%99%ED%99%94-%EB%B0%8F-%EB%AC%B4%EC%A4%91%EB%8B%A8-%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95%ED%95%98%EA%B8%B0-2#node-koa-server-%EC%86%8C%EC%8A%A4%EC%BD%94%EB%93%9C-%ED%81%B4%EB%A1%A0" target="_blank" rel="noopener noreferrer">Travis CI, AWS CodeDeploy, Docker 로 배포 자동화 및 무중단 배포 환경 구축하기 - (2)</a> 글을 참고하여 작성되었습니다.</p><p><strong>다만, 다른 점은 docker image를 build후 사용하기 때문에 up할 때 <code>--build</code> 가 추가되어 있습니다.</strong></p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2UlEQVQImV3I0UrDMAAF0PyR0jnd3EQUv8YH/0WLD/0SEUR8mZvEWmVN02T7AXGpJmtd06ReWX3zwuFyLzk6Ob0eHZ9lQX9M9wajuNc/jIPOMN7tHdCdYJ8NhuOITGb0gSYMr2mONBOYs79mXGLOeLfp88sjef9QtxvrAKAB0P6z/VB86nuiVupGf2kYbeqqLJ1rGmeq0um1ceV3VW+cxapQd6RQxbSuLbxvO9tY72G9Q+M93E8LvTYxmc6eztOMR0IuL3O5CLmQoRCLUMhlyHN5lXERJcnbxS+3T8I+EX8U0wAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="3808" height="2242"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.418a303.3808.png" srcset="/assets/ideal-img/2.418a303.3808.png 3808w" width="3808" height="2242"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="docker-composeyml-시리즈">docker-compose.yml 시리즈<a class="hash-link" href="#docker-composeyml-시리즈" title="제목으로 바로 가기">​</a></h3><p>위의 글을 참고하여 작성되었습니다.</p><p>version을 3.3으로 작성해야합니다. docker version 맞게 3.8으로 작성시 오류가 발생합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6ElEQVQYlU1OTU+DQBDd/1qwtIqJ+he8NvHqVS/Gk3ox/oiGI9FmjxR2dmdZCCFbmGUM2IOTTDIvb96HiJKL3fXNHVyltz9xksrVeiujOJFRfClX8eaw2aZVFK0fRXEsXqZpYiLiruvYe7/c/6dpmk9hjHmawTAMg7U2eO8DEQVmDiGEYeYQ8V1Ya5/PjyMict/3PI4jzynMvFgDwIdAxMXRe3/SWpMxhrQxhLUjW7vTXKcoijfhnHtdpETsnPvbpmXXdlw37dK5qqovIaW8R8QDAOzLssyUUpkCyJTWmQK9B4DvPM8ffgH2P/UwaRpXQwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.d49fbbd.2956.png" srcset="/assets/ideal-img/3.d49fbbd.2956.png 2956w" width="2956" height="2222"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="shell-script">shell script<a class="hash-link" href="#shell-script" title="제목으로 바로 가기">​</a></h3><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x ./deploy.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./deploy.sh</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="로드밸런서-구축">로드밸런서 구축<a class="hash-link" href="#로드밸런서-구축" title="제목으로 바로 가기">​</a></h2><p>위의 아키텍처 처럼 blue에서 green으로 스위칭 되는 순간 로드밸런싱이 필요합니다.</p><p>이전에 포스트 되었던 <a href="/blog/2020/11/29/implement-load-balancer-using-nginx-with-docker/">nginx를 이용해 Load Balancer 구현 해보기 (with docker)</a> 를 응용해서 로드 밸런서 구축하도록 합니다.</p><div class="language-nginx codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">/nginx/nginx.conf</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-nginx codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token directive keyword" style="color:#00009f">user</span><span class="token directive">  nginx</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">worker_processes</span><span class="token directive">  </span><span class="token directive number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">error_log</span><span class="token directive">  /var/log/nginx/error.log warn</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">pid</span><span class="token directive">        /var/run/nginx.pid</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">events</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">worker_connections</span><span class="token directive">  </span><span class="token directive number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">http</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">upstream</span><span class="token directive"> tomcat-project</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># least_conn;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># ip_hash;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># server 52.231.50.84:10001 weight=1 max_fails=1 fail_timeout=1s;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># server 52.231.50.84:10002 weight=1 max_fails=1 fail_timeout=1s;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token directive keyword" style="color:#00009f">server</span><span class="token directive"> 52.231.50.84:10001</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token directive keyword" style="color:#00009f">server</span><span class="token directive"> 52.231.50.84:10002</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">server</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token directive keyword" style="color:#00009f">listen</span><span class="token directive"> </span><span class="token directive number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token directive keyword" style="color:#00009f">server_name</span><span class="token directive"> 52.231.50.84</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token directive keyword" style="color:#00009f">location</span><span class="token directive"> /</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token directive keyword" style="color:#00009f">proxy_pass</span><span class="token directive"> http://tomcat-project</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># port 스위칭 후 사용되지 않는 포트를 구분하기 위해 timeout을 1초로 설정</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token directive keyword" style="color:#00009f">proxy_connect_timeout</span><span class="token directive"> </span><span class="token directive number" style="color:#36acaa">1s</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token directive keyword" style="color:#00009f">proxy_send_timeout</span><span class="token directive"> </span><span class="token directive number" style="color:#36acaa">1s</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token directive keyword" style="color:#00009f">proxy_read_timeout</span><span class="token directive"> </span><span class="token directive number" style="color:#36acaa">1s</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token directive keyword" style="color:#00009f">send_timeout</span><span class="token directive"> </span><span class="token directive number" style="color:#36acaa">1s</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>해당 부분은 nginx에 자세히 알아야합니다. 아래의 내용을 참고하세요.</p><ol><li><a href="http://jaynewho.com/post/18" target="_blank" rel="noopener noreferrer">nginx 의 구조 친절한 설명</a></li><li><a href="https://architectophile.tistory.com/12" target="_blank" rel="noopener noreferrer">추후 product에서 될만한 자세한 설명</a></li><li><a href="https://brunch.co.kr/@alden/58" target="_blank" rel="noopener noreferrer">max_fail과 fail_timeout 옵션 설명</a></li><li><a href="https://www.lesstif.com/system-admin/nginx-load-balancing-35357063.html" target="_blank" rel="noopener noreferrer">로드 밸런싱 메소드</a></li><li><a href="https://velog.io/@damiano1027/Nginx-Nginx%EC%99%80-SpringBoot-%EB%82%B4%EC%9E%A5-Tomcat-%EC%97%B0%EB%8F%99" target="_blank" rel="noopener noreferrer">nginx conf 작성방법 잘 나와있는 듯</a></li></ol></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="docker-in-docker-volume-mount-문제">docker in docker volume mount 문제<a class="hash-link" href="#docker-in-docker-volume-mount-문제" title="제목으로 바로 가기">​</a></h3><p>로드 밸런서의 기법을 바꾸고 싶으면 어떻게 해야 할까요? 가장 편리한 방법은 <code>config</code> 를 따로 관리하는 것입니다. <code>config</code> 가 변경될 때만 로드 밸런서가 알아서 restart되면 좋겟지만 추가적인 shell 작업이 필요할 겁니다.</p><p>때문에 현재 source code는 <code>config</code> 만 따로 관리하는 전략인데 문제는 jenkins가 DinD 형태라 볼륨 마운트가 host로 바인딩되어 git내부로 작성된 <code>config</code> 를 연결할 수가 없습니다.</p><p>해결방법은 DinD를 사용하지 않거나 심볼릭 링크를 사용 혹은 image으로 해당 <code>config</code> 를 추가하는 방법이 있습니다. 현재는 비효율적이지만 문서화가 가능하도록 docker-compose를 작성하고 로드 밸런서를 rebuild 할 때마다 image를 생성하도록 되어있습니다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>image의 ADD는 현재 컨테이너로 정상적으로 추가가 가능합니다.</p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>다른 우회방법으로 docker-compose를 사용하지 않고 command으로 하는 방법이 존재합니다.</h5></div><div class="admonition-content"><ol><li><strong><code>-v</code> 를 docker-compose으로 동일하게 작성하더라도 동작되지 않습니다.</strong></li><li>볼륨 마운트를 jenkins가 host와 볼륨 마운트된 경로에 추가적으로 붙인 형태입니다. <code>\</code> 가 아닌 <code>/</code> 으로 명시해야합니다.</li></ol><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -d --name test123 -p </span><span class="token number" style="color:#36acaa">80</span><span class="token plain">:80 -v C:/Resources/docker/jenkins/jenkins_home/workspace/helloworld-docker-blue-green/nginx/nginx.conf:/etc/nginx/nginx.conf nginx</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="사용하지-않는-port-스위칭-문제">사용하지 않는 port 스위칭 문제<a class="hash-link" href="#사용하지-않는-port-스위칭-문제" title="제목으로 바로 가기">​</a></h3><p><code>10001</code> (blue)와 <code>10002</code> (green)포트를 사용합니다.</p><p>blue를 컨테이너가 up되면 green 컨테이너는 down됩니다. 하지만 down 되었다고해서 <code>10002</code> port가 사용이 불가능 하지는 않습니다. 다만 해당 포트로 포워딩 해야 할 자원은 없기 때문에 오랜시간 동안 response를 기다릴 것 입니다.</p><p>로드 밸런서에 <code>10001</code> 과 <code>10002</code> 를 로드 밸런싱 하도록 되어있기 때문에 blue-green 배포 시 필연적으로 하나의 port는 제대로된 역할을 못하여 새로고침시 오랜시간동안 기달려야 합니다.</p><blockquote><p>로드 밸런서는 하나의 포트가 사용되지 않더라도 접속은 되기 때문에 요청이 들어올 때 까지 기다리는 것입니다.</p></blockquote><p>정상적인 방법은 아직 찾지 못하였으나 사용하지 않는 포트에 접속할 수 없는 상태코드를 뿌려주는 것이 맞아보입니다.</p><p><strong>현재는 <code>conf</code> 에서 timeout이 1초 이상 넘어가면 접속하지 않도록 되어있습니다.</strong></p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="실습에-사용된-코드-설명">실습에 사용된 코드 설명<a class="hash-link" href="#실습에-사용된-코드-설명" title="제목으로 바로 가기">​</a></h2><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2klEQVQYlV2OO07EMBgGc/8aCdHQwCmAE9BQIyqiTbReJ34/snGUQXYQCCxNN9/87owxDMPAOI5cpMRa20gp8/TyzO3dDQ+P93QxRuZ5pg6qkHNmLYWYEmJShLRQX+eca1IVUkqNnBJmmuhPI0LOlG07ikIInPXknCilsJWClpLzWaCMxflAV0ut6jzaHrgQMdailGpn933//qNSaGPR1qHNMVJK/xODxxnNuq6s12ujlJUQAtM0/Yqni+LtoyemwLIsjTry3v8VP8XM63tPiP4Qa7WJASnlj/gFWMpXXy/iATIAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1830" height="1696"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.3398e60.1830.png" srcset="/assets/ideal-img/4.3398e60.1830.png 1830w" width="1830" height="1696"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="로드-밸런서-활성화">로드 밸런서 활성화<a class="hash-link" href="#로드-밸런서-활성화" title="제목으로 바로 가기">​</a></h3><p>먼저 로드 밸런서를 활성화 해야합니다.</p><p>코드를 살펴보면 실제로 tomcat 컨테이너가 올라가는 port는 <code>10001</code> (blue)과 <code>10002</code> (green)입니다.</p><p>blue-green 배포가 진행되면 <code>10001</code> 과 <code>10002</code> 이 계속 스위칭 됩니다. 어느 포트로 스위칭 되어도 같은 접속 포트로 접속한 이펙트를 위해서 로드 밸런서가 활성화되어야 합니다. 때문에 활성화 되어있지 않으면 <code>80</code> (http)으로 접속하더라도 not getway가 출력됩니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="webhook">Webhook<a class="hash-link" href="#webhook" title="제목으로 바로 가기">​</a></h3><p>Webhook으로 jenkins가 trigger되면 <code>chmod +x ./deploy.sh</code> 으로 실행권한을 주고 <code>./deploy.sh</code> 으로 shell script를 실행합니다.</p><p>해당 script가 하는 action는 blue가 up이면 green실행 아니면 반대가 전부입니다.</p><p>shellscript에 대한 자세한 설명은 <a href="https://bhsbhs235.github.io/jenkins/springboot/docker/2020/02/02/dockercomposespringboot.html" target="_blank" rel="noopener noreferrer">docker-compose,springboot무중단배포</a> 을 참고합니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="reference">Reference<a class="hash-link" href="#reference" title="제목으로 바로 가기">​</a></h2><ol><li><a href="https://velog.io/@swchoi0329/NGINX-%EB%AC%B4%EC%A4%91%EB%8B%A8-%EB%B0%B0%ED%8F%AC" target="_blank" rel="noopener noreferrer">추후, spring으로 무중단 배포시 살펴보기</a></li></ol>]]></content:encoded>
            <category>docker</category>
            <category>Blue-Green</category>
            <category>DevOps</category>
        </item>
        <item>
            <title><![CDATA[nginx를 이용해 Load Balancer 구현 해보기 (with docker)]]></title>
            <link>https://parkgang.github.io/blog/2020/11/29/implement-load-balancer-using-nginx-with-docker</link>
            <guid>/2020/11/29/implement-load-balancer-using-nginx-with-docker</guid>
            <pubDate>Sun, 29 Nov 2020 03:00:00 GMT</pubDate>
            <description><![CDATA[nginx를 docker 컨테이너로 실행하여 로드밸런싱 하는 방법에 대해 소개합니다.]]></description>
            <content:encoded><![CDATA[<p>nginx를 docker 컨테이너로 실행하여 로드밸런싱 하는 방법에 대해 소개합니다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><a href="https://sang12.co.kr/215/%28Docker%29Nginx%EC%99%80-Tomcat%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%EB%A1%9C%EB%93%9C-%EB%B0%B8%EB%9F%B0%EC%8B%B1-%EB%B0%8F-%EB%AC%B4%EC%A4%91%EB%8B%A8-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0" target="_blank" rel="noopener noreferrer">(Docker)Nginx와 Tomcat을 활용한 로드 밸런싱 및 무중단 배포하기</a> 해당 글을 참고하였습니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="docker-compose-작성">docker-compose 작성<a class="hash-link" href="#docker-compose-작성" title="제목으로 바로 가기">​</a></h2><p>먼저 로드 밸런싱을 위한 <code>nginx</code> server와 test를 위해 <code>tomcat</code> server를 2개 띄어보겠습니다.</p><p>편리하게 실행하기 위해 <code>docker-compose</code> 를 작성합니다.</p><div class="language-yml codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">docker-compose.yml</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-yml codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.8"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">nginx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token datetime number" style="color:#36acaa">80:80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./nginx/nginx.conf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/nginx/nginx.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tomcat1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tomcat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tomcat1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 10001</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./tomcat1/webapps/</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/usr/local/tomcat/webapps/ROOT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tomcat2</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tomcat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> tomcat2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 10002</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./tomcat2/webapps/</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/usr/local/tomcat/webapps/ROOT</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="배치-파일-추가">배치 파일 추가<a class="hash-link" href="#배치-파일-추가" title="제목으로 바로 가기">​</a></h2><p>위에서 작성한 <code>docker-compose</code> 를 보면 볼륨 마운트가 되어있습니다.</p><p><code>nginx</code> 의 경우 config를 쉽게 변경하기 위해 <code>tomcat</code> 의 경우 로드 밸런싱의 결과를 확인하기 위해 정적 파일을 쉽게 추가하도록 마운트 되어있습니다.</p><p><code>nginx.conf</code> 와 같이 파일을 마운트 하는 경우 해당 경로에 파일이 없으면 아래와 같이 오류가 출력됩니다. 먼저 실행 전에 해당 파일을 작성하도록 하겠습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAh0lEQVQImWXOQQrDIBAFUC+gIEjCWKcJRvEE6iqLFNvc/0S/qHTVxeMzf2AYcX9uvFvD67rQWsN5nqi1opSCUsvInDPE9tywLAu01lBKTVJBSjn8OpFSQggB/vDY933ocxdjHLz3ECnGuTgC+nXnHJgZ7HgmM6y1EA8ikLUgIqzrOt4wxvz5ArP1RS+aZEREAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="979" height="512"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.c0126fe.979.png" srcset="/assets/ideal-img/1.c0126fe.979.png 979w" width="979" height="512"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="하이어라키">하이어라키<a class="hash-link" href="#하이어라키" title="제목으로 바로 가기">​</a></h2><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVQImS3FPU+DQACA4ftNptqlpDHRSjkFoaVVG+AO6AEBMWr8rCS6GKOJDq5OLv7M16Q6PHnEy9s3r+8/dI9fXN9+UpkHSrNab7I7Li+eWd1/IEbbCTvWEYMNH6s3YdifM9z6159jbYYMelNEFnXk6gm96IhmN4T2cm3mGMJxzslhQ3p8hSgnDSY4pZi2FEGD8Qpy90/mFhi/wgQ1It1TLEcRZ05MPU5IdmNaR9FKxfl+Qu1oahkjPGnQUpFIjWtrQltjDlKU1JReysItqPyMX2oGfgNw8f7oAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1235" height="714"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.6eaa069.1235.png" srcset="/assets/ideal-img/2.6eaa069.1235.png 1235w" width="1235" height="714"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="source-code">Source Code<a class="hash-link" href="#source-code" title="제목으로 바로 가기">​</a></h2><div class="language-nginx codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">./nginx/nginx.conf</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-nginx codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token directive keyword" style="color:#00009f">user</span><span class="token directive">  nginx</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">worker_processes</span><span class="token directive">  </span><span class="token directive number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">error_log</span><span class="token directive">  /var/log/nginx/error.log warn</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">pid</span><span class="token directive">        /var/run/nginx.pid</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">events</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">worker_connections</span><span class="token directive">  </span><span class="token directive number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">http</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">include</span><span class="token directive">       /etc/nginx/mime.types</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">default_type</span><span class="token directive">  application/octet-stream</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">log_format</span><span class="token directive">  main  </span><span class="token directive string" style="color:#e3116c">'</span><span class="token directive string variable" style="color:#36acaa">$remote_addr</span><span class="token directive string" style="color:#e3116c"> - </span><span class="token directive string variable" style="color:#36acaa">$remote_user</span><span class="token directive string" style="color:#e3116c"> [</span><span class="token directive string variable" style="color:#36acaa">$time_local]</span><span class="token directive string" style="color:#e3116c"> "</span><span class="token directive string variable" style="color:#36acaa">$request</span><span class="token directive string" style="color:#e3116c">" '</span><span class="token directive"></span><br></span><span class="token-line" style="color:#393A34"><span class="token directive">                      </span><span class="token directive string" style="color:#e3116c">'</span><span class="token directive string variable" style="color:#36acaa">$status</span><span class="token directive string" style="color:#e3116c"> </span><span class="token directive string variable" style="color:#36acaa">$body_bytes_sent</span><span class="token directive string" style="color:#e3116c"> "</span><span class="token directive string variable" style="color:#36acaa">$http_referer</span><span class="token directive string" style="color:#e3116c">" '</span><span class="token directive"></span><br></span><span class="token-line" style="color:#393A34"><span class="token directive">                      </span><span class="token directive string" style="color:#e3116c">'"</span><span class="token directive string variable" style="color:#36acaa">$http_user_agent</span><span class="token directive string" style="color:#e3116c">" "</span><span class="token directive string variable" style="color:#36acaa">$http_x_forwarded_for</span><span class="token directive string" style="color:#e3116c">"'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">access_log</span><span class="token directive">  /var/log/nginx/access.log  main</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">sendfile</span><span class="token directive">        </span><span class="token directive boolean" style="color:#36acaa">on</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#tcp_nopush     on;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">keepalive_timeout</span><span class="token directive">  </span><span class="token directive number" style="color:#36acaa">65</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#gzip  on;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># 여기 아래부터 기본 값 수정했습니다</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># include /etc/nginx/conf.d/*.conf; (제거하지 않으면 설정해도 기본 설정을 타게 됩니다)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">upstream</span><span class="token directive"> tomcat-project</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token directive keyword" style="color:#00009f">server</span><span class="token directive"> 52.231.50.84:10001</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token directive keyword" style="color:#00009f">server</span><span class="token directive"> 52.231.50.84:10002</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">server</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token directive keyword" style="color:#00009f">listen</span><span class="token directive"> </span><span class="token directive number" style="color:#36acaa">80</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token directive keyword" style="color:#00009f">location</span><span class="token directive"> /</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token directive keyword" style="color:#00009f">proxy_pass</span><span class="token directive"> http://tomcat-project</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-nginx codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">실제 default nginx.conf</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-nginx codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token directive keyword" style="color:#00009f">user</span><span class="token directive">  nginx</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">worker_processes</span><span class="token directive">  </span><span class="token directive number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">error_log</span><span class="token directive">  /var/log/nginx/error.log warn</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">pid</span><span class="token directive">        /var/run/nginx.pid</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">events</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">worker_connections</span><span class="token directive">  </span><span class="token directive number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token directive keyword" style="color:#00009f">http</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">include</span><span class="token directive">       /etc/nginx/mime.types</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">default_type</span><span class="token directive">  application/octet-stream</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">log_format</span><span class="token directive">  main  </span><span class="token directive string" style="color:#e3116c">'</span><span class="token directive string variable" style="color:#36acaa">$remote_addr</span><span class="token directive string" style="color:#e3116c"> - </span><span class="token directive string variable" style="color:#36acaa">$remote_user</span><span class="token directive string" style="color:#e3116c"> [</span><span class="token directive string variable" style="color:#36acaa">$time_local]</span><span class="token directive string" style="color:#e3116c"> "</span><span class="token directive string variable" style="color:#36acaa">$request</span><span class="token directive string" style="color:#e3116c">" '</span><span class="token directive"></span><br></span><span class="token-line" style="color:#393A34"><span class="token directive">                      </span><span class="token directive string" style="color:#e3116c">'</span><span class="token directive string variable" style="color:#36acaa">$status</span><span class="token directive string" style="color:#e3116c"> </span><span class="token directive string variable" style="color:#36acaa">$body_bytes_sent</span><span class="token directive string" style="color:#e3116c"> "</span><span class="token directive string variable" style="color:#36acaa">$http_referer</span><span class="token directive string" style="color:#e3116c">" '</span><span class="token directive"></span><br></span><span class="token-line" style="color:#393A34"><span class="token directive">                      </span><span class="token directive string" style="color:#e3116c">'"</span><span class="token directive string variable" style="color:#36acaa">$http_user_agent</span><span class="token directive string" style="color:#e3116c">" "</span><span class="token directive string variable" style="color:#36acaa">$http_x_forwarded_for</span><span class="token directive string" style="color:#e3116c">"'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">access_log</span><span class="token directive">  /var/log/nginx/access.log  main</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">sendfile</span><span class="token directive">        </span><span class="token directive boolean" style="color:#36acaa">on</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#tcp_nopush     on;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">keepalive_timeout</span><span class="token directive">  </span><span class="token directive number" style="color:#36acaa">65</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#gzip  on;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token directive keyword" style="color:#00009f">include</span><span class="token directive"> /etc/nginx/conf.d/*.conf</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-html codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">./tomcat1/webapps/index.html</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-html codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Document</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tomcat1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-html codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">./tomcat2/webapps/index.html</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-html codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Document</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tomcat2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="실행">실행<a class="hash-link" href="#실행" title="제목으로 바로 가기">​</a></h2><p>해당 파일 경로로 이동하여 <code>docker-compose up -d</code> 으로 실행하도록 합니다.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p><code>docker-compose</code> 를 실행하는 디렉토리명이 -p 이름이 됩니다. 때문에 디렉토리명을 -p 으로 작성하면 편리합니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="확인">확인<a class="hash-link" href="#확인" title="제목으로 바로 가기">​</a></h2><p>새로고침 결과 정상적으로 tomcat1과 tomcat2가 스위칭 되는것을 확인할 수 있습니다.</p>]]></content:encoded>
            <category>docker</category>
            <category>nginx</category>
            <category>load balancer</category>
            <category>DevOps</category>
        </item>
        <item>
            <title><![CDATA[Docker in Docker를 이용해 CI/CD 구축하기 (with jenkins, slack)]]></title>
            <link>https://parkgang.github.io/blog/2020/11/28/building-ci-cd-using-docker-in-docker-with-jenkins-slack</link>
            <guid>/2020/11/28/building-ci-cd-using-docker-in-docker-with-jenkins-slack</guid>
            <pubDate>Sat, 28 Nov 2020 04:00:00 GMT</pubDate>
            <description><![CDATA[docker in docker 테크닉을 이용해 docker로 실행된 jenkins 환경에 또 docker를 이용해 웹 애플리케이션을 띄어보도록 하겠습니다.]]></description>
            <content:encoded><![CDATA[<p>docker in docker 테크닉을 이용해 docker로 실행된 jenkins 환경에 또 docker를 이용해 웹 애플리케이션을 띄어보도록 하겠습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="jenkins-설치">jenkins 설치<a class="hash-link" href="#jenkins-설치" title="제목으로 바로 가기">​</a></h2><p>docker를 이용하여 jenkins를 설치합니다.</p><p>jenkins가 docker 컨테이너에서 돌아가고 빌드 유발시 컨테이너안에서 또 하나의 컨테이너가 생성되기 때문에 docker in docker 방식으로 구현됩니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="dockerfile-작성">Dockerfile 작성<a class="hash-link" href="#dockerfile-작성" title="제목으로 바로 가기">​</a></h3><p>기본적으로 jenkins에는 <code>docker</code> 와 <code>docker-compose</code> 가 없습니다. 초기에 쉽게 설정할 수 있도록 <code>Dockerfile</code> 을 작성하도록 합니다.</p><div class="language-docker codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">Dockerfile</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-docker codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token instruction keyword" style="color:#00009f">FROM</span><span class="token instruction"> jenkins/jenkins:lts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">USER</span><span class="token instruction"> root</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> apt-get update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># docker install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> curl -fsSL https://get.docker.com/ | sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># docker-compose install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> curl -L </span><span class="token instruction string" style="color:#e3116c">"https://github.com/docker/compose/releases/download/1.25.4/docker-compose-$(uname -s)-$(uname -m)"</span><span class="token instruction"> -o /usr/local/bin/docker-compose &amp;&amp; </span><span class="token instruction operator" style="color:#393A34">\</span><span class="token instruction"></span><br></span><span class="token-line" style="color:#393A34"><span class="token instruction">    chmod +x /usr/local/bin/docker-compose</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>jenkins docker image</h5></div><div class="admonition-content"><p><code>jenkins</code> 도 있지만 2.60.3 이후에 더 이상 업데이트가 종료되었습니다. <code>jenkins/jenkins</code> 는 최신 jenkins 버전을 지원합니다. <code>jenkins/jenkins</code> 는 Jenkins의 기본 이미지만을 제공하기 때문에, 추가적인 작업이 필요하다면, 따로 Dockerfile을 세팅해야 합니다.</p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>jenkins 사용시 마운트 이유</h5></div><div class="admonition-content"><p><code>/var/run/docker.sock</code> 파일만 공유를 하면 Local에 설치된 Docker를 컨테이너 내부에서 사용할 수 있고, 또한 컨터에너 내부에 설치된 Docker를 다른 컨테이너 내부에서 사용이 가능해집니다. 덕분에, 젠킨스 파일을 모두 백업할 수 있습니다.</p><p>자세한 설명은 <a href="https://medium.com/dtevangelist/docker-in-docker-fb54252e3188" target="_blank" rel="noopener noreferrer">Docker in docker</a> 를 참고허세요.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="docker-compose-작성">docker-compose 작성<a class="hash-link" href="#docker-compose-작성" title="제목으로 바로 가기">​</a></h3><p>이미지 빌드 및 파라미터를 문서화 할 수 있도록 <code>docker-compose</code> 를 작성합니다.</p><div class="language-yml codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">docker-compose.yml</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-yml codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"3.8"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">jenkins</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> jenkins/jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 8080</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./jenkins_home</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/jenkins_home</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /var/run/docker.sock</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/run/docker.sock</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">TZ</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Asia/Seoul"</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><ol><li><a href="https://freedeveloper.tistory.com/181" target="_blank" rel="noopener noreferrer">단축어와 같은 상세설정</a></li><li><a href="https://gwonsungjun.github.io/articles/2019-04/jenkins_tutorial_1" target="_blank" rel="noopener noreferrer">체계적인 Dockerfile 관리</a></li></ol></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="실행">실행<a class="hash-link" href="#실행" title="제목으로 바로 가기">​</a></h3><p><code>docker-compose</code> 의 파일 경로로 이동하여 <code>docker-compose -p jenkins up -d</code> 으로 실행하도록 합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAWklEQVQImXWKywqAMAwE8/+/6UkQaxpITB9ZaYWCBwcWlmFo20+YClQN7g4zQykVrTXUWtF7x+0FlESRmSEiU47gjcv8ww0o84Hr4iX+oMQMVV1hRHw26BF4ABVTnQ5FwtWtAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="926" height="428"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.cb3551f.926.png" srcset="/assets/ideal-img/1.cb3551f.926.png 926w" width="926" height="428"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxElEQVQImR2Hy06DQAAA96uaWA81plqEhVpLFUmFXR7LKthgm6p9hHg0/vQYOExmRuy2vxz3fxyaH77rjtaeseaMLU9UxXHo3uJBNixlw2Ka417G3F5ETEaPXI9jZleKyehpQLzpDrM+EMlXwjtD6JSsnIJIWl4W76yGLxGfZUebfJEHFUVgMPPe1fCZb4buLfbZid3zllZqaleR3iRsXMXG03zIlNrLaKRCLOc1RVCQeBp/pgkdRelnpJ6iCjSxb7D3Of/4SX3p4v/+OAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1235" height="714"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.6a2c7e0.1235.png" srcset="/assets/ideal-img/2.6a2c7e0.1235.png 1235w" width="1235" height="714"></noscript></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>windows에서 설치하면 아래의 사진처럼 WSL이 가능하므로 Docker Desktop for Windows으로 설치하라고 많은 Warning message가 출력되는데 무시하고 좀 기달리면 정상적으로 설치됩니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0ElEQVQImQXB3U6DMACAUZ5KvXLGJWZDWgSCAxdd2kL5nTIFcRiXeGOixnjhA3+e40z7Xw5vf4zjD/3TJ0P/xfPwza77oC4PFPkrNptwIrHl2msJLyxyrnFnd1yebVic3jI/STg/ipkdr3B00mOTARN36OiBTbDlRtakXknq5qQLQ7zMce6jmjasaKOGOqypwpoiqLB+SSktmSxQwuI8yoxRGN6DjL1vaJaKSRpGqXmRip0wdELhrGRJKTS5NMSuYe1qGj9DeYpCataioLoy/AP+QH+IS2wq6gAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1235" height="714"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.71a8098.1235.png" srcset="/assets/ideal-img/3.71a8098.1235.png 1235w" width="1235" height="714"></noscript></div></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>파일 관리 전략</h5></div><div class="admonition-content"><p>현재 jenkins 컨테이어의 볼륨은 호스트 디렉토리와 바인딩 되어있습니다.<br>
<!-- -->앞으로 생길 docker resource를 쉽게 관리하기 위해 하나의 디렉토리에 <code>Dockerfile</code> , <code>docker-compose</code> , <code>config</code> 파일을 관리하도록 합니다.</p><div class="codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-text codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token plain">// Ex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> └ jenkins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ㅤ└ Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ㅤ└ docker-compose.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ㅤ└ jenkins_home</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> └ mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ㅤ└ Dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ㅤ└ docker-compose.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ㅤ└ config 파일</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="확인">확인<a class="hash-link" href="#확인" title="제목으로 바로 가기">​</a></h3><p>실행한 컨테이너로 들어가 <code>docker</code> 와 <code>docker-compose</code> version을 출력하여 정상적으로 설치된 것을 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA10lEQVQYlTXH3U7CMABA4b6WCpGxiQxG54QIrGvXDtZKNIL83Xnjix+TqRcn+Y44vn1zCF9szQVbnrDqRG2u1PrSZc0Vo86IxXRHkTQUA00+MEz6FcM7RXRbMrgpifuaYa9CqMUndfHBRu5YPm55Shx54pCxoxg1f7aIVepZTTwvacsybTuvp571xKNmgXIaOgsvW7z0BOl5zT27PHT/Xyt/X7TjmuPMcZaO98xhRoZDZjnJhn3muEjHftYgTKTQQ8U80sQ9xfxesXkwVLHGxiVhXPOcbPgBaWiPGZYKmR4AAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1366" height="984"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.d47f1a0.1366.png" srcset="/assets/ideal-img/4.d47f1a0.1366.png 1366w" width="1366" height="984"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="jenkins-접속">jenkins 접속<a class="hash-link" href="#jenkins-접속" title="제목으로 바로 가기">​</a></h2><p>호스트 PC에서 <code>8080</code> 으로 접속하도록 설정했음으로 <code>http://{Server IP}:8080</code> 으로 접속하도록 합니다.</p><p>그러면 비밀번호를 요구하는데 비밀번호는 <code>docker-compose logs</code> 혹은 해당 컨테이너 logs에 적혀있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVQYlU2OwUrDQBRF5zOVQkxqm0r9DbeCW7d1I66MomIySRausigBN8WZDCFRpAoGk4bUmczkySsuPHBX977DIyPbOp3Mjj5dd86ms2PhTKbCsQ+FM3bFgT3mluWs9/ZH5yQMw0vGGNR1DVVVQdu2oJQCKSX0fQ9CCIjj+IH4vr/IsgzazUat3z/M91dl5PbHIACgUBIEgYfDC845XiOAvdZ6ZzXGaMY4UEpvdkYcAoAchkFjcNA0je66Tv4Zrwml9Ar/+A8aMQh2URQ9Es/zTpIk4WVZLouiSDF5nqdvr2X6vOJLP356ub+7PfsFlbzpemwI3HcAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.6f94582.2956.png" srcset="/assets/ideal-img/5.6f94582.2956.png 2956w" width="2956" height="2222"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7UlEQVQImS3K20rCAACA4T1KdISOq1FbDJOFNEI0tOOgVwq6KUi7q0zZA9hFouELFHaCoouakWtubWWHLfiD8Oq7+YSdU4vcWYt83WG/7pCvNdmrNtmtWOQqT2yfPLJVthDePYdO8EYU/vBwf0fW2GRpzSCzbpBe3UBPZ0hlVxCeWy6vbZ+v74jzxg2zWhJpTmcitsCgpNIzIjGmxBFe7DauFxCGv1xe3ZJILqMmUkxri4jqPKMzMWRN70bX/48XjWuG5Th9okK/qDAwqdA7LjM0pSB4fsBH55MwjLBth0LJ5KBQ5PC41NXkqGjyBwMKpszuQVM4AAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1250" height="720"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.eb7c39c.1250.png" srcset="/assets/ideal-img/6.eb7c39c.1250.png 1250w" width="1250" height="720"></noscript></div></div><p>필수 플러그인을 설치하도록 합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9ElEQVQYlTXOT2uDMBgGcL9txxR1bQf9RDvtttNOwaSgrDtsjC1eNNq1Ikjin0hDTeM7IuyBB97Dw4/XWXnui+eH3Wa7q9bbXR2sN3UQPNRB+Fh7fli5rt+u7u5fnSSJk6IoQF0uMEq5dJ5nMMaAzfFYQhzHH04URfuCMeC91OeGm4ZzI6U00zTZ5S3LMogifHAwxnsrMi5vn2cBv00L1ekEXAgLmjzPAWP8boeEMQbazFqqq1HXadGEEEYppa2IMX5zCCGHsiyXf/5zMwa01sttEULIl4MQeqKUsmEYvruup33f07Ztadd1dBzHnzRNc4TQ8x/Slu9RvgmgugAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2868" height="2134"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.3f8b0aa.2868.png" srcset="/assets/ideal-img/7.3f8b0aa.2868.png 2868w" width="2868" height="2134"></noscript></div></div><p>admin 계정을 설정합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5ElEQVQYlXWMMU/DMBCF/TNBldokRClS/wYrEitrWRATAQGKE6cLAxmqDEzgmNgbYiiiUaw02Hfoqq486enp3X16bBJMz+P56VcyX7zHyUIFJ7GKoliFYaJmQSSns/Dz6HhyyYQQ11JK7Pset9sf7LoOrbXonENS27ZYluUT41m2bJqGnuNm8+2ttX4YBo+I5FEphXmep4xzfkWLAPA77Mb9CgkAKNwBvCNwSSAi7gDAee8dJZluB/CWFUVxQ+U/aa1RCJGxNE3PqqqSxpi1MaYma2Pqj1bX5cvrmq+e3x4f7i/+ABf36jNmBWSpAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/8.d56ce3b.2956.png" srcset="/assets/ideal-img/8.d56ce3b.2956.png 2956w" width="2956" height="2222"></noscript></div></div><p>jenkins의 TCP 포트를 앞으로 계속 같은 포트로 쓸 것인지 물어봅니다. 여기서 현재의 포트를 사용한다고 하면 jenkins 호출시 현재 포트번호로 호출해야합니다. 일단은 같은 포트를 사용할 예정이므로 Save하여 사용하도록 합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5klEQVQYlXWMT0vDQBTE92MqhbapsRH6NbwKXr3Wi3gy4h82yeZiLzmE3gTdbJJVkRKLxOq2dN3dJ69U8OLAMO8NP4Z0+t0jPzhohsHo0Q9GwvP3xd7AF543FL3+gHd73mxnt3NCGGNnnHNQSsFi8Qlt+wFfSoG1FlBVVUGapreEUjouigJWq6Vu3ub2ddbY+XtrtdZI6rIsIY7jkERRdIqLAPDtnNusYBpj8DRb8BLB8RZcO+fMX2MnhEDwgiRJco7Pf6rrGhhjlIRheJhlGZdS5lLK6a9fnp+mk/w+p+ndw8311fEP3VXp/FNhLU4AAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/9.da8d1d2.2956.png" srcset="/assets/ideal-img/9.da8d1d2.2956.png 2956w" width="2956" height="2222"></noscript></div></div><p>이로써 docker를 이용하여 jenkins 설치는 끝났습니다. 이제 ci/cd를 위한 소스코드를 작성하도록 하겠습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5klEQVQYlXWMzWrCQBSF52XEDikIVbFPIVT6SG4Lbt3qRly1hZqkpRRdBiRrHUc3/jS9HTJEY03HmSujUlc98HF/zj2XFCvlh1Ll9stxCmPqFHguT/lVnvJqtcbvavfsplj+pPS6SXzP7QRBgP3BAHuejy89F9/eP3C+WKKUEsMwRM9/dQkAtPCk31WcarHZ6T2iVga13VlDKfVEJtNZe5Nu7aDOAURjjmit98YYFEI8kwmfttbpFn92WWaNE8Ye2D6zuTiOH4mUsvv36R8lSeITznldCMEAYAgA4YVvW4dRFI0YY40DPeTrw/UxTeUAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/10.cbe5cf9.2956.png" srcset="/assets/ideal-img/10.cbe5cf9.2956.png 2956w" width="2956" height="2222"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="소스코드-작성">소스코드 작성<a class="hash-link" href="#소스코드-작성" title="제목으로 바로 가기">​</a></h2><p>실습이 진행된 코드는 <a href="https://github.com/parkgang/helloworld-docker-cicd" target="_blank" rel="noopener noreferrer">parkgang/helloworld-docker-cicd</a> 에서 확인하실 수 있습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="webhook-설정">Webhook 설정<a class="hash-link" href="#webhook-설정" title="제목으로 바로 가기">​</a></h2><p>github에서 소스코드 변화가 감지되면 알아서 빌드되도록 Webhook을 설정해야합니다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><a href="https://medium.com/hgmin/jenkins-github-webhook-3dc13efd2437" target="_blank" rel="noopener noreferrer">Github에 push시 Jenkins Webhook 연동 방법</a> 글을 참고 하였습니다.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="github에-webhooks-설정">Github에 Webhooks 설정<a class="hash-link" href="#github에-webhooks-설정" title="제목으로 바로 가기">​</a></h3><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxklEQVQImW2MwWrCQBRF54daNabWFhf6Oy78lypd5EtEEOlKF2FacfLS2kzyEYkwksx7V6a0u144HLhwr5pMZ6/jyTSPHp7T4ehJD6KR7g0Csb7rD9P7fkxR/JioVB/fPswnTlmAcDIZTJYj/zrDmAxEOfT7ca+87zYA4JlbACwiHPxL6OC936mmadZt26JuLlfP3IlIx8x/XEUEdV1vlXPuEFadDwf/xzmnFRHNq6pKrLUv1parwpar78L+uCjssiyrhIgWNyjvxBnWNi7DAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="3808" height="2242"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/11.d79ef92.3808.png" srcset="/assets/ideal-img/11.d79ef92.3808.png 3808w" width="3808" height="2242"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA20lEQVQImVWMO07DQBiE90R5OMHIyAW5DgV3AYsiJ0FICNFACmtjsL12miyBjsaI2Mtv78ODlo6Rppjvk4bF56ubKF5VwclZuggjPg9CPgtCPp0v+WS6SCezpTiN4jVL+ctjVtTIyxpltcNrIZAXAqXwrEJV78C32TOz1twBwAho3Q+Ovo/Oae1GwAHQ3hHRA2vb9nYYBrSKenX8Mqr5NFYr4ywZa3/6cXRomuaeEdHm73EEaOihSPn5L13XcSaEuJBSrj8O71dP203C8yx5k4dkv5e+194JIS5/AdKXwwaloIyJAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="3808" height="2242"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/12.8cffdc8.3808.png" srcset="/assets/ideal-img/12.8cffdc8.3808.png 3808w" width="3808" height="2242"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="jenkins-item-생성">jenkins item 생성<a class="hash-link" href="#jenkins-item-생성" title="제목으로 바로 가기">​</a></h3><p><code>~\jenkins_home\workspace</code> 에 프로젝트 파일단위가 저장됩니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA50lEQVQYlXWMzWoCMRSF8zLFhhEEq9anEBQfyW3BrVvdiKuq+DMVKbqpCDLrGmM3bW1Mw4TRUacxuSVa6soDH/fn3HNRKpt5SN1n146TmGMnQW9imN7GMM3lCjRfKJLkXfoL43gFue1mfTp5gdF4DN2+C51uDwbDZ3j/+AQpJXieB333qYc4Y1U462flh1psD/oIoJUBbXfWUEo10WL5VtuGOzuovwCAMSe01kdjDAghWmhBl9VNuIP9IYqsccbYA9tHNuf7/iOSUjb+P11REAQuopSWhBCEcz7jnHsXvm2dMcZeCSHlXy7u67LMqx5IAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/13.d527319.2956.png" srcset="/assets/ideal-img/13.d527319.2956.png 2956w" width="2956" height="2222"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCklEQVQYlR2Nz0uEQBzF548J3IItrK3ov6j20D/UNejadbtEp4okQlmli5AsnmuxbcpBzXXGH6Po7Og39PDhwXuP99DB0eTq8PjkbzxWP5XtsbeljLyRsuOdTy+807PpcndPDdX9yQ0y5/M727ZB0zTQdR0MwwDTNIEQMuA4DliW9YKEEDMAAEoT0TRN23XdQFmWLedc9Bnn/BElSXIrhADf9zdxHEOapsAYg6IooKoq2bYthGH4hBhjM7GR4JOgWa9jyRiTlFKZZZnknDf9YhRFDyjP8/sOAHxCgFLa30CWZYPWdd33ev8V+b8/l0EULZ/f3her1ZeLMXa/MXYJIW4QBAtK6QfG+PofEmzoFQSnU7sAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/14.c56f83c.2956.png" srcset="/assets/ideal-img/14.c56f83c.2956.png 2956w" width="2956" height="2222"></noscript></div></div><p><strong>public repose이므로 github 계정은 입력하지 않았습니다.</strong></p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA60lEQVQYlT2OwUrEMBCG86rrtnYrBX0Ir4JXr3oRT+pFxAfwtOxZlx7WdWsySTNppC1J046kyA58/AzM/zEszbOr4vwCslXxuUzzcpGclmmalctkVS5Okm1+VvAkyW4YIt4PIZC1lrz35Lyf0/uBnHMUp2maF2YQb0MIcfGIejQSZn5rNRqNPowjKSmfovEuHhpjBiklKQCqpSQpBIEQYZomAoBnpv+NiOgAIIDgAUEEFDzIqnJjNCr1yKy1D7Gltaa2banv+yNd180/Wmtf2eF7f7mv+PbtfbOuqsNGCHHkh/O1VPXH1253/QeB+PMAW3MqPgAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/15.b32edb0.2956.png" srcset="/assets/ideal-img/15.b32edb0.2956.png 2956w" width="2956" height="2222"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA80lEQVQYlT2Ov07DMByE/aq0SdOWf+IdWJFYWWFBTMCCEC/QpSorVJFSJREkwnac1MnPjp1DKRLDpxvu0+lYuIiuTs4vyvni7HM6O44nwSwOwyieBvP4aBJsl8vT7yCIbpisqvve9uBFAV3XMMYcsNagI4IbgLpWL6yqqtu+78HLwmqlPBH907addc5DSvnEpJR33nv8cN6rpgEZAyKCIRrT+WGAEOJ5FA+LknOjpXTdvnEdkRulfd2YcaQsy0emlHoAAKXU4WOrWxhrYa1Fq/VYgQvxyrI0vcy+iu3b6n29S9PNLs03ef5HludrIcRHkiTXv1Dq9G/KdQGDAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/16.65908e7.2956.png" srcset="/assets/ideal-img/16.65908e7.2956.png 2956w" width="2956" height="2222"></noscript></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>shell의 pwd는 <code>/var/jenkins_home/workspace/~</code> 입니다.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="webhook-확인">Webhook 확인<a class="hash-link" href="#webhook-확인" title="제목으로 바로 가기">​</a></h3><p>먼저 강제로 trigger으로 스트립트와 github pull하는데 문제가 없는지 확인합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7klEQVQYlWWOzUrDQACE92GUVFrrJVX7Dnqo+EheBa9e60V6sSoYDEkuuYhYvOjBrGtRqHSbkG1+SJq6uyNBQcWBj4GZOQwxtzqHne3urNncCFYbLbZiNJhhrLGd3R7r7e1T09ycttfbx+TKsk5934fneXAcB7Ztw3VdcM6RJHPc3N5hcHZpkbcJ7+NLS6mhgD8s6+KVi3PCguCkXFQoFtVHludQSkNKCa01lFKyHiZzcUGeHx/6cThDkecVAKm1/k2dIY7FkEwn74Miy1CV5feD/0rT9Jq8jMcHsRA0iqJRGIb3P0S1jzjnT5TSo0/kWusNtJcghgAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/17.9100db1.2956.png" srcset="/assets/ideal-img/17.9100db1.2956.png 2956w" width="2956" height="2222"></noscript></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>만약 github repos가 권한이 필요한 경우 혹은 item이 잘못된 경우 Console Output을 통해 수정합니다.</p></div></div><p>문제가 없다면 소스 수정 후 Github에 Push하여 jenkins에서 자동으로 빌드가 유발되는지 확인합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+0lEQVQYlU2NQUvDMBzF812E1VLEQ9X5IfQw8SN5Fbx6nRfxpF5soerF1V2GvWoJOJnLmjR2ictmmqR/mYr6g8d78OA9FLY3Dzfa2zQI1p9aq2t4peVhz/Pxzm4Hd/b28zDcmvh+cIziODpN0xSub24himLo9e6g378HSilMp1PIsgySJLlCozHpwje1Uso1DTgAcA6+vF4WxpgLNMT4ZLGYg9baEEJg9DoGQt+Aixmo+YdtnAPO+SV6GT53rbVQa63LCbFSCCvlu50pZY0xerlYVdU5EkKc/VwDQPMX/yGljBHG+IBznjPGBmVZPjDGfkUZGxRF8Zjn+dEny33qqdM7xOAAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/18.46866e6.2956.png" srcset="/assets/ideal-img/18.46866e6.2956.png 2956w" width="2956" height="2222"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="webhook이외-원격-빌드">Webhook이외 원격 빌드<a class="hash-link" href="#webhook이외-원격-빌드" title="제목으로 바로 가기">​</a></h2><p>token을 이용해서 API처럼 원격으로 빌드를 수행할 수 있습니다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><code>http://kyungeun.koreacentral.cloudapp.azure.com:8080/job/helloworld-docker-cicd/build?token=rebuild_token</code></p></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6klEQVQYlT3Ou07DMBTG8bwqxWkTFAkeghWpa9eyICZgAR6AMepcqgy5SHWcxHYs5cT1hYNcLkf6bUef/lGcru6y6xuWJNnnZZwWC7IslnFSEJIWFwtySK8ySshqEwkhHqy1yDnHCQBnrf8BzBhuHMfXSEq5tdZh3/dGCe5BqV+jn5Qy3nsUQjyHxXvnPHZdZ49NjX1LkXcMOWMoh8E5/xVGXsLj1liLA+enCcDNWp9prd0E88lYj4yxp0gp9Rg6QiMAYOj9Y4z5aZTyPWrq+rY5toe3jzyvqnJHKd21bXtGKc2Hge+rslx/A8vm89m2cTJhAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/19.18001f3.2956.png" srcset="/assets/ideal-img/19.18001f3.2956.png 2956w" width="2956" height="2222"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="소스코드-docker-컨테이너화">소스코드 docker 컨테이너화<a class="hash-link" href="#소스코드-docker-컨테이너화" title="제목으로 바로 가기">​</a></h2><p>이제 소스코드를 컨테이너화 시켜서 배포해보도록 하겠습니다. 소스코드는 <a href="#%EC%86%8C%EC%8A%A4%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1">Webbook때 사용한 코드와 동일합니다.</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="execute-shell에-추가">Execute shell에 추가<a class="hash-link" href="#execute-shell에-추가" title="제목으로 바로 가기">​</a></h3><p>아래의 shellscript를 jenkins item의 Execute shell에 추가합니다.</p><p>컨테이너를 종료하지 않으면 같은 이름의 컨테이너가 실행되지 않음으로 삭제하고 다시 이미지 빌드 후 컨테이너화 하는 script입니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> -f tomcat-cicd </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> -p jenkins-helloworld-docker-cicd up -d --build</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>위의 shellscript는 <code>docker-compose</code> 를 이용한 방법입니다. 아래의 script와 동일합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">rm</span><span class="token plain"> -f tomcat-cicd </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build -t tomcat-cicd-image:practice </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -d --name tomcat-cicd -p </span><span class="token number" style="color:#36acaa">8888</span><span class="token plain">:8080 tomcat-cicd-image:practice</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6klEQVQYlT2OvU7DMBSF86oFp01DhXgIViRW1rIgJmBBPETFGJUqgQnFVlLHPxfHsW8uciU40rd95+hkeVncXFxeiVWx+ThflvWCLes8L2rG1vXijB3W5aZlbHWXSSkfQgg0KEUAQM458t6fGMeRUpRSr9kg5TZipGPXTaAN/hhAZwG9cwjyOGGMJKV8Tov3iEhKyqAHRVppAmNpBCDQKs6ISXxJ4jbGSGoYvLEQjbERAE5YC36eZ+r7/imzRj9OEan5FhTCRKn0R/qe0nXdW/bZNNetEIeq/tpx3r4LIf7hnO/alu+rqrr9BUeE9Ly2GihlAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/20.aee4511.2956.png" srcset="/assets/ideal-img/20.aee4511.2956.png 2956w" width="2956" height="2222"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="확인-1">확인<a class="hash-link" href="#확인-1" title="제목으로 바로 가기">​</a></h3><p>push후 정상적으로 컨테이너가 실행되는 것을 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlUlEQVQImWXKSwrCMBhF4ex/7kx8IN2FI7E+9iHapkmTP02aWgdHVISKg4/LhaNm2wvznWZZGhalpTi3bE4tq4OlOBrWZcNib1CdM4xJ6KXlkROMGcZ+4vPVTTuqxlLVBu8jXiI+JLxMhISqG4fRDfp6xdaW0Hpi7Om69ENV2uKcEJwgr5X4F71DJ4GUMsNwJ+ev4c8TAKzhS/Cu1CEAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1250" height="720"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/21.c8862a2.1250.png" srcset="/assets/ideal-img/21.c8862a2.1250.png 1250w" width="1250" height="720"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="slack-연동">slack 연동<a class="hash-link" href="#slack-연동" title="제목으로 바로 가기">​</a></h2><ol><li><a href="https://jojoldu.tistory.com/139" target="_blank" rel="noopener noreferrer">docker를 이용한 CI 구축 연습하기 (젠킨스, 슬랙)글을 참고합니다</a></li><li><a href="https://dnight.tistory.com/entry/Jenkins-Slack-%EC%95%8C%EB%A6%BC-%EC%97%B0%EB%8F%99" target="_blank" rel="noopener noreferrer">해당 글으로 성공했습니다</a></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="docker-in-docker-issue">docker in docker issue<a class="hash-link" href="#docker-in-docker-issue" title="제목으로 바로 가기">​</a></h2><p>docker in docker으로 사용시 생기는 몇가지 문제점이 있습니다.</p><p>파일 마운트의 경로가 host pc으로 잡히는 문제가 있는 걸로 확인됩니다. 주의해서 사용바랍니다.</p><p>자세한 설명은 <a href="https://stackoverflow.com/questions/31381322/docker-in-docker-cannot-mount-volume" target="_blank" rel="noopener noreferrer">Docker in Docker cannot mount volume</a> 를 참고하세요.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="기타-빌드-도구-설정">기타 빌드 도구 설정<a class="hash-link" href="#기타-빌드-도구-설정" title="제목으로 바로 가기">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="gradle">gradle<a class="hash-link" href="#gradle" title="제목으로 바로 가기">​</a></h3><p><a href="https://miiingo.tistory.com/171" target="_blank" rel="noopener noreferrer">jenkins에서 gradle shell 활성화</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="yarn">yarn<a class="hash-link" href="#yarn" title="제목으로 바로 가기">​</a></h3><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><ol><li>yarn plugin이 없어서 npm을 통해 설치 후 사용하는 것으로 확인됩니다.</li><li>node script에 하면 안됩니다.</li></ol></div></div><ol><li><a href="https://dev.to/techworld_with_nana/how-to-configure-build-tools-gradle-yarn-in-jenkins-and-use-them-in-jenkinsfile-4eci" target="_blank" rel="noopener noreferrer">gradle + yarn 설정</a></li><li><a href="https://sg-choi.tistory.com/213" target="_blank" rel="noopener noreferrer">job 설정 부분 참고함</a></li></ol><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAABD0lEQVQYlSXNzUoCQQAH8HmYcKkIIj/oNUzoiboGXbvaJTpZIbZ4iF0oI5EFw6BsRAlb92NG3W12d8aZ/h38vcCPVI6r54dH5dCy9j939w7oTsmiVsmijZNTWq83xpVyZVGr1i6J/dC57vdf4bgu7js2uo8OnKdn+BFDEHN03R5abbtD5v6iiS3FE2Fy/Wc0YH4LadIiV0wo0G//lnzRyZXIMgiRb1arNZSUkEUBJQtkItVFJuD/zO/ImE6aqciRpIlkcaSFEFoqqY0xWikllVKIoqhF1uvVzXbW4CyClBKcM8RxDK030FqDc26TXu/lbDR6Hw+Hb4PpdOqFYegxxrwgCLzlcjlIkuRjNptd/AP/O+htvG73ogAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/22.93565d1.2956.png" srcset="/assets/ideal-img/22.93565d1.2956.png 2956w" width="2956" height="2222"></noscript></div></div><p><code>NodeJS</code> Plugin을 설치합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9ElEQVQYlXWNS0vDQACE98/4LNHgo/Re8D/04q/xKnj1qhfxpEFot0fLCiI1BdPGdrs+LqVxs9kQGh9td0fiA08OfAwMwwzZqmzvuxubL4tLpcFKaV0sLK+KcrkiarVdUa3u8DXHHTuOe0gajfoJYwyXrRYopbjwPPh+BypJIIYCV4yBNpt1kuf5Eb41ve10zfWNb4JwYO6CngnC/nT48IReeH9O4jg+LlrZ5G32ONLoPkuMZAprZhirbD55fYdOlEeUUl+L1toPAPNfrLUFRQat9RlJ0/T05/pfZVlGiRBiTynFpZRtKaX/R1x4O4qiPuf84BPflOhOOOGOhwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/23.53739f3.2956.png" srcset="/assets/ideal-img/23.53739f3.2956.png 2956w" width="2956" height="2222"></noscript></div></div><p>설치 후 config에 들어갑니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVQYlSXNTUrDQBiA4TmMNKgIYtPiNWrBE7kV3LqtG3FVFYmhC0lAUiwli2pBY2qyKGYmnclPO0lmMukn2PcAz4v0087l8UmbaNrh1/7Bkb/X0nytpfn9s3O/1+t7eluPup3uNTKfjdvJ5A0s24ZHw4TRiwXWqwNRTAGvGIxsB4ZPpoGWv9EAdkmW86ZU20Zuocl42WxEJbOqgZ8lvkff/uKGFwVwXtZpmoEUFawIgSRhUJUb1dQSCI4ekOcvBmteQr7OBaWx4pyrouBKCKmklEIICSSOhyjL0rvdWQGjMQgh/jVKKShVg1IKGGMmcsbji4/53JvN3qdBELiEEJdS6mKM3SRJpnmef4ZhePUH5WjoPhecA4UAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/24.a56afc4.2956.png" srcset="/assets/ideal-img/24.a56afc4.2956.png 2956w" width="2956" height="2222"></noscript></div></div><p>node에 대한 이름과 버전을 선택합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVQYlT2MwUrDQBiE865m05iIT+FV8OrVXsSTehEfokS92FqWQtFQstnt2hSa/Xf/HdkiHRjmMB9fJqryuqwvOiHOv8SklnlRyjwvZFFU8iyfLKv6ciNEeZsZY+4BIMaYBkQEJgdwAEJIB7bGvCTw7h8kADyOI++Hgd3OstsPFInQK/WUwGkCOUafrMwM5xx+tcZWdcGNBxjdP5+MiNEBCN77QETHDczOfjRYv789Ztbah8R5jjhQgPf+aD1l2KFr29dMSnlljF5+t5vZav3TaN03SqWq1Flv7eJzPr/5AzvH9jAXFUfqAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/25.044f728.2956.png" srcset="/assets/ideal-img/25.044f728.2956.png 2956w" width="2956" height="2222"></noscript></div></div><details class="details_rxUF alert alert--info details_PYSW" data-collapsed="true"><summary>NodeJS script는 실제로 node.js로 js를 실행하기 위한 script만 가능한 것으로 확인됩니다.</summary><div><div class="collapsibleContent_oXwz"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA6klEQVQYlU3Ov07DMBDHcb8qbZ1GKTwGIxJr17KgTvwZEDxBEYrCSICEBRxSI59zthO1sTmUFiFO+m4/nT6MJ/FJPDtc8yh55lFSjHhUjMe8mEzi4mDEX5LZ0Sfn0zkDgPMQAiEaUhoJGiRrHTnnyDpHwzVNc8O0hkXfe3p7l1sJXbCuDW27zyJuv0MgALgcPp5570lK2XddR8aYv1Br/zu8YkqpxTAUotqsv5RHxP9tBhYAXDBEXA4OACA0jtp279sZrd0ZlVK37H61On5Is9fl9V2a50+PdV1nQoisqqrsQ4gUAPKyLE9/AI0E8oGaiWJvAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/26.6ee5008.2956.png" srcset="/assets/ideal-img/26.6ee5008.2956.png 2956w" width="2956" height="2222"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7UlEQVQYlT2OvU7DQBCE/aqAzw42vAUtEi1taBAV0KC8AF2UGiIXVsg5jn2398fZDnssuoAYaTTNp5lJWDG7npUX+ywr3lleVmcsr9I0q9L0vDo5ZeuivNwxlt8mAHAfQiCxb0lLSVbB0c5oMqKnKG3MSwJKzQMiyb47WOfCMI7Be/+b1h5CQAKAp9h4h4gEXfclhCQhgJRSZJQiLQR+hxDB5wjOI9i17WQU4Ke16J3DwXs0Ukxxre/7x0Rr/fD3g7R15PxA4zjROE3kh+H4UUq5SLYfm6sN360Xr6sl59tV0zT/5pwvAeCtruubH5iF835ezcNHAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/27.391be17.2956.png" srcset="/assets/ideal-img/27.391be17.2956.png 2956w" width="2956" height="2222"></noscript></div></div></div></div></details><p>아래의 체크박스를 선택 후 <code>Execute shell</code> 에 쉘을 작성합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVQYlT3OvU7DMBQF4LwqbQxpC2/BisTKWhbEBCyoL8BWMpcqQ9o0lOu6jm9U/ySOL3KRuNIZjnT06SZsmt1ls2tgbPKVskkxYpfFeMyKNM2KixFbT2c3e8auHhIp5ZP3AymlSGtN1lpyzlHnHBlraQhEiPieNE0z996TEKI7aT1Ya/+jjekicjweX6P42Pc9fW82fXPgZy2qMcYYP4RAnMNbHM7j8ADgOPx4KaVHRK+U8ti2LoQQxZcEEZ9jwbY9a8aYvx+7jsxJUzxEXCS7anu7rffrxcfnsq53OQDPASAHzvO6qpZCiFVZlve/KuX0YncAvh0AAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="2956" height="2222"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/28.c4557a6.2956.png" srcset="/assets/ideal-img/28.c4557a6.2956.png 2956w" width="2956" height="2222"></noscript></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>만약에 또 <code>yarn: not found</code> 출력된다면 node script만 실행가능한 item을 생성&amp;실행을 통해서 강제로 <code>yarn</code>만을 설치하도록 합니다.</p><p>깔끔하지 않은 방법이며 이럴꺼면 처음 docker image에서 yarn을 추가하는 것이 깔끔해 보입니다.</p><p><strong>추후 jenkins 재설치시 한번 더 확인하도록 합니다.</strong></p></div></div>]]></content:encoded>
            <category>docker</category>
            <category>jenkins</category>
            <category>slack</category>
            <category>CI/CD</category>
            <category>DevOps</category>
        </item>
        <item>
            <title><![CDATA[Docker로 Tomcat 실행해보기]]></title>
            <link>https://parkgang.github.io/blog/2020/11/28/running-tomcat-with-docker</link>
            <guid>/2020/11/28/running-tomcat-with-docker</guid>
            <pubDate>Sat, 28 Nov 2020 03:00:00 GMT</pubDate>
            <description><![CDATA[Docker를 이용해 빠르게 tomcat web server를 올려보도록 하겠습니다. 또한, 파일 마운트를 통해서 리소스가 바로 변하는 것을 확인할 수 있습니다.]]></description>
            <content:encoded><![CDATA[<p>Docker를 이용해 빠르게 tomcat web server를 올려보도록 하겠습니다. 또한, 파일 마운트를 통해서 리소스가 바로 변하는 것을 확인할 수 있습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="docker-image-준비">Docker image 준비<a class="hash-link" href="#docker-image-준비" title="제목으로 바로 가기">​</a></h2><p>Docker 컨테이너를 올리기 위해선 image가 필요합니다. image를 만들기 위해서 <code>Dockerfile</code> 을 작성하도록 하겠습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="dockerfile-작성">Dockerfile 작성<a class="hash-link" href="#dockerfile-작성" title="제목으로 바로 가기">​</a></h3><p>먼저 파일 관리하기 용이하도록 호스트 PC에 <code>example</code> 디렉토리를 만든 후 내부에 <code>Dockerfile</code> 을 작성하도록 하겠습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZklEQVQImU2M0QrCMBAE8/9f6KMvUrSkVdKkd03uRhKVOjAcuywXLteJvL1QPQDH3TA77TkXIdzuC/P8YMuF2oxmzi5K2RU96uhqbYRlfRJjHMGdr455/95lEFJKiMhn0fndP8ycN/93nN33338aAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="824" height="345"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.2fb98c7.824.png" srcset="/assets/ideal-img/1.2fb98c7.824.png 824w" width="824" height="345"></noscript></div></div><p>Dockerfile을 아래와 같이 작성합니다.</p><div class="language-docker codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">Dockerfile</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-docker codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 어떤 이미지를 사용할 것인가</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">FROM</span><span class="token instruction"> tomcat</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># cmd 실행</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">RUN</span><span class="token instruction"> apt-get update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># [tomcat 데몬이 실행되고 나면 죽어버리는 것을 방지하기 위함](https://skaqud.github.io/2016/08/21/Build-Docker-Container/)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token instruction keyword" style="color:#00009f">CMD</span><span class="token instruction"> [</span><span class="token instruction string" style="color:#e3116c">"catalina.sh"</span><span class="token instruction">,</span><span class="token instruction string" style="color:#e3116c">"run"</span><span class="token instruction">]</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="이미지-생성">이미지 생성<a class="hash-link" href="#이미지-생성" title="제목으로 바로 가기">​</a></h3><p>아래 명령어를 통해 작성한 <code>Dockerfile</code> 를 이미지로 생성합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> build -t tomcat-test:practice </span><span class="token builtin class-name">.</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p><code>Dockerfile</code> 이 존재하는 경로에서 실행되어야합니다.</p></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAzUlEQVQImSXDXUuDUACA4fOrGkHkLuZwm7odZJgfU0yPR8NBKs6pRd110Y9+u+iBR/TtD/Pwy635Zmq+GOpPruVCrRa0WqjUQlnMCNfSeE6Du8lxjAv7p5Dt4wvrlc/zg4+x+i+KaKRKFsrLzGs4kkcTmT8QyyuBU3G2FOedQrTJSJtONEFH5TVoWaNONcVRk7ua3CnJbIXoLzfu6Z2PuKPz3ij2Oe1R0UvNIBXvJ00rFcLeFaSHjOiQYRoB9jogNkP8TUCyDZFmQmqF/AGHa36bUxjFtgAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1235" height="714"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.dad91f4.1235.png" srcset="/assets/ideal-img/2.dad91f4.1235.png 1235w" width="1235" height="714"></noscript></div></div><p>이미지가 생성된 것을 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxUlEQVQImR3IXU+CUBzH8fOqarNGElNB+WO1kANN5fBwkIoxa91k1tZlb/rb4OKz34M6ffwxOL788N790rdn+vab/nCmtV809QlbfaLuZiX+9RP+Vcb9vEbcnLVXEE73eJMM52LDzWWC2qwOaHlGhy2Pfj2KA0u8tCQrSzzuGlVJTSl2VEUWGzWU0dCHbMbPiEVVy4ImyDmKoQsN+WJPHxp6KXgTw6uUdGJQi+mW1NUktylzJ0Uczc7L0K4mn6U8eDuKYMs/XEl7uReiOtQAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1235" height="714"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.d9e2ff8.1235.png" srcset="/assets/ideal-img/3.d9e2ff8.1235.png 1235w" width="1235" height="714"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="컨테이너-실행">컨테이너 실행<a class="hash-link" href="#컨테이너-실행" title="제목으로 바로 가기">​</a></h2><p>이제 생성된 이미지를 이용하여 컨테이너를 실행할 것입니다. 아래의 명령어를 입력합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -p </span><span class="token number" style="color:#36acaa">8888</span><span class="token plain">:8080 tomcat-test:practice</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>실제로 tomcat만 실행시 컨테이너 내부의 <code>webapps</code> 에는 리소스파일이 없습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAUElEQVQImYXGMQrAIAwF0JDgIIKZ9CQJUTd7/zv9Qjs5OTx4tPeDORfcHWYGM/8eMTDGLyJAKSWIMETkwMwHUlXUWq+olIKc8xX13tFau3oBr7E92Oi9SwoAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="979" height="512"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.05cf98c.979.png" srcset="/assets/ideal-img/4.05cf98c.979.png 979w" width="979" height="512"></noscript></div></div><p>때문에 404를 출력하게 됩니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAApklEQVQImX3KuwrCQBQE0P1E44aQKCL4aFL4LyoW+RIRRKy0kC3XJt5EzWrsNy8i3iuJ2qRw4BTDDOsPR4vB2D1yq3docVtwsyPaNUcY3D4Y3JGm1fWYD+E2UjGdL4qu0Z3U7UGR+onr7p/CHUvTdEVEhIglIr4aympLkmTDtNbL77FAxGdD8TnqNcuybF+Vf8nzXDAppRsEgQcAUwCYN8yqTUo5eQMrYspGQ2C3RAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="3808" height="2242"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.8ac1ceb.3808.png" srcset="/assets/ideal-img/5.8ac1ceb.3808.png 3808w" width="3808" height="2242"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="파일-마운트-컨테이너-실행">파일 마운트 컨테이너 실행<a class="hash-link" href="#파일-마운트-컨테이너-실행" title="제목으로 바로 가기">​</a></h2><p>이번에는 이를 방지하기 위해 호스트의 파일을 자동으로 Docker 컨테이너로 보내줄 수 있도록 파일 마운트를 해보도록 하겠습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="호스트pc에-리소스-생성">호스트PC에 리소스 생성<a class="hash-link" href="#호스트pc에-리소스-생성" title="제목으로 바로 가기">​</a></h3><p>먼저 컨테이너로 전송할 리소스가 필요합니다. 이전에 만들어둔 <code>example</code> 에 <code>resources</code> 디렉토리를 추가하겠습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZUlEQVQImU2KQQ7CMAwE8//vceYEB9SqMpVriFM7g1opFSPtYWe33O5PzJTqjchkj7jS9iAiUauUx2thnidU11MefGvF7IO7k5lEBGWRNyJCa07v/TyOcfSDssrEtukl/sdBZOcH3jCciKhFGtIAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="824" height="345"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.b8462a8.824.png" srcset="/assets/ideal-img/6.b8462a8.824.png 824w" width="824" height="345"></noscript></div></div><p>이후 <code>resources</code> 디렉토리에 <code>index.html</code> 를 생성하고 아래와 같이 작성하도록 합니다.</p><div class="language-html codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">index.html</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-html codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Document</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Hello, Tomcat!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="실행">실행<a class="hash-link" href="#실행" title="제목으로 바로 가기">​</a></h3><p>이전에 실행한 컨테이너를 제거하고 아래의 명령어로 컨테이너를 실행합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run -p </span><span class="token number" style="color:#36acaa">8888</span><span class="token plain">:8080 -v C:</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">ruddms936</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">Desktop</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">example</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">resources:/usr/local/tomcat/webapps/ROOT tomcat-test:practice</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>컨테이너 내부에 <code>ROOT</code>디렉토리가 없더라도 자동으로 생성됩니다.</p></div></div><p>정상적으로 동작하는 것을 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlUlEQVQImXWMwQoCMQxE+7u2tqiI+BsqHvZLRBDxpAfZY7x1f8FC6e7SbIikeio48MhkBka55eK43mxf1q2e2tjWGFcQP9NzyUAb26h3CDecJkZEzojlFp+FXHwI4a5SSmf+KjMzVUjGKaWrijGe5CGikYiwYpQuxnhRfd8/fot/NQxDqwBAd13XeO933vtDxV46AHAfMNrPSMdS5aYAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="3808" height="2242"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.4df687a.3808.png" srcset="/assets/ideal-img/7.4df687a.3808.png 3808w" width="3808" height="2242"></noscript></div></div>]]></content:encoded>
            <category>docker</category>
            <category>tomcat</category>
        </item>
        <item>
            <title><![CDATA[CRA를 직접 만들기 위해 필요한 의존성은 어떤 것이 있을까?]]></title>
            <link>https://parkgang.github.io/blog/2020/10/24/what-are-the-standard-dependencies-for-making-cra</link>
            <guid>/2020/10/24/what-are-the-standard-dependencies-for-making-cra</guid>
            <pubDate>Sat, 24 Oct 2020 03:00:00 GMT</pubDate>
            <description><![CDATA[React 환경을 쉽게 구축할 수 있도록 보일러 플레이트인 create react app 를 사용하면 쉽게 환경을 찍어낼 수 있을지는 몰라도 원초적인 메커니즘을 이해하지 못하면 트러블 슈팅의 어려움, 불필요한 라이브러리 사용으로 오버헤드 유발 등 다른 문제를 유발할 수 있다.]]></description>
            <content:encoded><![CDATA[<div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAIAAAB1kpiRAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAvUlEQVQImWOQl1eSklaSllFSUlZRkJdXUFBQVlZRUgQBJSUlBmNDZT8PVXcnNUUFGX1DUx1dfXlZWVVNbVVtHSVFRYbCdK27x0yPb9R28XBtWnClfuYRXWNzw7A426JGNX1DhuJMrRuHLPav1PYLDqlb/LR+wU1TO1eThGzHun4tCxsGV0eV6gKNvBR1NVVFW7cQS3svBXk5dQMjTTNrJSVlBlk5JVFxRXFJkEPkZKXl5GSUlJVBDlOQBzoNAB3WLIGEYBT6AAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1280" height="720"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/thumbnail.f3e548c.1280.png" srcset="/assets/ideal-img/thumbnail.f3e548c.1280.png 1280w" width="1280" height="720"></noscript></div></div><p>React 환경을 쉽게 구축할 수 있도록 <a href="https://brunch.co.kr/@kooslab/144" target="_blank" rel="noopener noreferrer">보일러 플레이트</a>인 <code>create react app</code> 를 사용하면 쉽게 환경을 찍어낼 수 있을지는 몰라도 원초적인 메커니즘을 이해하지 못하면 트러블 슈팅의 어려움, 불필요한 라이브러리 사용으로 오버헤드 유발 등 다른 문제를 유발할 수 있다.</p><blockquote><p>물론 CRA에는 포편적으로 필요한 기능이 잘 녹아져 있다.</p></blockquote><p><code>CRA</code> 는 내부에서 어떤 것을 사용하여 구현되어 있는 것일까? 궁금하니 직접 React 환경을 만들게 될 때 사용되는 라이브러리에 대해 알아보도록 하자</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>아래의 글을 참고하여 작성되었습니다.</p><ol><li><a href="https://medium.com/wasd/%EC%9B%B9%ED%8C%A9-webpack-%EA%B3%BC-%EB%B0%94%EB%B2%A8-babel-%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-react-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1%ED%95%98%EA%B8%B0-fb87d0027766" target="_blank" rel="noopener noreferrer">Webpack과 Babel을 이용한 React 개발 환경 구성하기</a></li><li><a href="https://velog.io/@jeff0720/React-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD%EC%9D%84-%EA%B5%AC%EC%B6%95%ED%95%98%EB%A9%B4%EC%84%9C-%EB%B0%B0%EC%9A%B0%EB%8A%94-Webpack-%EA%B8%B0%EC%B4%88#%EC%9B%B9%ED%8C%A9%EC%97%90%EC%84%9C-css-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" target="_blank" rel="noopener noreferrer">React 개발 환경을 구축하면서 배우는 웹팩(Webpack) 기초</a></li></ol></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>CRA를 안 쓰고 직접 구현하는 만큼 필요한 의존성을 선택하여 추가할 수 있습니다.<br>
<!-- -->아래에 서술된 리스트는 그래도 개발을 위해서 필수적으로 사용되는 standard 한 친구들에 대해서 나열해 놓았습니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="라이브러리-심플-설명">라이브러리 심플 설명<a class="hash-link" href="#라이브러리-심플-설명" title="제목으로 바로 가기">​</a></h2><table><thead><tr><th align="center">라이브러리</th><th align="left">설명</th></tr></thead><tbody><tr><td align="center">webpack</td><td align="left"></td></tr><tr><td align="center">webpack-cli</td><td align="left">1. cli으로 webpack을 사용할 수 있도록 도와줌 <br> 2. webpack4 부터 필요함</td></tr><tr><td align="center">webpack-dev-server</td><td align="left">server를 열어줌</td></tr><tr><td align="center">@babel/core</td><td align="left"></td></tr><tr><td align="center">@babel/preset-env</td><td align="left">함께 사용되어야 하는 Babel 플러그인을 모아 둔 것</td></tr><tr><td align="center">@babel/preset-react</td><td align="left">Babel react 프리셋</td></tr><tr><td align="center">babel-loader</td><td align="left"></td></tr><tr><td align="center">react-hot-loader</td><td align="left">hot으로 변경된 부분만 새로고침 없이 업데이트를 할 수 있지만 react의 state가 죽어버리므로 이 문제를 해결하는 라이브러리 이다.</td></tr><tr><td align="center">react</td><td align="left">react component를 사용할 수 있게 도와줌</td></tr><tr><td align="center">react-dom</td><td align="left">react를 렌더링 시켜줌</td></tr><tr><td align="center">html-loader</td><td align="left">1. 웹팩이 html 파일을 읽어서 html 파일을 빌드할 수 있게 도와줌 <br> 2. 웹팩에서 html으로 loader해서 빌드하면 장점은 html에 자동으로 빌드된 js가 추가되는점 또한 최적화 인것같다</td></tr><tr><td align="center">html-webpack-plugin</td><td align="left"></td></tr><tr><td align="center">css-loader</td><td align="left">웹팩이 css 읽도록 도와줌</td></tr><tr><td align="center">mini-css-extract-plugin</td><td align="left">웹팩의 빌드 결과물인 css를 html에 삽입할 때 사용됨(css를 파일로 추출)</td></tr><tr><td align="center">clean-webpack-plugin</td><td align="left">1. 기본적으로이 플러그인은 성공적으로 다시 빌드 한 후 webpack의 output.path 디렉토리에있는 모든 파일과 사용하지 않는 모든 웹팩 자산을 제거합니다. <br> 2. <code>{}</code> 으로 묶어서 사용</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="라이브러리-딥-설명">라이브러리 딥 설명<a class="hash-link" href="#라이브러리-딥-설명" title="제목으로 바로 가기">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="webpack">webpack<a class="hash-link" href="#webpack" title="제목으로 바로 가기">​</a></h3><p>webpack 4 이상으로 버전이 올라가면서 기본적인 환경설정이 추가되었다.</p><p>대부분이 webpack 가이드가 v4 이하로 설명되면서 혼란스러운 부분이 몇가지 있다.</p><p>가장 중요한 부분은 webpack 실행 전 mode 옵션을 필수로 추가해야만 한다.</p><p>때문에 <code>webpack</code> 으로 trans된 파일을 실행 시 <code>process.env.NODE_ENV</code> 환경변수 값이 <code>undefined</code> 에러가 발생한다.</p><p>v4부터는 실행 시 아래와 같이 mode를 지정해야 한다.</p><table><thead><tr><th>모드</th><th>명령어</th></tr></thead><tbody><tr><td>개발</td><td><code>webpack --mode development</code></td></tr><tr><td>제품</td><td><code>webpack --mode production</code></td></tr></tbody></table><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><ol><li>config에 mode를 넣어줘도 된다.</li><li>config 지정 시 <code>.js</code> 확장자를 지정해야 함<blockquote><p><code>webpack --config ./config/webpack.config.prod.js</code></p></blockquote></li><li>mode에서 none는 안 되는 것으로 확인된다.</li></ol></div></div><p>이외에도 기본적인 config가 내장되어 있는 등 변경된 부분이 많다.</p><p>위의 문제는 기존 레퍼런스 중에서 가장 많이 발생할 수 있는 문제라 서술되었다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>참조</h5></div><div class="admonition-content"><ol><li><a href="https://medium.com/@yoohl/%EC%9B%B9%ED%8C%A94-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0-e4130fc7cd80" target="_blank" rel="noopener noreferrer">webpack4의 변경 점 설명</a></li><li><a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">webpack 공식 Docs</a></li></ol></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>실패 시 사진</h5></div><div class="admonition-content"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAUUlEQVQImWXGQQqAIBBGYa+gZUUKM5kjZFTrFt3/WH+UbqLF43vq4gknMbbWYrcdsmmQtUHWj+WPfoBambEQQZyDuLH6LXkPFWJEEMH8lqr/brJEKVYFv5kOAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1920" height="518"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.b88311e.1920.png" srcset="/assets/ideal-img/1.b88311e.1920.png 1920w" width="1920" height="518"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAYAAABhYU3QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQ0lEQVQImR3HwRGAIAxFQXrRHwgkCtJ/bc8ZDnvYMtcmIon3oz8Td0cyzAxJtNZYa1OaB5lJ747VikxI93HrOh8j+AGwRB2TFnSMAAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1919" height="520"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.7bd7e9d.1919.png" srcset="/assets/ideal-img/2.7bd7e9d.1919.png 1919w" width="1919" height="520"></noscript></div></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="webpack-cli">webpack-cli<a class="hash-link" href="#webpack-cli" title="제목으로 바로 가기">​</a></h3><p>버전업이 되면서 더 이상 <code>webpack-dev-server</code> 가 실행되지 않는다. <code>webpack serve</code> 으로 호출해야한다.</p><p>하지만 위와 같이 호출해도 똑같이 환경변수에 대한 문제가 발생한다.</p><p>config에서 mode를 설정하지 않으면 <code>webpack serve --mode development --env development</code> 으로 호출한다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>참조</h5></div><div class="admonition-content"><ol><li><a href="https://stackoverflow.com/questions/59611597/error-cannot-find-module-webpack-cli-bin-config-yargs" target="_blank" rel="noopener noreferrer">stackoverflow: webpack과 버전 출동 문제</a></li><li><a href="https://github.com/webpack/webpack-dev-server/issues/2759" target="_blank" rel="noopener noreferrer">github: 해당 이슈 내용</a></li><li><a href="https://romeoh.tistory.com/entry/Webpack-dev-server-%EA%B5%AC%EB%8F%99%ED%95%98%EA%B8%B0" target="_blank" rel="noopener noreferrer">webpack-cli가 아닌 경로 지정으로 실행방법</a></li><li><a href="https://sujinlee.me/webpack-react-tutorial/" target="_blank" rel="noopener noreferrer">webpack에서 사용되는 모듈의 자세한 설명</a></li><li><a href="https://ibrahimovic.tistory.com/51" target="_blank" rel="noopener noreferrer">webpack mode 설정방법</a></li></ol></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="webpack-dev-server">webpack-dev-server<a class="hash-link" href="#webpack-dev-server" title="제목으로 바로 가기">​</a></h3><p>React는 babel으로 trans된 파일이 webpack을 통해 합쳐진 상태로 렌더링 되어야 합니다.</p><p>VSCode의 익스텐션인 Live Server와 같이 선행 작업으로 Webpack의 컴파일러를 거치지 않은 HTML을 출력하게 하면 수정된 내용이 반영되지 않습니다.</p><p>그렇기 때문에 파일이 변경되면 <code>webpack build</code> → <code>server</code> 의 과정을 거쳐야하는데 <code>webpack-dev-server</code> 를 사용하면 편리하게 구현할 수 있습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="react-hot-loader">react-hot-loader<a class="hash-link" href="#react-hot-loader" title="제목으로 바로 가기">​</a></h3><p>적용방법은 아래와 같습니다.</p><ol><li><code>yarn add --dev react-hot-loader</code> 설치</li><li>devServer에 <code>hot: true</code> 설정<div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAYAAABhYU3QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARElEQVQImWNwM/P8H2Tt+9/Z2PW/pqHzfx1Dt/86hi7/9Yxc/msbOP7XN3X4r2Pk9J/BxNj9v5OFx39rU5f/Wga4FQIAR68hNZvoREEAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="408" height="98"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.81b40e1.408.png" srcset="/assets/ideal-img/3.81b40e1.408.png 408w" width="408" height="98"></noscript></div></div></li><li>최상위 컴포넌트에
<code>import { hot } from "react-hot-loader";</code> 와
<code>export default hot(module)(App);</code> 추가<div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyElEQVQYlWWPS26DMBRFWU0KwcYGbH7B1E6AhKpSK3XQ/a/kVFhpGXRwR++8+0ku7oOh2xjGjaEPtMZTqIlUODI5/Sm5TV88wjdNu9F1HtP4ePgHKvugGT8R+sZL7qJScQAHaDZydeWUX0ilIxM7OEbHqPjoSApzp202tJ6RKpCXM6JcEeWMrAPKBoT2JJl8xfXv2PYNVS8ouyDrFW1WitJzLibOe7TQAaF8tD/tUc9OO/A7KkZXZkZVC0pf8f0dW+19x2fXY/kPJ06BkB+89JEAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="559" height="442"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.d612646.559.png" srcset="/assets/ideal-img/4.d612646.559.png 559w" width="559" height="442"></noscript></div></div></li></ol><blockquote><p>신기하게 babel에 plugins을 지정하지 않아도 동작한다.</p></blockquote><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>이전의 export 구분</h5></div><div class="admonition-content"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMklEQVQImWPwDcn87xOc/t/PN+l/iHf0f9eg1P/2UQX/HaOL/nvFlf8PTSv9H5kQ9x8Ak7gUd41ddxgAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="461" height="19"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.36f1d55.461.png" srcset="/assets/ideal-img/5.36f1d55.461.png 461w" width="461" height="19"></noscript></div></div></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>참조</h5></div><div class="admonition-content"><ol><li><a href="https://react-etc.vlpt.us/05.hot-loader.html" target="_blank" rel="noopener noreferrer">react-hot-loader 적용하기</a></li><li><a href="https://smoothlog.com/react-hot-loader-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0" target="_blank" rel="noopener noreferrer">React-hot-loader 사용하기</a></li></ol></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="마무리">마무리<a class="hash-link" href="#마무리" title="제목으로 바로 가기">​</a></h2><p>CRA 대비 직접 구현해 보면 알 수 있지만 React 환경에 거의 필수인 Babel, Webpack에 대해 알게 된다.</p><p>특히 <code>Webpack</code> 의 기능은 무궁무진하다. 해당 메커니즘을 알게 되면 React 환경 이외에도 JS 프로젝트에서 아주 많은 곳에서 사용되므로 CRA 대신 바닥부터 만들어보면서 생긴 경험치는 나중에 많은 도움이 될 것이다.</p><p>원래는 실제로 구현한 프로젝트 코드와 구현 방법까지 설명하려고 했지만 구현 당시 프로젝트가 독립된 Repo가 아니라서 해당 글을 고려하지 않은 바탕으로 여러 번 리펙토링 되면서 해당 글만을 위한 코드로 뽑아오기가 애매해졌다.</p><p>그래서 아쉬운 마음에 구현하면서 사용된 의존성 리스트와 트러블 슈팅 내역에 대해 공유하게 되었디.</p><blockquote><p>처음 구현할 땐 의존성 끼리 오류가 너무 많아서 고생했습니다ㅠㅠ</p></blockquote><p>읽어주셔서 감사합니다 :)</p>]]></content:encoded>
            <category>react</category>
            <category>babel</category>
            <category>webpack</category>
            <category>CRA</category>
        </item>
        <item>
            <title><![CDATA[Git을 이용해 통일된 개발 환경은 가능할까?]]></title>
            <link>https://parkgang.github.io/blog/2020/10/17/unified-dev-env-possible-using-git</link>
            <guid>/2020/10/17/unified-dev-env-possible-using-git</guid>
            <pubDate>Sat, 17 Oct 2020 05:00:00 GMT</pubDate>
            <description><![CDATA[문득 Git으로 모든 개발 환경을 통합할 수 있을까라는 생각이 들어서 내 생각을 정리해 보았다.]]></description>
            <content:encoded><![CDATA[<p>문득 Git으로 모든 개발 환경을 통합할 수 있을까라는 생각이 들어서 내 생각을 정리해 보았다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="모두-다른-ide-통합할-수는-없을까">모두 다른 IDE 통합할 수는 없을까?<a class="hash-link" href="#모두-다른-ide-통합할-수는-없을까" title="제목으로 바로 가기">​</a></h2><p>하나의 SW 제품을 개발하기 위해서 사용되는 Tool은 가지각색이다.</p><p>특히 IDE의 경우 취향을 많이 타게되는데 SW를 개발하는 시간 중 가장 많은 시간을 보내는 Tool이기도 하면서 익숙해진 단축키와 UI/UX에 종속된 개발자들은 쉽게 다른 Tool으로 눈을 돌리기가 쉽지 않다.</p><p>이로 인해 발생하는 문제로 프로젝트에서 나와 다른 IDE를 만나는 경우 일 것이다.</p><p>갑자기 호기심으로 이러한 생각이 들었다.</p><blockquote><p>git은 형상관리 Tool인데 소스코드만 저장하고 사용자마다 다른 IDE에서 불러오면 되는거 아닌가?</p></blockquote><p>아니나 다를까 현업에서는 이를 위해 IDE와 같은 설정파일은 commit하지 않는다고 한다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="의문점">의문점<a class="hash-link" href="#의문점" title="제목으로 바로 가기">​</a></h2><p>하지만 IDE에 종속된 기능의 경우는 어떻게 해결할까?</p><ol><li>여러게의 프로젝트가 의존되어 있어 build 순서를 지정해야 하는 경우</li><li>일부파일이 프로젝트 속성으로 빌드 제외된 경우</li><li>등등..</li></ol><p>해당 속성들은 나의 IDE 환경설정에 종속되어 작동하므로 다른 설정 혹은 IDE에서 사용시 일일이 Setting 해줘야한다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="해결법">해결법<a class="hash-link" href="#해결법" title="제목으로 바로 가기">​</a></h2><p>물론 이러한 문제를 방지하기 위해 Maven, Gradle등 과 같은 빌드 자동화 시스템이 존재한다.</p><p>하지만 정말 IDE에 종속된 설정같은건 어떻게 해결할까? 종속되지 않도록 노력할까? 아니면 그런 기능은 존재하지 않을까</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="결론">결론<a class="hash-link" href="#결론" title="제목으로 바로 가기">​</a></h2><p>아직 경험이 많이 부족하여 완벽하게 궁금증을 해소하지는 못했다.</p><p>하지만 항상 이런 호기심을 가지고 접근을 하다 보면 언젠가 내가 이상적으로 생각하는 또한 팀원에게 도움이 되는 개발 환경을 만들 수 있지 아늘까?</p><p>항상 되는 것보다는 왜 되는지가 더 중요한 나에게는 하나의 IDE를 배울 때도 엄청난 시간이 소모됬다.</p><p>파일을 하나씩 까보며 삭제하면 어떻게 될 까? 이거는 꼭 필요한 파일일까? 하면서 하루를 보낸 적도 많다.</p><blockquote><p>그만하고 언어 공부 해야되는데...😨</p></blockquote><p>그래도 돌이켜 보면 그러면서 배운 것들이 나중에 많은 도움이 되어서 후회는 없다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="reference">Reference<a class="hash-link" href="#reference" title="제목으로 바로 가기">​</a></h2><ol><li><a href="https://okky.kr/article/523113" target="_blank" rel="noopener noreferrer">각 IDE(이클립스, 넷빈즈, 인텔리j)으로 github, gitlab에 등록된 프로젝트를 다른 IDE로 바로 적용 할 수 없나요?</a></li><li><a href="https://okky.kr/article/278154" target="_blank" rel="noopener noreferrer">하나의 프로젝트를 IntelliJ와 Eclipse로 같이 협업 가능 할까요?</a></li></ol>]]></content:encoded>
            <category>git</category>
            <category>essay</category>
            <category>DevOps</category>
        </item>
        <item>
            <title><![CDATA[zsh 설치 및 플러그인 설치 (with oh my zsh)]]></title>
            <link>https://parkgang.github.io/blog/2020/10/17/install-zsh-and-plugins-with-oh-my-zsh</link>
            <guid>/2020/10/17/install-zsh-and-plugins-with-oh-my-zsh</guid>
            <pubDate>Sat, 17 Oct 2020 04:00:00 GMT</pubDate>
            <description><![CDATA[zsh 에 oh my zsh 를 적용하고 Powerlevel10k 를 이용해 Terminal 을 이쁘게 꾸며보겠습니다. 또한, 플러그인을 설치하여 생산성까지 강화해 보도록 하겠습니다.]]></description>
            <content:encoded><![CDATA[<p><code>zsh</code> 에 <code>oh my zsh</code> 를 적용하고 <code>Powerlevel10k</code> 를 이용해 <code>Terminal</code> 을 이쁘게 꾸며보겠습니다. 또한, 플러그인을 설치하여 생산성까지 강화해 보도록 하겠습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="각각의-어떤-것을-의미하나요">각각의 어떤 것을 의미하나요?<a class="hash-link" href="#각각의-어떤-것을-의미하나요" title="제목으로 바로 가기">​</a></h2><p><code>Terminal</code> 좀 이쁘게 바꿔보려고 하는데 뭐 이리 많은 것을 설치해야 되는지 헷갈립니다. 우선 정리를 하고 가볼까요?</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="zsh">zsh<a class="hash-link" href="#zsh" title="제목으로 바로 가기">​</a></h3><p>bash와 같은 shell 프로그램입니다. bash에 비해 강력한 기능과 여러 가지 플러그인을 제공하고 있습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="oh-my-zsh">oh my zsh<a class="hash-link" href="#oh-my-zsh" title="제목으로 바로 가기">​</a></h3><p>zsh 설정을 관리하기 위한 프레임워크입니다. 현재를 기준으로 200개가 넘는 플러그인과 140개 이상의 테마를 제공합니다.</p><p><code>Powerlevel10k</code> 와 함께 사용할 경우 예쁘고 편리한 shell 사용 환경을 쉽게 갖출 수 있습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="powerlevel10k">Powerlevel10k<a class="hash-link" href="#powerlevel10k" title="제목으로 바로 가기">​</a></h3><p>zsh의 이쁜 테마를 제공합니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="zsh-설치">zsh 설치<a class="hash-link" href="#zsh-설치" title="제목으로 바로 가기">​</a></h2><p>우선 Terminal 꾸미기 및 기능을 추가하려면 근간이 되는 shell이 먼저 필요하겠죠? 아래의 명령어로 <code>zsh</code> 을 설치하도록 합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">zsh</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvklEQVQImS3H0U7CMACF4T4WahBCNlhagmEXndm6Ad1YOwhbFFnEqHc+92+UXXz5zxGn4w/V7otUn8n0GR23JHE3uG29bhF61bEKHXJiWTwUhPeGYJTd3A0dZYgm/8abTyrdkz+1pPJAsnA8R45UepJ5/f/FZfPBq7nSrDtq5fHLhnrZ4Ib+2SuPOEaWLrJcVcmbLHHzHb209KrkXVkuquJFWYR6tOwnBjMtiMYF8bjAzzZspzmHoMAEFT7c8gtRtnuaGeoRQwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1008"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.f9425c4.1680.png" srcset="/assets/ideal-img/1.f9425c4.1680.png 1680w" width="1680" height="1008"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="oh-my-zsh-설치">oh-my-zsh 설치<a class="hash-link" href="#oh-my-zsh-설치" title="제목으로 바로 가기">​</a></h2><p>아래의 명령어로 <code>oh-my-zsh</code> 를 설치하도록 합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sh</span><span class="token plain"> -c </span><span class="token string" style="color:#e3116c">"</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable function" style="color:#d73a49">wget</span><span class="token string variable" style="color:#36acaa"> -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">"</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwElEQVQImUWH0UrDMAAA81sKgpO0bqZQrTNtpU1j17RNlehEu6kg+OB3nygDH467E+Hhm9F9cWc+aM07tn6jKl641c+U6y359SM6C4g0nkijEbXoWJ5Y4uOa6I/q4Bp5VCFcuccVM81VoFx5dNyTn/cUy4FyNZAfXoSbwH024VPPkIz4xNMnv/1vp0bEU+aY145P3bO77PAXLbtkw6w27FXLq+rYqhaRRo5BGkzUoBYN+qzBS4s9rZmkoZIdY2T5AZxBfB0U4ewAAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1006"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.b0d61ab.1680.png" srcset="/assets/ideal-img/2.b0d61ab.1680.png 1680w" width="1680" height="1006"></noscript></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p><code>oh-my-zsh</code> 설치 시 기본 셀을 <code>zsh</code> 으로 설정할 수 있지만 <code>chsh -s (which zsh)</code> 을 통해서도 변경이 가능합니다.</p><p><code>zsh</code> 이 기본이면 안 해도 됩니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="power-level-10kp10k-theme-설치">power level 10k(p10k) theme 설치<a class="hash-link" href="#power-level-10kp10k-theme-설치" title="제목으로 바로 가기">​</a></h2><p>아래의 명령어로 <code>Powerlevel10k</code> 를 설치하도록 합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone --depth</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> https://github.com/romkatv/powerlevel10k.git </span><span class="token variable" style="color:#36acaa">${ZSH_CUSTOM</span><span class="token variable operator" style="color:#393A34">:-</span><span class="token variable" style="color:#36acaa">~</span><span class="token variable operator" style="color:#393A34">/</span><span class="token variable" style="color:#36acaa">.oh-my-zsh</span><span class="token variable operator" style="color:#393A34">/</span><span class="token variable" style="color:#36acaa">custom}</span><span class="token plain">/themes/powerlevel10k</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAs0lEQVQImVXI3U7CQBRF4XksgvITrG3TKRdAoFLLUGYqMwVShWgDCbcmvvUyNETh4ss6+4hq98Ou/MbkZ1RaM5/uSaeHRjJ5JxlXzEYVInhc4j8o/PYCr/X656mV3m2R+GsawU0Dy0toSSN3/VmEjR02LlnHZdNy+H9fevEmHWIbGj5CzUkaPiOD9VfUkaaWhqPUfMmCvdQI2dUUvYysrwg7inFH4QZL8v6CjafIvAL3nPMLql96XkxJgZsAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1006"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.069436c.1680.png" srcset="/assets/ideal-img/3.069436c.1680.png 1680w" width="1680" height="1006"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="theme-적용">theme 적용<a class="hash-link" href="#theme-적용" title="제목으로 바로 가기">​</a></h3><p><code>code ~/.zshrc</code> 또는 <code>nano ~/.zshrc</code> 으로 접속해서 아래와 같이 수정하도록 합니다.</p><div class="language-diff codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-diff codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> ZSH_THEME="robbyrussell"</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> ZSH_THEME="powerlevel10k/powerlevel10k"</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>VSCode를 사용 중이면 아래와 같이 수정해보세요.</h5></div><div class="admonition-content"><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgUlEQVQImQXBTQ7BQACA0blTK6qJBRqSLpT+6NSiK8JONNHEgiPKYCqpWDOaOsPnPVFpzetZ86hq1OXGVWk+74am+fE1Lca0KHVH+OMVQVgQ52fi/ES0KMmSkvl0RzTbs5RH/MkW4XYS+sM1XnhgFBQMvA2uLelaKY4l6dkZjpXyB73gSyC4mTSQAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="264" height="89"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.83d086c.264.png" srcset="/assets/ideal-img/4.83d086c.264.png 264w" width="264" height="89"></noscript></div></div><p><code>VSCode</code> 가 없다면 <code>텍스트 편집기</code> 로 열어서 수정만 하면 됩니다.</p><blockquote><p>아니면 어썸하게 <code>vim</code> 으로!</p></blockquote></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="font-설치-및-적용">font 설치 및 적용<a class="hash-link" href="#font-설치-및-적용" title="제목으로 바로 가기">​</a></h3><p>font 설치의 경우 Terminal Client Program 마다 조금 씩 다른데 <code>Mac</code> 에서 많이 사용되는 <code>iTerm2</code> 과 Windows 에서 많이 사용되는 <code>Windows Terminal</code> 애 대해서 가이드 하겠습니다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="iterm2">iTerm2<a class="hash-link" href="#iterm2" title="제목으로 바로 가기">​</a></h4><p><code>power level 10k</code> 셋팅 시 폰트 설치 여부에 따라 시작화면에 설치방법을 가이드합니다.</p><p>Meslo Nerd Font 설치 여부를 묻는 메시지가 표시되면 입력 p10k configure하고 대답 Yes합니다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="windows-terminal">Windows Terminal<a class="hash-link" href="#windows-terminal" title="제목으로 바로 가기">​</a></h4><p>Windows Terminal에서 폰트가 깨지기 때문에 필요한 <a href="https://github.com/romkatv/powerlevel10k/#user-content-fonts" target="_blank" rel="noopener noreferrer">폰트를 다운받습니다.</a></p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvUlEQVQYlV2N20oEMRBE5///SpHV0ZUV9VnERzNr7ulkZpIjCd6woSjoPtU1AbTWsM7jQiKkQpRMSgkRQSRTa2X6Bo0xqOXMctZoYxFJlFIoZf0PWt7VgtYG7z0hRNzwwL7vv6BzgeXDYn0cn9a1sG3bUL//gD3pnCNnIY/KMiq7Blhr6yjGC0rLWHbV1ti/wO7jY5+YMj5m9lFVR/jvTC+vb3jnUErx8PTM5fXM1XzHxeGGw+2R+f7E8fTIJ6s/NLLI1c8uAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1165" height="907"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.c04f585.1165.png" srcset="/assets/ideal-img/5.c04f585.1165.png 1165w" width="1165" height="907"></noscript></div></div><p>Windows Terminal에서 <code>Ctrl</code> + <code>,</code> 으로 들어가 설치한 폰트 적용해줍니다.</p><div class="codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-text codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token plain">"fontFace": "MesloLGS NF"</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAi0lEQVQImV3KSQ6DMBBEUe4RD9h0225jAtz/cD8ik5QsnmpRf9rPg20f3PfBOjq2GmaGqiIiiCh97Uy1VcqqtJ6Rmgizxzn35b1HdLnChg5jaZlcEjFFQgyE8GvSUqjbSamVFANpjq/T/4UiC7kItWbm2eODw138x+2502YHQ092vWPR0NAoby31rweiF1SZ+3PolAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1012"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.8033a94.1680.png" srcset="/assets/ideal-img/6.8033a94.1680.png 1680w" width="1680" height="1012"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="theme-setting">theme setting<a class="hash-link" href="#theme-setting" title="제목으로 바로 가기">​</a></h3><p><code>p10k configure</code> 을 입력하면 테마를 재설정 할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtUlEQVQImT3IXU/CMBiG4f6sSUAJjK3ZiwdAIpNtHXSTdpIgJEhU4m+/TXXx4Mrzoay5YetvbH1jZ74o8wv56sR6eey98bQ4opJBRRwVpEPDbFAxjTa/O77rhR4VqEIOPGvPOtn/SQNHrh2brP9Th3Li2c+DDjfv6B67/x4yeBGPOuiGk7Z8SsMla3DJjmtmuUrDh1jepeUsFiX3lvahpBwb9MiwHBn8pGY7rniNDWXc4mdbfgBz83opkY05RAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1007"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.2d938aa.1680.png" srcset="/assets/ideal-img/7.2d938aa.1680.png 1680w" width="1680" height="1007"></noscript></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>저의 경우 아래와 같이 설정했습니다.</p><div class="codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-text codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token plain">Prompt Style        : (3)  Rainbow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Character Set       : (2)  ASCII</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Show current time?  : (3)  12-hour format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Prompt Separators   : (1)  Angled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Prompt Heads        : (1)  Sharp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Prompt Tails        : (1)  Flat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Prompt Height       : (1)  One line</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Prompt Spacing      : (2)  Sparse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Icons           : (2)  Many icons</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Prompt Flow     : (1)  Concise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enable Transient Prompt?: (n)  No</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-text codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token plain">Instant Prompt Mode     : (1)  Verbose (recommended)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Apply changes to ~/.zshrc?  : (y)  Yes (recommended)</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="zsh--oh-my-zsh--powerlevel10k-적용-완료"><code>zsh</code> + <code>oh my zsh</code> + <code>Powerlevel10k</code> 적용 완료<a class="hash-link" href="#zsh--oh-my-zsh--powerlevel10k-적용-완료" title="제목으로 바로 가기">​</a></h2><p>최종적으로 모두 적용되면 아래와 같은 모습을 살펴볼 수 있습니다.</p><p>이외로 Windows Terminer에 <code>WSL</code> 을 기본 프로필로 사용하면 Windows에서 더욱 <code>Linux</code> 를 사용하는 느낌을 낼 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2klEQVQImQXBXU+CUACAYX5XmwsTTT6cm2zx4eGAgHBQAzaVWK1Wyy66aat10UXr73TbP3p7Hu3185v+4Y087wivGkKvxXNrpNijdnf4bksierS6fyZYHnFGEksXWMMIeySZmymLWc7lWcTMKNBOH7+8fP1R795Z2iX+VBHaiiy4JrAKCv/A6fEHrRX3NNETrbxl626onIrCqVhbisKuKOdbau+AVo1j6nHEzTRmb6aUkxWdldI5Gb2dcrQyGjNBc84z1nqEGMaYA8liIFEXMYkesTEkwshRkxX/rmCAhEbHEQUAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/8.53445d3.1680.png" srcset="/assets/ideal-img/8.53445d3.1680.png 1680w" width="1680" height="1010"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="플러그인-활성화-하기">플러그인 활성화 하기<a class="hash-link" href="#플러그인-활성화-하기" title="제목으로 바로 가기">​</a></h2><p>이제 <code>zsh</code> 를 설치했으니 플러그인을 설치하여 강력한 <code>zsh</code> 의 기능을 사용해봅시다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><a href="https://blog.jeuke.com/77" target="_blank" rel="noopener noreferrer">[Linux] zsh 플러그인 설치와 추천 플러그인</a> 를 참고하였습니다.</p></div></div><p>플러그인 활성화는 <code>.zshrc</code> 에서 할 수 있습니다. 저는 아래의 플러그인을 기본적으로 활성화시켜 놓았습니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">yarn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  brew</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="하이라이팅-자동완성-플러그인-설치">하이라이팅, 자동완성 플러그인 설치<a class="hash-link" href="#하이라이팅-자동완성-플러그인-설치" title="제목으로 바로 가기">​</a></h2><p>기본 플러그인 외에 명령어 하이라이팅 플러그인 <code>zsh-syntax-highlighting</code> 과 자동완성 플러그인 <code>zsh-autosuggestions</code> 설치합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># zsh-syntax-highlighting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/zsh-users/zsh-syntax-highlighting.git </span><span class="token variable" style="color:#36acaa">${ZSH_CUSTOM</span><span class="token variable operator" style="color:#393A34">:-</span><span class="token variable" style="color:#36acaa">~</span><span class="token variable operator" style="color:#393A34">/</span><span class="token variable" style="color:#36acaa">.oh-my-zsh</span><span class="token variable operator" style="color:#393A34">/</span><span class="token variable" style="color:#36acaa">custom}</span><span class="token plain">/plugins/zsh-syntax-highlighting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># zsh-autosuggestions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/zsh-users/zsh-autosuggestions </span><span class="token variable" style="color:#36acaa">${ZSH_CUSTOM</span><span class="token variable operator" style="color:#393A34">:-</span><span class="token variable" style="color:#36acaa">~</span><span class="token variable operator" style="color:#393A34">/</span><span class="token variable" style="color:#36acaa">.oh-my-zsh</span><span class="token variable operator" style="color:#393A34">/</span><span class="token variable" style="color:#36acaa">custom}</span><span class="token plain">/plugins/zsh-autosuggestions</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtklEQVQImWXGwW6CMACA4b7VEhNnJLghZRrZQVBb1xalBBLHjBD3BNt1h73uv4TTjIcv/y+6/pf24wejP9GbDpVf2K7Pd0SW9uSvV9J5wyIsiR4Ns5G6ETzkiLr4prJfvK1atklNFnmy53LoJvZD92mLKBc1x5eag/QDn1Qc/zkkFX7ZIJrIcooM18TRSYd/MlxiO3wvLb10vMcWISeOYrJDTzXxWLMaK6pgj5kqmlChwgI3M/wBZLp8y3vVo0sAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1673" height="1011"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/9.88eeb23.1673.png" srcset="/assets/ideal-img/9.88eeb23.1673.png 1673w" width="1673" height="1011"></noscript></div></div><p><code>code ~/.zshrc</code> 파일을 열고 plugins 항목에 플러그인을 추가합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">plugins</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  zsh-syntax-highlighting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  zsh-autosuggestions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgklEQVQImW3NWQ4CMQwD0N6DZunQpkkrFsH9z2Y0HYQE4uPJP5adrvcbYjq6dzRrMLOl1vrhw5H2Uo2CzRQsjJzzQkRHMkHPijRGrCVRATP/JSJIPQxbU2gRMPFhL7xzXy6lIHU3aGPIxmAlZMo/Tus+XZ4PTJuIOtA1YOxfvAy4Bl4HWFOmE3xISwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1012"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/10.a08e973.1680.png" srcset="/assets/ideal-img/10.a08e973.1680.png 1680w" width="1680" height="1012"></noscript></div></div><p>설정 파일을 수정했으면 터미널을 재시작하거나 <code>source ~/.zshrc</code> 명령어를 실행하여 설정을 다시 불러와야 합니다.</p><p>이제 명령어를 입력할 때 존재하지 않는 명령어는 빨간색으로 뜨고 한번 입력했던 명령어를 흐릿하게 표현해 주는 걸 확인을 통해 적용된 것을 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJUlEQVQImWNYsPzw/8mzdvwvKWqH41IoXVzQ+r+mqu9/d8+C/wARwhmrY5r9KwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="78"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/11.de64936.1680.png" srcset="/assets/ideal-img/11.de64936.1680.png 1680w" width="1680" height="78"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="lsd">lsd<a class="hash-link" href="#lsd" title="제목으로 바로 가기">​</a></h2><p><code>lsd</code> 는 <code>ls</code> 명령어시 파일 아이콘이 보여주는 이쁜 플러그인 입니다. 확장자에 따라서 파일 아이콘도 바뀌니 가독성도 개선될 것 입니다.</p><p>자세한 것은 <a href="https://github.com/Peltoche/lsd" target="_blank" rel="noopener noreferrer">Peltoche/lsd</a> 의 Repo에서 확인하실 수 있습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="macos-설치-방법">macOS 설치 방법<a class="hash-link" href="#macos-설치-방법" title="제목으로 바로 가기">​</a></h3><p>정말 간단합니다.<code>brew install lsd</code> 으로 설치하면 끝입니다. <code>lsd</code> 명령어를 통해서 동작 여부를 확인할 수 있습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="linux-설치-방법-feat-wsl">linux 설치 방법 (feat. WSL)<a class="hash-link" href="#linux-설치-방법-feat-wsl" title="제목으로 바로 가기">​</a></h3><p><a href="https://github.com/Peltoche/lsd" target="_blank" rel="noopener noreferrer">Peltoche/lsd</a> 에서 release file을 다운받습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeklEQVQImU3OCQ7DIAwEQP7/0UhR6cHp4GNTICm1tMJYA7L7xAgiQsoF+8PDvwJSrshlJaYMh6uYGSFElHrco1+pCJyZjUs9GPu7gZqiz1QNIgoRGVmQGJuvKCQA7MIT9n7BTHj6BLWJ/mE/3XQ2fmys49ENR/qOX3gC8c3r9gtkWaAAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/12.485e406.1680.png" srcset="/assets/ideal-img/12.485e406.1680.png 1680w" width="1680" height="1010"></noscript></div></div><p>다운받은 파일 경로 입니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAa0lEQVQImVWM2wrEMAhE8///uU/aTWlDjDFmSiwtdODghaPpxwdqrTAbcPe3PgwzdBtIxIScd2zbH2aGUkogIphzBivpPDOYGUSE3vtHdL/FRaqiKKLI+xEfW2tQ1Th6voU43WO4F2/7yRIvFMLD1a9YtKAAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1124" height="634"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/13.5c30d52.1124.png" srcset="/assets/ideal-img/13.5c30d52.1124.png 1124w" width="1124" height="634"></noscript></div></div><p><code>sudo dpkg -i lsd_0.18.0_amd64.deb</code> 명령어를 이용해 설치합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAzElEQVQImS3Hy06DQABA0fkxUqINVGagVi0aYGg7FBge2tjYpjTRGBfGjX9h+pvX+FjcnFzx/Hbi8PJFYV5J4i13N1vi2QPxbMP88h6d7Oi7d0SWDNzOj1xHPYGrUecLfCfjwtW/+k7O1LOIvvmgtZ+UeiANS/S0IVUWHf2ZqI4qPSJs2FFHHZVqqaWlUQ2V/E811D8ftohuYtj4KwZpeAoKam/FPjDsZcFBGnZyzaM0CDkylKOMzM2ZODlXTo49W7B0Ne04Jxuvsd6SbxVIfcaMT0r9AAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/14.0f0ae54.1680.png" srcset="/assets/ideal-img/14.0f0ae54.1680.png 1680w" width="1680" height="1010"></noscript></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><code>Downloads</code> 으로 이동하는 이유는 해당 디렉터리가 아까 설치한 lsd가 있기 때문입니다.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="단축기-설정">단축기 설정<a class="hash-link" href="#단축기-설정" title="제목으로 바로 가기">​</a></h3><p><code>code ~/.zshrc</code> 에서 사용하기 쉽게 단축키를 맵핑해주도록 합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">alias</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ls</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"lsd --no-symlink"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">alias</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ll</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"lsd -l --no-symlink"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">alias</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">lt</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"lsd --tree --no-symlink"</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeElEQVQImW3NXQoCMQwE4N7D/DRr2yRbVtb7H26ECoKuDx+ThxlSzvOJOSfGGGitr3zf7SP2QIl0bN0gyiAmEH1jYdi9ong6rCuqKUQFIv+VnIHmtlar/FNgFlg1lAjH8A22KUjoim/rU8njgc4O18SQuAjbETXxAvBaU3U8YFmYAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/15.a4b5dff.1680.png" srcset="/assets/ideal-img/15.a4b5dff.1680.png 1680w" width="1680" height="1010"></noscript></div></div><p>적용된 것을 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVQImSXFa0+CUACA4fO/at1AZFPRhgfHDvfbAbQQpFXG1vreR//v22Yfnj3idbigm18iNZKnJ6KgJw6H64F/JE4msmRCyM3IdtMzN1PmZoZ9F2PdBlezG4X9mLM0SsQpe6dLP3j2KtZeh7/s8cySnaXxbc3OqlCLFjElPed8JPYPJFHPUQ3UTkO9bv85DeWiRnyHL/zEHZ2v2Qd7Oqk5uwVfsmLaFny6FcMqR2TugTdZI1cpM6dFPlXoh5DkPqQ1IpRRUFspf9bqfqxxrN9GAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1009"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/16.9a59e46.1680.png" srcset="/assets/ideal-img/16.9a59e46.1680.png 1680w" width="1680" height="1009"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAu0lEQVQImUXG60rDMABA4TyWImNDarVNFFu0dTaLbdMmjeIu4i7qIwi+8pENmT8+zhHr7Q/z5TfVdEuRvVLmi6Mim/NYvNGYT8TdbUemGuKzGdFJRXRa/fdII+r7HU35hb5ZUFz0lJf+4OHKM032AnW+QrjU0ScOJwe8CoTrgFPh8O7vu9QjXhLLMmn5UJb31OLjhk3aspGWnWxZy46Vsgg5bunHGj0xJCNDPjIM50/UkxnPkUFHHUNc8ws98Hs/6A4L/wAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/17.7f45763.1680.png" srcset="/assets/ideal-img/17.7f45763.1680.png 1680w" width="1680" height="1010"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="bat">bat<a class="hash-link" href="#bat" title="제목으로 바로 가기">​</a></h2><p><code>cat</code> 명령어에 코드 하이라이팅 + more 기능이 추가된 버전입니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="macos-설치-방법-1">macOS 설치 방법<a class="hash-link" href="#macos-설치-방법-1" title="제목으로 바로 가기">​</a></h3><p>아래의 명렁어 실행 후 <code>bat</code> 를 실행해서 잘 적용됐는지 확인하도록 합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token plain">brew </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> bat</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>파일 이름이랑 코드 줄까지 이쁘게 표시되는 것을 볼 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVElEQVQYlVWPbUvCUBTH7wsxH6fWGGop6oZud87mvPe6WuWyB41CCkopP0PamwjpTZ9B9i76nIXDnbiLoF78OH84P/6Hgyb3Dwf2YPReN9my1qKeYjKv3ra9mkE8ZZctR7d3H1fXN32k2O5z2e5DVmcgaAQymEJGpyDgn5y3HJAM+obEJn2ULAdE0/kSdLZKasRPhVA+P6OKCdEKfkHYvZiXnCFIbcfPtewgpRFIYwppjQQCpn7DHYBs9xYoq1rzAulB1Tn1M00WcEngIqahKLUdEHWyQLEKnu90XZCPBj5f/jamNMKzn1Q7kFAMLmqzbdYD9fjSlw/Pg5wRnufNQVojfoKLsrFAtf2TWaF7BtlmdyWazjqjs3Ua0xD+XMMdgrzXW6CcZj0JmEGyYYWk1M4/NltdyKntVxTZKsgb+fI0XqyO48XK5C+xQmUckUrTiFisfwMUi310NfG7JQAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1828" height="1820"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/18.e6dfc0b.1828.png" srcset="/assets/ideal-img/18.e6dfc0b.1828.png 1828w" width="1828" height="1820"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="단축키-설정">단축키 설정<a class="hash-link" href="#단축키-설정" title="제목으로 바로 가기">​</a></h3><p><code>code ~/.zshrc</code> 에 cat 대신 사용하도록 설정하면 더 편리합니다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">alias</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">cat</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"bat"</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="마무리">마무리<a class="hash-link" href="#마무리" title="제목으로 바로 가기">​</a></h2><p><code>Terminal</code> 꾸미기 등 시리즈로는 제 글 이외 많은 자료가 존재합니다. 그만큼 아무래도 개발자라면 <code>Terminal</code> 을 이쁘게 꾸미고 생산성을 강화하고 싶어 합니다.</p><p>문제는 <code>Terminal</code> 커스텀의 끝이 참으로 없다는 것인데 너무 꾸미는 데에만 집중하느라 본질을 놓치지 않았으면 좋겠습니다. 적당한 타협해서 커스텀 해주면 이뻐서 자주 들어가고 가독성 개선 및 생산성 향상이 될 거 같아요.</p><p>읽어주셔서 감사합니다.</p>]]></content:encoded>
            <category>zsh</category>
            <category>oh my zsh</category>
            <category>terminal</category>
        </item>
        <item>
            <title><![CDATA[Github Token으로 IntelliJ Organizations Repos Push Failed 문제 해결하기]]></title>
            <link>https://parkgang.github.io/blog/2020/10/17/solve-the-intellij-organizations-repos-push-failed-problem-with-github-token</link>
            <guid>/2020/10/17/solve-the-intellij-organizations-repos-push-failed-problem-with-github-token</guid>
            <pubDate>Sat, 17 Oct 2020 03:00:00 GMT</pubDate>
            <description><![CDATA[IntelliJ로 개인 repos는 문제가 없는데 Organizations repos push가 계속 failed해서 토큰을 발급받아 해결해보려고 합니다.]]></description>
            <content:encoded><![CDATA[<p>IntelliJ로 개인 repos는 문제가 없는데 Organizations repos push가 계속 failed해서 토큰을 발급받아 해결해보려고 합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAYAAABhYU3QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARUlEQVQImR3KQQrAIAwAQd/TNKIYW2MC/f+rtuBhblO+SNKD5YnNh9E7VSt6KCKCyE3JOXF7GbYZY2GtoSJcJwjLA9/BDwdDH8qiIZc5AAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1898" height="411"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/thumbnail.769f55d.1898.png" srcset="/assets/ideal-img/thumbnail.769f55d.1898.png 1898w" width="1898" height="411"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="github-token-생성">Github Token 생성<a class="hash-link" href="#github-token-생성" title="제목으로 바로 가기">​</a></h2><p>github에서 <code>Settings</code> → <code>Developer settings</code> → <code>Personal access tokens</code> 으로 가서 <code>Generate new token</code> 를 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAY0lEQVQImV2MCQqAIBBFvf+Jyl3pRlEu6fxQK8IHn+EvDHN+g3EeUltwobBwAS41ViG7F8pAaQuGiUJzMmClFDTVWpHzhf2IOELCGSJSyr1rYkTjxXtnWt6aPvyPP/+oN0S4AfQkvsclqpOZAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1920" height="934"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.564e38e.1920.png" srcset="/assets/ideal-img/1.564e38e.1920.png 1920w" width="1920" height="934"></noscript></div></div><p>필요한 권한은 <code>repo</code> , <code>read.org</code> , <code>gist</code> 이다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAARCAYAAADkIz3lAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLUlEQVQokWVS0W7DIAzk/79se9o+YdIe1rQJYMBA0sBV9hrWrpYsATnfne0Y5zwoRGzbFa11tNY0e+94DDMvHjlnlFrBXBDzhpQ3bNcGoGuBpAmRQSEoy7JYeOex7/sA9AOYMytAgHaxsNbpWeIJKB6n80VZ5ss8MucywFJoQghIifVCnuA9Kauca6nYtbkO44N4jFop7JK/xQnruo4JGE+En9Ok0su8KOPh8Yi/ZqxToMjFmAZLv6dKU2DEGBUokpxYh380cSzBWB+GF2milAJZyjNjg0kxqpw8iEeZZa3r68BVjlkvRAGZ8/DYHhmJCKfpjFqrMsp4xMoLIwXCZZ71o7X2Ll2fPQqwpAJJ6cBZB+ccOFdw3XUrYzzv3594+/rAdt31dxOP/2VF+gZZlJaG9IsIoAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="501" height="871"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.80ac650.501.png" srcset="/assets/ideal-img/2.80ac650.501.png 501w" width="501" height="871"></noscript></div></div><p>생성된 token값을 복사한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdUlEQVQImV2NbQrDIBBEvf99QlKjTUIv1IL4kez6igZ/tAMPdmYWxuzHi+d+sPqNxTqmeWW2nmlxzA+HdR7nNwx/emchCMT6mxsRoaGqlPPiEyIxZVIMlJwQ1d6bWisD1Uo5hfNSLtHum1rXp8fjrXa37Gb4L6tovjkC567oAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1920" height="937"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.e741a08.1920.png" srcset="/assets/ideal-img/3.e741a08.1920.png 1920w" width="1920" height="937"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="intellij에-token-등록">IntelliJ에 Token 등록<a class="hash-link" href="#intellij에-token-등록" title="제목으로 바로 가기">​</a></h2><p>IntelliJ에서 push시 올바르게 계정이 등록이 안됐는지 계속 Confirm을 요구한다. 여기서 토큰 사용을 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAa0lEQVQImSXLSwrCMBRA0axKQRO1r+nLhyZB8TOxFYeuQMHFX6EOzvAYG08MueBzxYni+oCVv02n2H3HukyYyzki3iOa6UPCa1zIoLiD4OyWVbph5PoiPb+E+Y3cP+zqg7E1xnZcYq0F22Z+CvQ3vYrLsWIAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="372" height="116"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.f334507.372.png" srcset="/assets/ideal-img/4.f334507.372.png 372w" width="372" height="116"></noscript></div></div><p>아까 발급받은 toten 값을 붙어 넣는다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfElEQVQImT3GTQ6CMBCA0d7KCBXsMPRnKFAxkrj2/mf4TFy4es/5eUWTETTSj4F+FLoh4Ef53d8nbkFxIRqlvcjtRMqTsu7U42SyB7EexLKgKeO8RDQbqTY0bxQztnaguRLzwpwKMkfcVTLdKFwH+XsZJvz+wdsbtZWQFr4KU0iZuX+wGgAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="424" height="188"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.f3aac77.424.png" srcset="/assets/ideal-img/5.f3aac77.424.png 424w" width="424" height="188"></noscript></div></div><p>이후 정상적으로 push 되는 것을 확인할 수 있다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAL0lEQVQImQXBiw0AEAxAQbsRCRpCW5/9B3nuQhyO7sdSw/yw1PFzmWqUJlTpxJT5h3UTYAMmhdAAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="351" height="58"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.791cfdc.351.png" srcset="/assets/ideal-img/6.791cfdc.351.png 351w" width="351" height="58"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="이외">이외<a class="hash-link" href="#이외" title="제목으로 바로 가기">​</a></h2><p>또한, 이전에는 내 개인 repos만 출력되었는데 이제는 Organizations까지 모든 repos가 출력되는 것을 확인할 수 있다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArklEQVQImS2Ny27CMBRE/U0pSBWpH9fPxEBj2iLED0AWrPv7p8JlMRrNzJFGxf2JUComZFwsGJ+wIfdsQkL7iKQJ1X4upKniU6EePil1T8wT2nk+rHRpKygtsQcjoYP1uBDL3MHRCKNxfVOji714Xs7HhemwEPLMzshLTzCitNbocYczmjoXcgpELwTvCF4QZ/FiUUNbGdqNod15a3c2p5XN1/rv3w+211/ezw/+AHC/bHAkvPW9AAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="802" height="461"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.fe7eaec.802.png" srcset="/assets/ideal-img/7.fe7eaec.802.png 802w" width="802" height="461"></noscript></div></div>]]></content:encoded>
            <category>github</category>
            <category>IntellJ IDEA</category>
        </item>
        <item>
            <title><![CDATA[Github 프로필에 나의 Daliy 코딩 시간을 표시하기]]></title>
            <link>https://parkgang.github.io/blog/2020/10/12/applying-my-daliy-coding-time-to-github-profile</link>
            <guid>/2020/10/12/applying-my-daliy-coding-time-to-github-profile</guid>
            <pubDate>Mon, 12 Oct 2020 03:00:00 GMT</pubDate>
            <description><![CDATA[Github 프로필에 주로 언제 코딩을 하는지 나타내면 어떨까요? 밤에 주로 활동하는 올빼미형 인간인지 아침형 인간인지 유추할 수 있을 것입니다. 해당 페이지에서 commit 일자를 기준으로 Github 프로필에 나의 Daliy 코딩 시간을 표시해 보도록 하겠습니다.]]></description>
            <content:encoded><![CDATA[<p>Github 프로필에 주로 언제 코딩을 하는지 나타내면 어떨까요? 밤에 주로 활동하는 올빼미형 인간인지 아침형 인간인지 유추할 수 있을 것입니다. 해당 페이지에서 commit 일자를 기준으로 Github 프로필에 나의 Daliy 코딩 시간을 표시해 보도록 하겠습니다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><a href="https://fernando.kr/develop/2020-05-02-github-gist-posting/?fbclid=IwAR2Xxg1VGXn-4xa1b3pZUbiTIp_nRsmO2ukHfsYffydhe_GYHUhf6A3LbpE" target="_blank" rel="noopener noreferrer">FERNANDO 기술 블로그</a> 참고하여 작성되었습니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="repos-포크">repos 포크<a class="hash-link" href="#repos-포크" title="제목으로 바로 가기">​</a></h2><p><a href="https://github.com/techinpark/productive-box" target="_blank" rel="noopener noreferrer">해당 repos</a>를 <strong>자신</strong>의 repos로 fork한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeUlEQVQImUWMAQ7DIAwD+//vVO2AdvtUCQyFcFPopkWyFNuXLHt84jrOFyGdPOLBFhJrCOwhse2RuG4sfKeP3wYKXFr/AbCYdd5NkVLJWchSaO6l0HvHzFDV+6P2TmttBl64cilIrYwxpp+gG7/OIlxXvmHPzLyd4AdPar1BSWql1QAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1920" height="937"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.b056b69.1920.png" srcset="/assets/ideal-img/1.b056b69.1920.png 1920w" width="1920" height="937"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="gist-생성">Gist 생성<a class="hash-link" href="#gist-생성" title="제목으로 바로 가기">​</a></h2><p><a href="https://gist.github.com" target="_blank" rel="noopener noreferrer">링크</a>로 이동하여 새로운 Public Gist를 생성한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAiElEQVQImU2NMQoCMRBFc29FUEzi6go2Fh7GK1jYWQjaLVaChSzOzJMJ2WUHHjM/kPdDPpxYtcfCLO6Zxy2L2LBMmfUmk5rIrk0E6sgEGx4nE0wVR0VQlbo9GyioWiGYgZmhfritbnd/fu8xl2oP4qb6wRQut47z9Y6o1uqJacCrnq8vj64fjX8S7t7/08pEmwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="905"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.9cfaf01.1680.png" srcset="/assets/ideal-img/2.9cfaf01.1680.png 1680w" width="1680" height="905"></noscript></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>여기서 생성되는 gist를 출력되는 껍데기 이므로 제목과 내용을 마음대로 작성하면 된다. public으로 저장되어야지 추후, pinned에 고정이 가능하다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="github-토큰-발행">GitHub 토큰 발행<a class="hash-link" href="#github-토큰-발행" title="제목으로 바로 가기">​</a></h2><p><a href="https://github.com/settings/tokens/new" target="_blank" rel="noopener noreferrer">링크</a>에서 <code>repo</code> , <code>gist</code> 를 선택 후 token을 발급받습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAPCAYAAADd/14OAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/0lEQVQokW1SW27DIBD0/c/TA/QS/coV2gQI7ANYT7U4oKAWaSTLnt154EOkQkXRe4fWCq0KM4Of8zwXDiZCaw0sgpQSUsooxGBR1DFY0XrHYb2PiUKC+GSwAkUMJDbez3PMB2ZFKQRVBRFDtcPepedUrQ05ZwgL7j939NY3n4vogWJMEBGER8AzPYd3/+7hFpGZkXNB1Yr4CIghouQy2tg2+qa50UmtNpj949FDTGKKaW2yFxaRWAZG6kLo3Ya3iU3aS3diinEF+SPttbi0p9+k7cLmMYQIIhr1+MDyuBFFX/UoUojjplq7rnEQ7bz+lK/vGz5un6jtMv/uzz3+AlRSTFXR3aYEAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="520" height="758"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.67b87d8.520.png" srcset="/assets/ideal-img/3.67b87d8.520.png 520w" width="520" height="758"></noscript></div></div><p>발급된 token을 복사해 놓습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVQImS2PSQ7CMBAE/f9vQkDkQIQTb7MVsmGk0lxavSR3Z56bMXrDVAi3haogvaMipForZkrpwn5cvM/GcQ0+1chVyFXp4iQzIwhyLtzuL7Zt57btbEfmkQvPs/FpQlq5M1oF6xUfbRGhgGE20N5IEQHTMwL3wP/fzBcqunr+haCqlCqUJgxR3Kfbjzn4C46Y6sUWVh5oAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1040" height="589"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.c98f7b1.1040.png" srcset="/assets/ideal-img/4.c98f7b1.1040.png 1040w" width="1040" height="589"></noscript></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>해당 page에서 복사하지 않으면 해당 token으로 접속해서 재발급 받아야합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAYAAABhYU3QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARUlEQVQImQXBSQ6AMAwEQf7/SBQhcYGbI2cZGzdVx1wbSUib4cYYRsaiKqhP1J5UikN7oUhCHbcT7w23xvSLXDd6GmkvP365TYTWoLF6AAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1057" height="241"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.98de283.1057.png" srcset="/assets/ideal-img/5.98de283.1057.png 1057w" width="1057" height="241"></noscript></div></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="repos-환경-변수-추가">repos 환경 변수 추가<a class="hash-link" href="#repos-환경-변수-추가" title="제목으로 바로 가기">​</a></h2><p>아까전 fork한 repos에서 <code>Settings</code> → <code>Secrets</code> → <code>New secret</code> 으로 들어가 환경변수를 생성합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZklEQVQImV2MWw4DMQgD9/7X3RJeSaYyX1WRDALGfl5L3pVkFVFNfIzKovchInFbZDXPvZespLtZ7iwzfPlAlUlHoHrUwoy9NzLJ4BG4B+ecgXQfUE6B/yVAmsTzs2gqZY/uSH+BX6HMxRnZ/0ZNAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="845"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.7665967.1680.png" srcset="/assets/ideal-img/6.7665967.1680.png 1680w" width="1680" height="845"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="gh_token">GH_TOKEN<a class="hash-link" href="#gh_token" title="제목으로 바로 가기">​</a></h3><p>이름을 반드시 <code>GH_TOKEN</code> 으로 해야합니다.</p><p>이전에 복사한 github token 값을 붙어넣습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZElEQVQImU2NUQrDMAxDc/+z7mMsHYllyypO2lLDs0AIqfW/qTC4ZjFN8JBHbM+wtGWmAJO7a/RD9uviGCq/uK/Vm2aKCAEQ7MLjaX6CFajGz/gK4WKmglyQu3VN3zC5lS+u+RO5d8UauDwkJAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1679" height="847"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.cfc3aa3.1679.png" srcset="/assets/ideal-img/7.cfc3aa3.1679.png 1679w" width="1679" height="847"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="gist_id">GIST_ID<a class="hash-link" href="#gist_id" title="제목으로 바로 가기">​</a></h3><p>이름을 반드시 <code>GIST_ID</code> 으로 해야합니다.</p><p>이전에 생성한 Gist의 URL 주소의 뒷부분을 붙어넣습니다.</p><blockquote><p><code>https://gist.github.com/사용자아이디/[이부분을 복사]</code></p></blockquote><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbUlEQVQImU2N6wpCMQyDz/s/qz+ODLfeP+0maCGlTUJyPcfiHgtRZYky50TVMHNEbXOtXVWFmeLuyHhhY5BLaL74zVUFIkJEoHaSNrx/xyOPsZeZ7cTHvPEIMovI3Oj7m1in5g8tHnORXfkxvgGY/8TvLP7XmAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="847"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/8.3c34405.1680.png" srcset="/assets/ideal-img/8.3c34405.1680.png 1680w" width="1680" height="847"></noscript></div></div><details class="details_rxUF alert alert--info details_PYSW" data-collapsed="true"><summary>gist의 URL 주소를 까먹은 경우 아래 방법을 통해서 다시 조회가 가능합니다.</summary><div><div class="collapsibleContent_oXwz"><div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAWCAYAAAD5Jg1dAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVQokXWSu2sVQRSHt7S3EBSM0Sg+iggmICksRNDGf0PwRYJBQlBstLBU/wdBUEFBEcFKO4kEC7l5kJgQyc29u3t3dnYe+7yfzORBTPAHvx2W+c6Zc+ZMMDB0hsFT5zh28iyHB4Zw/0dPnObI4CmGR8f83qXLVwnOj44x9eARE5NT3Bmf5P70Q26PT3Lj1l2evXjOlWvXGR65SPBj9id1XdNLEmyeU1UVu9WaX+D9h08EdQNR3GNhcYnl3yt0ul36/b4Pruuaqm5ogCAWkqoqMDqlKErvTaihaRqUtqRSEdiywciQtdZX0kwTRhF5XvisTdOgbU6mLUEUJ1RV7V1WlV8d4OzgHbAbxmhjEEL4bEpp34SDnIwtNkEXoZQiSQRRFHsnSbILzLdAk2OMRWtNmkqESBFpSlmWe0BbIGVG3Etob3S8HegactqpsdONqMocqzOyVJCbzRq35QI8uNYOWe2kzK+GzK10CWVJT9XEqiJWNT1p/V0GL7+tc3x6kQuPlxh5ssyhe/McnJjz64GbLZ5+bEO/IFhsK97NSr60NJ9/Kd7MCF7PCN7OpLz6LphdkeR5TmCMgdqiRERlJXtVVwVSWYI/6xvITNPe6BL1EkSaobSh7kPd9HHX55txG1mmCMPITyiVEn/KlnYmY/LCT0bKf4/97wg7na6fzDa0D3QZXbbIPwi1rxm370H3cXXGifAPVBm7Y22sh5TJ+Qt1UBt/pAOUywAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="230" height="515"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/9.b8fb92d.230.png" srcset="/assets/ideal-img/9.b8fb92d.230.png 230w" width="230" height="515"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeUlEQVQImW2Muw6CUBBE789rQWGhv0FFRy+JkHtJNGIHfyCNNAZ2j9klPgonmZ3MIxv6YSAvSjbZnro6cY6JS2qdqW5om8i1uxEAYjpy2G2Zn7PZvwiqyjQ9uI+jB4uIU35o3oeqfAIRZRF1NVrvH+2s4zWAt35h3QtsH73N9SyweAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1679" height="907"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/10.a0f38fc.1679.png" srcset="/assets/ideal-img/10.a0f38fc.1679.png 1679w" width="1679" height="907"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAh0lEQVQImU1MiwrCMBDr//+ITEXnNvGjpL0ORG3vEelNiwfhklwu4bjcMFwWnOcrDuOE/TR3DOOE3Wl0HlIk5LwiUfbdQA20IkYCJQJRRsB3nq83KgtYFSzqvLD8zghm5kREUUpFrexBFsH9kcAqgGFrbGFVRftp0KbNIO5tRb3Rx/mf7rbhA/ii4wGGiJ6jAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="971"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/11.f370ba8.1680.png" srcset="/assets/ideal-img/11.f370ba8.1680.png 1680w" width="1680" height="971"></noscript></div></div></div></div></div></details><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="action-등록">Action 등록<a class="hash-link" href="#action-등록" title="제목으로 바로 가기">​</a></h2><p><code>understand my workflows</code> 클릭하여 매 정각 업데이트가 되도록 활성화 시켜준다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZ0lEQVQImV2NbQoCMQxEe//b6fpXPILuB2WTdvIkC5ViYBgmeUPKXo31ODFzzBunOd4areuXzZ0iCQjS1TvqkKuQiAjGlAwj7sfG8npwe975bO/sX3CqJDCa6dXqJUV+msAZ+p/59gWYZMTDHpdgJAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1678" height="846"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/12.c60431f.1678.png" srcset="/assets/ideal-img/12.c60431f.1678.png 1678w" width="1678" height="846"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="잘-등록됐는지-확인해-봅시다">잘 등록됐는지 확인해 봅시다<a class="hash-link" href="#잘-등록됐는지-확인해-봅시다" title="제목으로 바로 가기">​</a></h2><p>지금 당장 결과가 보이게 하기 위해서는 포크한 repos에 push를 해서 업데이트를 트리거 시켜야합니다.</p><p>간단하게 <code>README.md</code> 에 공백을 추가 후 commit push 하도록 합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAc0lEQVQImT3O2wrEMAhF0fz/lw60L5mmSYyXXUyhD4LiOmgBmHNy350xxu5FBDUjAnQt3IPiEXtR65/ravTEH3x37k7JVGuN4zw3krUYUzYOd1R1B0qezlTvg6WGmn+Vs5kneeE04VcPRNaH81z+lq8lfACAQ8RP9xoIVgAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1679" height="904"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/13.43de607.1679.png" srcset="/assets/ideal-img/13.43de607.1679.png 1679w" width="1679" height="904"></noscript></div></div><p>업데이트가 대기 중 이였다가.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAg0lEQVQImX2NXQuCQBBF988bhluJ9t96S0uLXgKjD5x1dk+sGfVSF85wLgxcY/M1Ni8pyhK7KkjmltnIgiTNxp5mSwzA+eZpOx/1Z0zwyqlzbI4PLtc7fS+IOMS5yYUQAiaed3qREVXPoB7nBlT19fh373u62jfUzYGqaYke2e4m6g9PyvncetgjlSgAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="909"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/14.1f18715.1680.png" srcset="/assets/ideal-img/14.1f18715.1680.png 1680w" width="1680" height="909"></noscript></div></div><p>완료된 것을 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbUlEQVQImW2MUQoCMRBDe//DKbtMWw8g/otLt60z86RbQQUDIbwEEhbJnJaIpExMF1aJSMwHr5IODw4Atzucr4r6oP8KqkpXo3XlsW2UstP6k9o6Za/U1jCz+QjzahSqhrvjzjvnFr7LX314bC+Yg8DxBbWq5AAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1681" height="907"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/15.f361172.1681.png" srcset="/assets/ideal-img/15.f361172.1681.png 1681w" width="1681" height="907"></noscript></div></div><p>이전에 만들었던 temp gist는 사라지고 업데이트된 gist가 생성된 것을 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAcUlEQVQImVVMCQ7DIAzj/1/rGNDuG5NYKUdVB0+hq6pZcmJHjs1kPadnYJhf9PNCF25a5/mwbmzDHwDwsyYCcp3+YESEImAuheuWmWtjbTtLbYw58QCoGdN7Hx9q9KiNGM+d7xIJwdmoQ8MnVd/+guovQdbARGCjoEMAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1679" height="906"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/16.96cd9fe.1679.png" srcset="/assets/ideal-img/16.96cd9fe.1679.png 1679w" width="1679" height="906"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="github-프로필에-pinned-등록">github 프로필에 pinned 등록<a class="hash-link" href="#github-프로필에-pinned-등록" title="제목으로 바로 가기">​</a></h2><p>다른 사람이 제 Github 방문시 바로 나타낼 수 있도록 pinned로 등록하도록 합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVQImSXMSwrCMBgE4FzGrWuv5MKNgg8QKqS1aV6NFkVLpYLFlYjHEBQpiPUkFsTFSNJ/NfB/M0SbJagfYDiaIM1y3B8lnq8K2yzHYDxFwASsISo24CqGH0ZI8wL19wd7HuVotTvo9vpIVmsLFxC6gafzBZ+6dtBmb0YhuYI1RGrjpiOucCiOqKo3ruUNm/0OQmr3s4YobVywLcYlaMDgzyOEXCIUEkw2i39rBowSIKa0iQAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1678" height="907"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/17.86129ab.1678.png" srcset="/assets/ideal-img/17.86129ab.1678.png 1678w" width="1678" height="907"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="reference">Reference<a class="hash-link" href="#reference" title="제목으로 바로 가기">​</a></h2><ol><li><a href="https://github.com/maxam2017/waka-box" target="_blank" rel="noopener noreferrer">소개한 방법과 비슷한 제품류</a></li><li>개성있는 github 프로필<ol><li><a href="https://github.com/techinpark" target="_blank" rel="noopener noreferrer">techinpark</a></li><li><a href="https://github.com/woskaangel" target="_blank" rel="noopener noreferrer">woskaangel</a></li><li><a href="https://github.com/Im-Tae" target="_blank" rel="noopener noreferrer">Im-Tae</a></li><li><a href="https://github.com/injoon5" target="_blank" rel="noopener noreferrer">injoon5</a></li><li><a href="https://github.com/du-dung" target="_blank" rel="noopener noreferrer">du-dung</a></li><li><a href="https://github.com/jiyeoon" target="_blank" rel="noopener noreferrer">jiyeoon</a></li><li><a href="https://github.com/anuraghazra" target="_blank" rel="noopener noreferrer">anuraghazra</a></li></ol></li></ol>]]></content:encoded>
            <category>github</category>
        </item>
        <item>
            <title><![CDATA[MongoDB Install 및 실행]]></title>
            <link>https://parkgang.github.io/blog/2020/10/11/install-and-run-mongo-db</link>
            <guid>/2020/10/11/install-and-run-mongo-db</guid>
            <pubDate>Sun, 11 Oct 2020 03:00:00 GMT</pubDate>
            <description><![CDATA[해당 글은 Mysql과 같은 RDBMS를 배우고 오신 분이 실수도 있고 처음으로 DB를 접근하시는 분 이 실수도 있습니다. 초보자 시점과 Mysql과 다른 점을 집중적으로 적었으니 꼭 글을 끝까지 읽어보신 후 실습 부탁드립니다 😁]]></description>
            <content:encoded><![CDATA[<p>해당 글은 Mysql과 같은 RDBMS를 배우고 오신 분이 실수도 있고 처음으로 DB를 접근하시는 분 이 실수도 있습니다. 초보자 시점과 Mysql과 다른 점을 집중적으로 적었으니 꼭 글을 끝까지 읽어보신 후 실습 부탁드립니다 😁</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="mongodb-install">MongoDB Install<a class="hash-link" href="#mongodb-install" title="제목으로 바로 가기">​</a></h2><p><a href="https://www.mongodb.com" target="_blank" rel="noopener noreferrer">MongoDB</a> 에서 접속 후 상단의 <code>Software</code> → <code>Community Server</code> 를 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjElEQVQImU2NbQrCMBBEc/8DeQD/iGi1tWl7AwVtTRtMSz6aJ0kRfDA7uzDDiqKqOR+OXMsbVdNR1JKLbKhkSylbirphd9ojALy1yYjAfXjxePf5/kf4EDDzjHUuJ59GMSxT3l3whHXFeoeIMfJTKvWfkcFowhq2LzGmsQUTxhjUqFBqzJq0zsWEWjRf/S2+8gam3nsAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1920" height="936"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.d0c4937.1920.png" srcset="/assets/ideal-img/1.d0c4937.1920.png 1920w" width="1920" height="936"></noscript></div></div><p>자신의 사양에 맞게 버전을 설정후 Download를 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAg0lEQVQImUWK2wqDMBBE/f8P7IPgQ0HjpVJtTBR3NznFWOjAYWDOVKcIZoaI4PfAEjw+Bvwey66mNEtLBSCqxOP4CSudUkJFLw2W7uMWIuNr5uM96+fGbxvz+kZEEZX7mAG1jKWMpkzKEM6Dx9QUd6UaB0ffO7quxbk/XaFjGnrqZ80X7QPA3R5qbFkAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1921" height="939"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.75cb857.1921.png" srcset="/assets/ideal-img/2.75cb857.1921.png 1921w" width="1921" height="939"></noscript></div></div><p>Next 클릭</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVQYlR3LvS8DYQCA8RstFrFZWHRqgpgMBolEDDW0IdJWU3HBwir+iQ5WiUQQUbH4Wmw1EAYnpR96rVN39779ump9tA19hOlZfo8yshxhSN1gSI0Q3Lxh5TiPGtWZ3csQ2NcJR3P4dnQUdaCTpdEu5lwK2sUWn9UU7wWNuryjJjX4zmI6Fkpoop/FXT/e8R6uzndxagaW+YAQSaRMUZaP3BnPKH51kNBJAE/YxfXZNs5bDjOv4ZSfqDo6jbpO/NVACfpcTB94mfL2kogdAQ34FkAR2oX/pqWFMj/czULQzYy7g/jlIfDBT8uCH0H7f5Ck/uCaZ4D1STerY30kb0+BOs0vk1ZT0GwIaAsStoli2zYFaSOFRaVSplQqktUz3KcNHnM2wnwhFjf4Bebd+/JWwjOUAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="495" height="387"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.8502c4a.495.png" srcset="/assets/ideal-img/3.8502c4a.495.png 495w" width="495" height="387"></noscript></div></div><p>동의 후 Next 클릭</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAABBklEQVQYlT2OO07DQABEfSKOwgEAIdGk4AR03ADRUIMQEk2gpqag4KMIhMLPjr0be2N71/EvxAsyechGYqSpZvRmnMHZiI2TR7aOR2yfPrF7OWEw9Ng8d9m5kKwf3bC2N8SxdUCtx9T6hYV55buaQCOBBKhIxlccHO7j6HnBsrHIaciH6/HueohpiDZzysWSZvnJrWtw8rKmU5ZlGGPQWhPHMY21rPqk5X5icCIVE4ZTgiBACtHb933SJKUoS+yi4qErZnlJ27YUeY4xuqemacqXtfysOmb7V1SzBKUUURQhOqKU/fw8z8m6/1XBnZfipCb7/9fNR0ohhGTsK95kwiyUXD8LfgGs+iCeKzcTiQAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="495" height="387"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.19b73c4.495.png" srcset="/assets/ideal-img/4.19b73c4.495.png 495w" width="495" height="387"></noscript></div></div><p><code>Complete</code> 를 눌러 설치합니다.</p><p>기본경로 <code>C:\Program Files</code> 밑에 설치하고자 한다면 <code>Complete</code> 다른경로에 설치하고 싶다면 <code>Custom</code> 을 선택하면 됩니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAABAUlEQVQYlT2Mu0oDQQBF94v8FHux0UZBf8DSLxCL9BYiNkZrGwsRLcwSIRofOzPZR8w+ZnZmWLKioB7ZCCkOtzn3BFsnQ9aOHtg4HrF7odg5l2z3Feungs1+ymrvlpW9M4KveUJrXvj0gp824fcjge8ZUAIt1fMlB4f7BGVhGN2EDK7uSGVCqQ1lpSkqTV5q5k1DOHEEtfWI14hhOCR6i0izjDwvyPOc6fuMtnEMlCaonSeOY57GY6RUCCGIIoGUkiyb4kxJqAyBsQ7nLEYbtNZLjDGY2tI2/l/UtcP7Dr/Eue7sqG0nOu5l1Yl2UbS2W7coTeIYpSbESUoxTbl+TPgD1/UePl9isUkAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="495" height="387"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.e7fdfe5.495.png" srcset="/assets/ideal-img/5.e7fdfe5.495.png 495w" width="495" height="387"></noscript></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><a href="https://javacpro.tistory.com/64" target="_blank" rel="noopener noreferrer">Custom으로 설치해보기</a></p></div></div><p>설정을 변경하지 않고 기본 값 그대로 설치한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/klEQVQYlSWOsU7DMABE84NsDHRiKPwUQ6cOlJ9gRupQQKVp6jhO7aSJ7TpxW6BISA81DKcbTnrvktvJguuHN0aTJfdPivFjwd1MMZ6V3EwVo6niaiJJbK1pyg1WFxz9jt5WQ87R8/vZw08k1Z5kleUsP1as0gyRF7TOE7oeHzrsPnCIHS/CkexayzpNKZRivc5QStG2LSF0hK7j69gzl57E7cMwOOdorcV7TwiBGCN9H/k+RubSkZRbQ1EUaG3Ic0lVVRhj0FpjTMUphn9itWuo65qmaZBSIoQg2wiEyFHllvPpwDx3JM4HuhAG3aUvVxbZlvfsYtHY2vD8KvkDbQMe7syHZpEAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="495" height="387"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.70fb65f.495.png" srcset="/assets/ideal-img/6.70fb65f.495.png 495w" width="495" height="387"></noscript></div></div><p>GUI기반 MongoDB Tool을 설치하실 분은 <code>Install MongoDB Compass</code> 체크하고 설치하시면 됩니다.</p><p>해당 페이지에서는 <code>DataGrip</code> 을 사용할 예정이지만 나중에 살펴보기 위해 이번 편에서는 설치하도록 하겠습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVQYlW3NPUoDQRyG8TmRRxFsLIyFjXew8wZiYydaCGqRE1gGTZNkP5KoEbMZZ40iu7Pzn91lo2jxSBAkiMUP3uKFR+2eBbROIzaPQzZOxmxfJrQupmydP7LTNqwfdVnba6MWpca9DqmyWxp7z2c55atK+JAHoMBOrjg43EclOiWMYsJoSLAUxoTxiEEQMbqb0NQVAy2ovHA4t0Lkd9vC0VSe/ixHWSd47//lxLOoPf1keRSPLz3if/w9vtclg5lF5VmOWIvkFnEOWUkXbpkWekmGMr0AfdPlqXONNYZCBK01xqQ8z194m6d0xoZvQj0dxdu56jgAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="495" height="387"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.da29c30.495.png" srcset="/assets/ideal-img/7.da29c30.495.png 495w" width="495" height="387"></noscript></div></div><p>Install 클릭하여 설치를 진행합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9UlEQVQYlVXNMU7DMBhAYZ+Io7AyMjCgLsxs3ACxcAMmCBdgZOhCQUJCVVPHIW0DjhLH/uOKFsrwqpQuDG/7pKfOkjGniWGQaAb3GYMk4+RWc3STcnxXcHg95OA8QX0vC36jYS2aTTRsYs7Kp/zIFPC4yQOXVxeoWWmZpFN0lqMzw1QbinnJh62YlZ9EEV4KQVW1w1qLrSqqfXVd45yjbhxfMTDKG1QbhBgjXdf9S0QIIqyWwsg0KOcDIoEQ/upBX9fDEFgvO55zh2ragOxRn/ee1nsa19K0frd+MnUPPSH4HejhYrFAFyXD15Txu8WWcx7fZmwBVjcgZYI0DLIAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="495" height="387"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/8.72d85a1.495.png" srcset="/assets/ideal-img/8.72d85a1.495.png 495w" width="495" height="387"></noscript></div></div><p>이전에 체크한 <code>MongoDBCompass</code> 가 설치된 것을 확인할 수 있다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAABVUlEQVQYlR2QTUtbQRiFp7sK3ZVSBDe2UDdiBZuYmXfembm5N1+119jGkkVIQPohaUEjDVZw7U60f6Du3bhyJd1IoTt/01OS1dkcznPOMUXe4OPugPeNgqYGYozkeUGIGTEFqu1d3rwdYmLWoDc6YjsqhXiseErdpJXX0a0Bzw7vWPj5gJEQSOU2XhUrDvGB12nIy+4JT3785cXoF2u9CcbFOq4cEMQiIjinrORjFnvnPJ7cUyn3aEWLUQ102l1CUMQ5RAOr/VM2+lPy/hdsamOtx2hW8G44Js8S6oWKJF6dPbA8vWWld8xG6FJd38SkvEGru4N6j3eWmmY8Pb5nYfqPR9//8Onwgp3BZ0zW7FDufaOe4hxtNbG8/5vn42uWDm5oTa6I40tMaG5R+fCVTB1OPF4EL26eHqVG1QmVWcfUbNMZ7RO8Q2ZG7+fr5w/M1DmcrfEffHu5nyfs6REAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="646" height="641"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/9.2e4bc44.646.png" srcset="/assets/ideal-img/9.2e4bc44.646.png 646w" width="646" height="641"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="환경-변수-설정">환경 변수 설정<a class="hash-link" href="#환경-변수-설정" title="제목으로 바로 가기">​</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><a href="https://somjang.tistory.com/entry/WindowsMongodb%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0ver-420" target="_blank" rel="noopener noreferrer">[Windows]Mongodb설치하고 환경변수 설정하기(ver 4.2.0)</a> 을 참고하여 작성되었습니다.</p></div></div><p>설치 후 <code>mongod</code> , <code>mongo</code> 와 같은 실행파일을 커맨드라인에서 경로를 들어가지않아도 편리하게 바로 실행할 수 있도록 환경변수를 추가해야 한다.</p><blockquote><p>그냥 어디서든지 명령어를 실행하고 싶어서 그렇습니다 😏</p></blockquote><p>먼저 mongodb가 설치되어있는 폴더의 주소를 복사합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbElEQVQImT2JWwqCQAAA9/7X8ACJC51h7asfC1oSdA0Uk801X+g6kUHzMwMjAmWQcc5BFYSq2B2dHsjzE3lxHK+OKGkRAFtvYWgBj+8sjA789F1/RNrM6KpDV2+MW7mVv77XPZmdMa+FtJn4AAGibt0wuyFLAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1103" height="320"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/10.8595746.1103.png" srcset="/assets/ideal-img/10.8595746.1103.png 1103w" width="1103" height="320"></noscript></div></div><p>환경변수 설정 페이지로 들어갑니다.</p><blockquote><p><code>내 PC</code> 우클릭 → <code>속성</code> → 왼쪽의 <code>고급 시스템 설정</code> → <code>환경 변수</code></p></blockquote><p>이후 <code>Path</code> 를 선택 후 편집을 클릭합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAABLElEQVQYlVWOTU7CUBhFu0EHmqAzt+QOJIGIJi7AmQkTRX4MAVHAthRoaSlt33ulFIroMRRNdHBzki8n97vaecXiuKhzUjQolC1Oy2MKpRGFkpXzrGxxdGmiiblNJn3SyCVTC3ZJCB8rPpOIr7WCXczADtHGtssySXFcj8FQzzPz/Dx+KIiV5ElfoPlBiOfN0Q0DyxpjmiMMw8RxZggpSZeSprFA8/w5SSxIloosS9nus10jREQYCda/YvP5nbvqkOqjzkNzRL3jUGtNGJkO8m/j1PYYGlPa3T69do9+rUWv88bUnv0XQ6HyN0EYsJj7vL4MMa0JtuMQRIIkltT34iqWZIkiWyk2icq3prFkvTzsY6PojgO0q7rLdcOl0jjw5of5re5y2/K4uLf5BsKoZpzUAnomAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="618" height="585"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/11.ceeb9fb.618.png" srcset="/assets/ideal-img/11.ceeb9fb.618.png 618w" width="618" height="585"></noscript></div></div><p><code>새로 만들기</code> 를 클릭하여 이전에 복사한 경로를 붙여넣고 확인을 눌러 설정합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBUlEQVQYlUXNzU7CQBSG4bl9gYXRm9BbABNcGJeIyo9pp+10Wjst/aGFVrSQvoay4Eue8y3OSY64ew65nwaMnjSjiWY48RmMFYOxz+30m5vHN4YPM0SxMSTaoSkSaGughe730rQkq3eS5RzhhzGWLbEdF1u6mHhDlhcc/tre2rKxPIXQYYTnuEhb9pRS+L5GByFplhNojdYaEURxv5TSYV/XHE8nutP57ZGuPeA4DlJKhPJ81osFy49P1oslnm2xcg0vbsNMlf3hmcg2GU1RsM9zqjSlyTNCs+XV2jJ3cowxPVHVP5zT9fPalxzZ7XY9keZbqqqiLMurqsKLUr6UITKGOI75B1fgSizn4XbvAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="527" height="501"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/12.fae0a12.527.png" srcset="/assets/ideal-img/12.fae0a12.527.png 527w" width="527" height="501"></noscript></div></div><p>명령 프롬프트로 실제로 잘 적용되었는지 확인해봅니다.</p><p><code>$ set path</code>
<code>C:\Program Files\MongoDB\Server\[버전명]\bin</code> 보인다면 환경변수 설정 완료입니다.</p><p><strong>mongo server가 활성화 되어있다면</strong> <code>mongo</code> 입력 시 mongoDB Shell으로 넘어가는걸 확인할 수 있습니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3UlEQVQYlU3PT1OCQABA8f1uTUP8GZcdFpOoVAwRYddVEGtMO3To1qUP/Bo9efhd3u2J/fDL1+cfvfuhbb5ZLc9X1Y1leULI0JIE5ioODCq0SL9FeTXJwxrtN6j7FaLIPqiyd+a6Z6o7ZrrnWTleR5ZCWebSkAc1Yjk5UE8GymRLoRyF2lzNpOElqsmDijxYIXbaMjztGbKO4XFLP3ZcWp86utTh4oZdXCPevAVH3XIeG7rUUsuWU2o5jy0HWXIMp1RegdBewzwyyMBy512mNpQjRx5ZFuGazG9JfMM/JIKWsxAGs/AAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1235" height="846"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/13.76eaba7.1235.png" srcset="/assets/ideal-img/13.76eaba7.1235.png 1235w" width="1235" height="846"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="server-setting">Server Setting<a class="hash-link" href="#server-setting" title="제목으로 바로 가기">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="개념">개념<a class="hash-link" href="#개념" title="제목으로 바로 가기">​</a></h3><p>대부분의 DB는 외부에서 접속하기 위해 Server를 내장하고 있다.</p><p>예를 들어 개인 공부 및 대학교 수업에서 Mysql으로 실습 시 설치할 때 잘보면 MySQL Server도 설치하는 것을 볼 수 있다.</p><p>그렇기 때문에 DB Server가 활성화 되어있지 않으면 DB의 접근은 불가능하다.</p><blockquote><p>필자의 경우 DBMS Install시 DB는 DB자체라고 생각했지 Server안에 DB가 있는 줄 몰랐다.<br>
<!-- -->해당 개념을 알고 접근하면 추후, JDBC와 같은 DB Connection시 이해하기 쉬울 것이다.</p></blockquote><p>MongoDB도 마찬가지다. 아래의 명령어를 통해 Server를 활성화 시키고 접근할 수 있다.</p><table><thead><tr><th>행위</th><th>명령어</th><th>설명</th></tr></thead><tbody><tr><td>Server</td><td><strong>mongod</strong></td><td>mongoDB 데몬의 약자로 mongoDB server를 활성화 시킵니다.</td></tr><tr><td>Client</td><td><strong>mongo</strong></td><td>Client 신분으로 mongoDB에 접속합니다.</td></tr></tbody></table><blockquote><p>보통 DBMS를 <code>mysql</code>으로 입문하게 되면 <code>mysql workbench</code> 편리한 GUI Tool 덕분에 익숙함에 모를 수 있지만 사실 백단에서는 mysql도 똑같이 shell기반으로 돌아가고 있다.</p></blockquote><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="활성화-전-mongod-이해하기">활성화 전 mongod 이해하기<a class="hash-link" href="#활성화-전-mongod-이해하기" title="제목으로 바로 가기">​</a></h3><p><code>mongod</code> Server를 활성화 시켜보겟다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAx0lEQVQImSXI2U6DQABA0fm2Rg1EgmBRGNlaS6lgQxlmmC6S1uXDr0n7cB/OFU39Q7M6k8mRLDFk0pAm+mZpru/tdUBEXkccDLz4PaHTXvPvNwROS+A0+A8fPM4qRBXvqeWBKraUz4oy7CmCHYu5YhkNlKGieOoQOj9h3y/ocqKXFpMfUemBIT8y5Cd08cVnpBBWGqZ8z19hmRKFjjWX1PBdWH6LkXM2YoINYu5u6fyWhVvjzVYkdxVbt2btrtl5NaXb0DhL/gHVHYGN3bmEswAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/14.8b62a31.1680.png" srcset="/assets/ideal-img/14.8b62a31.1680.png 1680w" width="1680" height="1010"></noscript></div></div><p>log가 쭈우욱 찍히더니 마지막 cmd를 보면 server가 실행되지 않은 것을 확인할 수 있다.</p><p>트러블 슈팅 전 <code>mongod</code> 라는 명령어에 대해 알 필요가 있다.</p><p><code>mongod -help</code> 를 입력해보면 해당 명령어에 대한 파라미터 목록이 나온다.</p><p><strong>우리는 argument없이 <code>mongod</code> 만 호출했음으로 Default으로 작동한 것이다.</strong></p><h4 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="db를-저장할-디렉토리-생성">DB를 저장할 디렉토리 생성<a class="hash-link" href="#db를-저장할-디렉토리-생성" title="제목으로 바로 가기">​</a></h4><p>server 실행 전 어떤 DB를 server에 올릴껀지 선택해 줘야 한다.</p><p><code>mongod</code> 의 DB 기본경로는 Windows 기준 <code>C:\data\db</code> 이다. 해당 디렉토리를 만들고 다시 실행해보자.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAACCAYAAABhYU3QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAUklEQVQImWNYMH/1/1Urt4Lx1i0H/u/Yfvj/zh1H/q9cseX/lMnz/0+ftgiMGcyNI/5bmEb9NzeJ/G9tEfvf0izqv5V5zH9Tw7D/lqZRYDGQHACShy+rOPnwKAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="375" height="92"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/15.abd4a79.375.png" srcset="/assets/ideal-img/15.abd4a79.375.png 375w" width="375" height="92"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAXElEQVQImV2IyQpAUABF3//7BGX+Cx+gTKUUFrbkGVeG0FGPlVOn7rlC82vcsEUPJGY4YMeT0opGnGTGSxeMaEKguID7nYrz1yDydqXoNkp5UPWvpdyV1fdlzcoDyHFuLrHEZpgAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="882" height="253"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/16.8bcce83.882.png" srcset="/assets/ideal-img/16.8bcce83.882.png 882w" width="882" height="253"></noscript></div></div><p>현재는 빈 디렉토리로 되어있다. 이제 server를 실행해보자.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAx0lEQVQImR3F2W6CQABAUT6sTUlrDEYTgYEqOGzSioBUllGgGh7647fRh5OjFdkfh3QikgNxMJKEvyThSCR7Qv+K3Cq2To22MVsenNUP1qJELCvsRYllFJhGwXp+ZPXxjZbJGwdvIP28sHfVUyI6YtGQOC2hWRNaZ7RrMqGiO40cqf2eTg40cqD1e6qNonJbCnFGu3iK0euY3BO9lXNaF9xEyV08zhlFibKPaMu3PV+6ZKcHGC8B9mtA9h4S6ZJ8FrCbpWTzmH/r54BY2VI1QAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/17.3046682.1680.png" srcset="/assets/ideal-img/17.3046682.1680.png 1680w" width="1680" height="1010"></noscript></div></div><p>많은 log와 함께 정상적으로 server가 실행되는 것을 볼 수 있다.</p><p>잘보면 port <code>27017</code> 으로 실행되고 있다는 log를 확인할 수 있다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>MongoDB의 기본 포트 번호는 <code>27017</code> 이다.</p></div></div><p>또한, Default Value가 생성된것을 확인할 수 있다.</p><p>이제 <strong>해당서버에서 일어나는 CRUD는 서버가 지정된 아래 디렉토리에 모두 저장된다.</strong></p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVQImR2Myw6CMBRE+/9f5dqFwNaNikLAkFDoS9rbHlMmmWQyL3W5L7T9yvWhaQdPMziaj+P2tqfuxkA3ehQVyeH0AjGQD0cKpppAOeMKdUjGWMvz1Z/cjWHVG78jnkySkVxQpYA1O/M0I5IIwbNpTYqRLEKphfroY8Y4z/RdkDrygXUzhPoYE1EyIWb+FgHAG/2aiZgAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1015" height="548"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/18.3ae0ad6.1015.png" srcset="/assets/ideal-img/18.3ae0ad6.1015.png 1015w" width="1015" height="548"></noscript></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="설정-정보-변경하기">설정 정보 변경하기<a class="hash-link" href="#설정-정보-변경하기" title="제목으로 바로 가기">​</a></h4><p>근데 port와 db 경로를 변경하고 싶으면 어떻게 해야 할까?</p><p><code>mongod</code> 실행 시 <code>--config</code> 및 <code>--dbpath</code> 파라미터로 값을 넘겨줄 수 있다.</p><ol><li><a href="https://poiemaweb.com/mongdb-basics#41-windows" target="_blank" rel="noopener noreferrer">--config 설정법</a></li><li><a href="https://javacpro.tistory.com/64" target="_blank" rel="noopener noreferrer">--dbpath 설정법</a></li></ol><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAq0lEQVQImT3OzQ7BQBiF4V4NbfUnaJBQNCFcto1EuAAbFuws2k5bmzIzr0zbOMnZPd/JZx1vKad7xvlRcXlWHK4vhtM9brDGDRNsL25qgUa/C1BfUB/ehSCadTBYYnsLHD/G+ipjJFIqTPKiJJruGYQJbrDC8Q2OsZTWaClRdd1AkWaMJlscv1000LSBJlq1iyIXDKMNfa8F/x+l6mB3IMqK8WxHz53/18ziD6vSpBF7C/iSAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1009"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/19.b5526c9.1680.png" srcset="/assets/ideal-img/19.b5526c9.1680.png 1680w" width="1680" height="1009"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="번외-">번외 🤬<a class="hash-link" href="#번외-" title="제목으로 바로 가기">​</a></h3><p>Windows의 경우 <code>MongoDB</code> 설치 시 자동으로 Server가 활성화되어있으며
Windows Service에도 등록되어있다.
서비스에 들어가면 확인할 수 있다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAApklEQVQImS3MS3KDMBREUfa/vGwgZYOQHIH+TzggdFPgDLp6crqHcX4xmoXFZ6xLn/jETxCMK9gg+CQM+74TYkJrjVITxmhKznzbwteUGP0bemfovZOLoJVifDyYnk9iCOSYCIulinC0dsHzhuvq/l8VORdSLqzOk0uhfWCnSMU5zzzPNxYR2nnyux8cR+MyQ62VECLWLhhjMC9Diolt23hv293X8A+EheTjO+TjdQAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1920" height="1040"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/20.843462d.1920.png" srcset="/assets/ideal-img/20.843462d.1920.png 1920w" width="1920" height="1040"></noscript></div></div><blockquote><p>덕분에 내가 Server를 활성화 하지 않았는데 활성화 되어있어 훨씬 더 햇갈리게 되었다. 😭</p></blockquote><h4 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="어디를-참조해">어디를 참조해?<a class="hash-link" href="#어디를-참조해" title="제목으로 바로 가기">​</a></h4><p>사용 환경에 따라 다르지만 Local으로 사용할 경우 이미 Windows Service에 등록되어 있는 것을 사용하는 것이 편리해 보인다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>혹은 커스텀해서 Service으로 등록할 수 있다!</h5></div><div class="admonition-content"><ol><li><a href="https://joont.tistory.com/44" target="_blank" rel="noopener noreferrer">Windows Service 등록 방법</a></li><li><a href="https://devman.tistory.com/entry/MONGO-DB-%EC%89%BD%EA%B2%8C-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0-%EB%B0%8F-%EC%B2%B4%ED%81%AC%EC%82%AC%ED%95%AD-STEP-by-STEP" target="_blank" rel="noopener noreferrer">mongod에 Windows Service 등록해보기</a></li></ol></div></div><p>자동으로 생성된 MongoDB Windows Service를 까서 확인해보면 <strong>실행 파일 경로</strong>가 아래와 같이 설정되어 있다.</p><div class="language-shell codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-shell codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">"C:\Program Files\MongoDB\Server</span><span class="token string entity" style="color:#36acaa">\4</span><span class="token string" style="color:#e3116c">.4</span><span class="token string entity" style="color:#36acaa">\b</span><span class="token string" style="color:#e3116c">in\mongod.exe"</span><span class="token plain"> --config </span><span class="token string" style="color:#e3116c">"C:\Program Files\MongoDB\Server</span><span class="token string entity" style="color:#36acaa">\4</span><span class="token string" style="color:#e3116c">.4</span><span class="token string entity" style="color:#36acaa">\b</span><span class="token string" style="color:#e3116c">in\mongod.cfg"</span><span class="token plain"> --service</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>위에서 <a href="/blog/2020/10/11/install-and-run-mongo-db/#%EC%84%A4%EC%A0%95-%EC%A0%95%EB%B3%B4-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0">설정 정보 변경하기</a>를 보고오면 어떤 메커니즘으로 호출되는지 알 수 있다.</p><p>사실 우리가 이전에 환경변수를 지정하러 들어갔던 디렉토리를 보면 <code>.cfg</code> 파일이 생성되어 있었다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAb0lEQVQImT3JywqCQBhA4Xn/1+gBDAd6hslVmxQaEmoU77ffIkXthJvO6oOjDsahgyfeOeVoEjyT4Acp+lKjQ+EUCf51QAF82xy6chfb2MJHYJv29U/FzYzNBmwmOFm55SO2eHGv3jy6GdcvxM3ED/nfbrybDxo9AAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1103" height="320"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/21.36f3dbc.1103.png" srcset="/assets/ideal-img/21.36f3dbc.1103.png 1103w" width="1103" height="320"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAMCAYAAABbayygAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/klEQVQYlVWQWZKDMAxEfZOZFAS8GzBZCHsgTu5/oZ6ygQx8dHW59KyWRGLRoLi+wVUHKhow3Qc/swqpqJHwCimvQaLkAm0dZOEg8hk8n8HME8I8wVQPYUZo+wL5jS1upUNfOtTFjDqfUJkRUvcBpLKFMANIlF6h8wnGDGD8Ac4fwX20j034I3Qlp3OJ3DrY0kHpAVK1ELKFlC2obJCKZgF/ogL38o3h8kGVjYvMiLtP8Av6T6FjbCGLOSySyPYguoJhRg+qfILM/JYdmGpX78B28NIxm8IcX2CVBzY/guEk/8Be5BQV4GYIxT2wvTcRdXuB8gZUHQtc91/5w/8BPc69rraVLbsAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="840" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/22.27ceb96.840.png" srcset="/assets/ideal-img/22.27ceb96.840.png 840w" width="840" height="1010"></noscript></div></div><p>기본으로 등록된 Windows Services를 사용하면 해당 경로로 log와 DB가 저장되는 것을 확인할 수 있다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="hello-world">Hello, world<a class="hash-link" href="#hello-world" title="제목으로 바로 가기">​</a></h2><p>Server에 대한 개념이 길었지만 해당 챕터를 이해하면 추후, 다른 DBMS 사용시 많은 도움이 될 것이다.</p><p>자 이제 Server를 열고 <code>mongo</code> 를 통해 접속해보자.</p><p>당연히 Server 활성화 안하고 들어가면 Connection 되지 않는다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwklEQVQImSXIzU7CQBhG4bktXeACW6Z/E4sSQqCtJDA/hUprFWQBJhq37rzeQxgXT873fmL//sv59Meu+WFbf9Fsvr3r7cwnTp+x6xNinO7Ioy0qtP8C4yvvltzfLhjezD1R5i2FapiONJNwxSRY+V73LDa+U6kRJrXo1GAyh80ctaoxnkNntf+vU4twoyUvQcExquijCj0s2MuSQ1RxjAv66Jm3uEQMkg+e4pY86RjIjlB2zLJXHpOWuepI1YHFQ88FI8t90xYIMLgAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1235" height="714"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/23.b1d12d7.1235.png" srcset="/assets/ideal-img/23.b1d12d7.1235.png 1235w" width="1235" height="714"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="db-list-출력">DB list 출력<a class="hash-link" href="#db-list-출력" title="제목으로 바로 가기">​</a></h3><p><code>show dbs</code> 으로 DB list를 출력합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAy0lEQVQImR3FXU+CUACA4fOr6oZNHWg1IYQs+ShYtAOcgxhKYJO0dd9Vf/ht4+LZIz67X87DH7X+QecXdHGhKr9HSp4p5RfF24BwF4rVbYUzL3CsHNvKuZtmLIyE2XXI7CocF8/3W7LHD7J1S+o1JF7Di7sjWe1I/XeipR4J5WqasBsd4p427tlHR/ZRz3bdUDolclkger+m82sGT3H0FMouOXmak18xuJLDUtLaGcK5kaRmTDAJsIwNtrEhnQaEkydezYAHMyGbR/wDrPV+wrHS9Z0AAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1235" height="714"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/24.c21734a.1235.png" srcset="/assets/ideal-img/24.c21734a.1235.png 1235w" width="1235" height="714"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="db-생성">DB 생성<a class="hash-link" href="#db-생성" title="제목으로 바로 가기">​</a></h3><ol><li><code>use [DATABASE_NAME]</code> 명령어를 통해 Database를 생성합니다.</li><li><code>show dbs</code> 으로 조회해도 최소 한개의 Document가 없어서 출력되지 않습니다.</li><li>한개의 Document를 추가합니다.</li><li>정상적으로 조회되는 것을 확인할 수 있습니다.</li></ol><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAw0lEQVQImVXF3U7CMACA0b4UxMSEKEbXdT9haqQTxsBsbWeQrM44CXChL+CFD/wZ0RsvTo449J987L7wj++sqx1P9R5XH/6x1R6RqzXZuCI6nSNP7okGd4wHU86GmvOhPv5DPFx7VlnLcrJBB4ZZUKOlQYeWXDmm0h4JGztMbDGxwyWOJm2wyS/zdx07RBOs2FwWbMOSLiwxFwWvckEflmxVQRcueVELxCh641a1ZJFnJD1X0pMnz9xELbPUE6c980nHN3vffQCRedcbAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1235" height="714"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/25.6a29938.1235.png" srcset="/assets/ideal-img/25.6a29938.1235.png 1235w" width="1235" height="714"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="datagrip-연결">DataGrip 연결<a class="hash-link" href="#datagrip-연결" title="제목으로 바로 가기">​</a></h2><p><code>+</code> 버튼을 클릭 후 데이터 소스에서 MongoDB를 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAPCAYAAADd/14OAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXklEQVQokW3R3W7UMBCG4dwR6gGiiZM4/nccO9mUUG1btBWccAEUqXDzL9rAAhJ7YNkaPRrPZ1c2roSUUdZj/IhyAeMj2gW08yjjCGmi6s+HGOmlpBYNTSuoRYvUjsF4lA28fVdTubHg5kd8ecDPT+h0ZHAT1hmMtfSD5ObmDdV4uCefXplPP4iPr9gPL5inr+TTd+LxG3p7Qc5fqAatmabEOCWc9whR04aNtH2mbM+Md88InamkDZTtSFlW4lRQNhKSZ15myjyjreG2rqlaZZAuIrWllYqmU4zZkUrGj3l/iaaTVKIfEL3kvF9gmnqmMu2oV4a67X7BM7gs0Ul0npmWFW393qAWv+G/uGk7wuEjaXmPtm6vXYWiG1CjJ+aCCyPdoK/D235gU5q1LNiY9u88Z/j/6q4njgeWdcP4cH1GccZdR5sf8HnFOr/X/qT+21Ej2ha1fCId7nd4CfMTYZ0ORgxmZksAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="367" height="565"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/26.0af85d6.367.png" srcset="/assets/ideal-img/26.0af85d6.367.png 367w" width="367" height="565"></noscript></div></div><p>만약 MongoDB Driver가 없다면 설치하고 Host와 Port를 입력 후 연결 테스트를 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0UlEQVQYlT2OSU4EMRAE/a5ut122y0uvs4lBzIHTIPH/DwQagziEUqmMQ5rl/k27PZHlgeRGbBs+zx2nM6MPWFFMujxp1y/S/kl4CVHxMTNJxDrBvkQfMNpOhLwiuiCpoHUmloZoxoWEJO1p2vHOfNyJ9UzQQsiFWCqp1N7/xbK9kecrXndCyuzLRimNKSR8/KWLdb8j+cDGBecCR8qojwxOGF1g7CmY9fyBtgsurv38MPk+WOexk2N0nnHymLTekHrCppVBlPGPIVSsbkypdn4Ap/qP58UXC3MAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="802" height="677"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/27.62ce640.802.png" srcset="/assets/ideal-img/27.62ce640.802.png 802w" width="802" height="677"></noscript></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>접속 Server에 따라 계정 정보 등 필요한 값을 입력합니다.</p></div></div><p>정상적으로 연결되었다는 피드백이 있으면 적용 후 확인을 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAz0lEQVQYlT2OSWoEMQwA+1292LIlL73OEqZDcshpAvn/ByrEAzkUhaCQ1C3nD/XtiSyfiBVirnhNiKbmwQdGMTq9Pan3b3T/IqQZH1NjksjohfEv9IHO6oWQVsQWRDNW5rZVLOGCImrNXT3emY+TWK4Ey8SUibmgubT5P8zbgzTfEdvbX3Xd0FzbaRcVH/UVlv1E0sEYFsxHLvNK0URygeCE3gmDE7r1+kGqN6a4oC6QnGBemmVy9M4zTJ5O1wdSDkZd6cVeeKUPmcE2Ji2NX6ZOkB1OVz+aAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="802" height="677"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/28.6e008e4.802.png" srcset="/assets/ideal-img/28.6e008e4.802.png 802w" width="802" height="677"></noscript></div></div><p>정상적으로 연결되어 DataGrip에서 DB list를 출력하고 있다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAANCAYAAACQN/8FAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVQokX2RS0vDQBSF83PElQslj5nkzjuThGJDixVxqSD+//0nSbGlVl18HLicmXPnTOFCxvQJlzI+ZYwLiPOIC9iQcLFftYg5k8YJHxIiFvER3w8Yn5A+sdnteZz3FKVN3LmRLs+kNuIax21luXkQ7pUgxlDVDUXTWSRkQj8Ql3gfScNEnjZrpA09tWopVGdYaFpZEWcZphHjDKrVKK0oq/Jo1GJP+M0r0+GTOL8Ttm+47QdN2J2N3yppxgxP2PEZMxww4wu1Ga+NuutotD6h2/Yy+ucK62xR4yhr9bvxcvaP8eLAXzceqzpWtiKWcin86tXrX58xPlIrzRcX++RY4/jEHgAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="458" height="620"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/29.e3481c1.458.png" srcset="/assets/ideal-img/29.e3481c1.458.png 458w" width="458" height="620"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnklEQVQImW3NS3KFIABEUZYTQAQjyBMUBd8n+9/QTckogwxO9aC7qsXr9cN5vWm1kfJGXDNxTV2ID1r70K4P4mpPylExZkRJiVLqD4lzE9M0I3I5yffQ2n+GCim/0Foj9qOyHSfWOfQwMBiDNqbn/WKM6Z3I50XcK0sq7GkjP1bWJeJnz/Q9d2GJiFKfpFK76AOzdXjncNZixtuID4Fff0VgqHSsAigAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/30.f04382f.1680.png" srcset="/assets/ideal-img/30.f04382f.1680.png 1680w" width="1680" height="1010"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="결론">결론<a class="hash-link" href="#결론" title="제목으로 바로 가기">​</a></h2><p>사실 Server쪽이 아니면 크게 설치시 어려움은 없다.</p><p>하지만 대부분의 튜토리얼이 MongoDB 설치 후 <code>mongod</code> 으로 server를 활성화 시켜서 설명을 진행하는데</p><p>사실은 백단에서는 Windows Service으로 <code>mongod</code> 가 실행 중 이여서 <code>C:\data\db</code> 와 같이 지정한 경로에 DB가 저장되지 않을 수도 있고</p><p><code>mongod</code> 를 종료해도 <code>mongo</code> 으로 계속 Local Server에 접속되는걸 보고 <strong>뭐야 서버 왜 안죽어!</strong> 를 경험할 수도 있다.</p><blockquote><p>필자도 위의 이유로 화가나서 작성되었다.</p></blockquote><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="reference">Reference<a class="hash-link" href="#reference" title="제목으로 바로 가기">​</a></h2><ol><li><a href="https://blog.rhostem.com/posts/2018-08-31-mongodb-connection" target="_blank" rel="noopener noreferrer">친절한 설명</a></li></ol>]]></content:encoded>
            <category>mongodb</category>
            <category>datagrip</category>
        </item>
        <item>
            <title><![CDATA[dotenv 파일의 환경 변수는 왜 사용하는 걸까?]]></title>
            <link>https://parkgang.github.io/blog/2020/10/10/why-env-var-in-dotenv-files-used</link>
            <guid>/2020/10/10/why-env-var-in-dotenv-files-used</guid>
            <pubDate>Sat, 10 Oct 2020 03:00:00 GMT</pubDate>
            <description><![CDATA[연결정보는 결국 텍스트 혹은 숫자의 형태로 되어있을 텐데 .json, Object 등 사용하지 않고 왜 굳이 .env 를 사용해 관리하는 걸까?]]></description>
            <content:encoded><![CDATA[<p>연결정보는 결국 텍스트 혹은 숫자의 형태로 되어있을 텐데 <code>.json</code>, <code>Object</code> 등 사용하지 않고 왜 굳이 <code>.env</code> 를 사용해 관리하는 걸까?</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="왜-굳이-env">왜 굳이 .env?<a class="hash-link" href="#왜-굳이-env" title="제목으로 바로 가기">​</a></h2><p>이에 대해서는 장점과 단점이 숨겨져 있다.</p><p><code>express</code> 를 사용한다는 가정으로 <code>.json</code> vs <code>.env</code> 을 비교해보겠다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="json-단점"><code>.json</code> 단점<a class="hash-link" href="#json-단점" title="제목으로 바로 가기">​</a></h3><ol><li>파싱작업이 들어가야함</li><li>express에서 set과 get 형식으로 작업해야함<div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAMCAYAAABbayygAAAACXBIWXMAAAsTAAALEwEAmpwYAAABHUlEQVQYlUWR247kIAxE8//fOdOTEAhXGxIgZ7cz6t2SLL9YOq6q5bSOdTN8vwyHzcSs+CTMefPWfd/PLD1lnM9YG4hJCKWxeyUkpffOR8vIhRgCzgVyOClFsT6yu0AqSpSO1M5SSqEUodWLKhcijVOUS5Va6/PCg5ai5CykXJBy0trJGJM+5rPfRw+6ZCUnIaWElo6WE9GLXDtFT67r98/Ff60EEzA/Br877OvFunoOm7hb466Ve04W99rxXngZh3ER6w7W3bP5xp5ONAvMwRJWS4rK7jzuiHh/YF3EhBOfK6NWGIPFf2/ED9oc+G1jXx2bSWSf/qNrezu9qO2i6eDqA6kN0Uof47edtxmV+riNpTHn/NfER088f3P8A1B9z/j7wi6GAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="353" height="417"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.6ea00f3.353.png" srcset="/assets/ideal-img/1.6ea00f3.353.png 353w" width="353" height="417"></noscript></div></div></li><li>모듈이라 스코프가 동일하지 않아서 해야 하는 작업임</li><li>데이터가 추가될 때마다 set 해줘야함</li><li>함수에서 쓸려면 req 파라미터 넘겨줘서 <code>req.app.get</code> 패턴으로 사용해야 하며 <code>req</code> 파라미터 없는 함수에선 <code>require</code> 를 해야 함<div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVQImR3KW46EIBBAUfa/yIkzmY5gUUQF5Km3032+j1HvCW5HXeS0DreuvKyn5Eq5ClcujFoxjEHTgBNBrGVd/tFfiy4v5OeP5ISeMuazy36wiUdEKMfJTIl0Hly1Usukt4nJKRE1fJOGgGwbKh6VnRg7OTbGGBiAIxUkZu570lqj9c7oD6PdjD55noc3PjK/rSDcEJgAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="440" height="194"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.3581f26.440.png" srcset="/assets/ideal-img/2.3581f26.440.png 440w" width="440" height="194"></noscript></div></div></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="env-장점"><code>.env</code> 장점<a class="hash-link" href="#env-장점" title="제목으로 바로 가기">​</a></h3><ol><li>배포 시 Shell으로 변경이 가능 하여 수정이 용이하고 ShellScript를 이용해 <code>SSH</code> , <code>CI/CD</code> 에서 활약을 기대할 수 있다.</li><li><code>express</code> 에서는 <code>NODE_ENV</code> 는 환경변수를 통해 개발환경과 운영환경에 따른 설정정보를 다르게 가져올 수 있다.</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="이외-비밀-설정-정보-관리">이외 비밀 설정 정보 관리<a class="hash-link" href="#이외-비밀-설정-정보-관리" title="제목으로 바로 가기">​</a></h3><p>DB connection, API Key 등 SCM(source code management)으로 공유되면 비밀 정보가 노출되므로 별도의 저장이 필요한데 이럴 때 사용할 수 있다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="관리-방법은">관리 방법은?<a class="hash-link" href="#관리-방법은" title="제목으로 바로 가기">​</a></h2><p>매우 간단하다 연결정보가 포함 된 파일을 분리하고 해당 파일을 <code>.gitignore</code> 을 통해 버전관리를 하지 않도록 하면 된다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="적용-방법">적용 방법<a class="hash-link" href="#적용-방법" title="제목으로 바로 가기">​</a></h2><p>디렉토리를 생성한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxElEQVQYlW2Q207DMBBE/ReUuHZS0thxHLu5QEOvUgUIiQf+/28OShRSCfEwqx3pjLSzQmqP9Uf0JiJ1zegTVS2Ssxcq22HcmW15oHAnVBZIlJ9D9RzwiHGE9ka3/6QfvhiO34TmRhWv+HjFhQtVuCBW0mLjmd3zG93LB03/jqtPmOoVO+mAcQMiWTt0sUfnHSr1PCSWlSx5XLu7ZIkYl43pSfN2Of6vpjITWHSkeYPK4lzmn9Yj+GR6sm27gDK9v+kX/AGQkHO79NdwbQAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="264" height="223"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.3441cc4.264.png" srcset="/assets/ideal-img/3.3441cc4.264.png 264w" width="264" height="223"></noscript></div></div><p>해당 디렉토리로 이동 후 <code>npm init -y</code> 을 해주도록 한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMUlEQVQImQXBQQ4AEAwAQU+RuAnVChc0/P9TayZkWei4SHeqOTYfVQ+lbYpuxJyYlA877Q/fOfvHQQAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="605" height="55"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.ece025f.605.png" srcset="/assets/ideal-img/4.ece025f.605.png 605w" width="605" height="55"></noscript></div></div><p><code>dotenv</code> 과 <code>express</code> 를 설치하도록 한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAK0lEQVQImWMwNHX4b2Ht9t/E3Om/ubXbf1MLZzDb2Nzpv5mlC5jWM7T9DwBMzRC/6UU8AgAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="694" height="21"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.f9ed8be.694.png" srcset="/assets/ideal-img/5.f9ed8be.694.png 694w" width="694" height="21"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMUlEQVQImQXBWQ4AEAxAQVfygdImJLVE3P88z0yIaaD9Uu1QdGHjkdskV6foRuyQxPlTrxEjqvMdPwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="613" height="19"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.8dada03.613.png" srcset="/assets/ideal-img/6.8dada03.613.png 613w" width="613" height="19"></noscript></div></div><p>프로젝트 루트 경로에 <code>.env</code> 와 <code> .env.dev</code> 를 생성한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVQImU2NSwrCMAAFc4lqP2mSNo2VpkmrFV24U3Dl/a8zkojgYhgePBhRyZFGHSnrgUo6qsZR7HuK0mbvSpsRrQm4aUV1Hm0DZgi0ZqZuJxqV8EjtEcoElhi43d+cry+W7cF6eWb/I6QJaOux40Z/OGGGhc6t6D6SaqqLqD5+j8qm7IxxMacb7XP6R9ofUVtIBi6MTnUAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="238" height="115"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.2d3f1d3.238.png" srcset="/assets/ideal-img/7.2d3f1d3.238.png 238w" width="238" height="115"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAn0lEQVQImU2OWw7CIBBF2URthTJQKKbhUapfmmiMLqD73801Q3/8ODkhuXOCkHqBogWDnHEeAwYV0PUep+Gg6x0URQjjV4S4YQob3OWApoLRFGjLZFh/hSCbUdeK+3PH47Wj3j5Y/6i3L/L2huBL6xLsXKFbKbcKWxE7wfgNgvPk+VFg5tJMjkcRUsdmcpWLXEigKYPc8SceSJ2giDmGPx0OVjRJJbDnAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="246" height="139"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/8.46b19f3.246.png" srcset="/assets/ideal-img/8.46b19f3.246.png 246w" width="246" height="139"></noscript></div></div><p>데이터를 작성한다.</p><div class="language-env codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">.env</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-env codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token plain">id = 리얼환경</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password = hi</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-env codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">.env.dev</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-env codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token plain">id = 개발환경</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password = hello</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAALklEQVQImWPQM3L6r6Fj819V0/K/mqblf3Vtm/+Gpi7/tfVsIWJaVv81de3+AwA1PA+r0wjBGAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1378" height="115"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/9.2fea38f.1378.png" srcset="/assets/ideal-img/9.2fea38f.1378.png 1378w" width="1378" height="115"></noscript></div></div><p><code>app.js</code> 를 생성하고 아래의 코드를 작성합니다.</p><div class="language-js codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">app.js</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-js codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> express </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"express"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> dotenv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"dotenv"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"path"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> app </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">express</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dotenv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">config</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">path</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cwd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">NODE_ENV</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"production"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">".env"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">".env.dev"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"/"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">아이디: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">\n비밀번호: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">password</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">NODE_ENV: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation constant" style="color:#36acaa">NODE_ENV</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Express Server Start"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAWklEQVQImV3MTQqAIBRGUXcSopX/9lAiqMxBk9r/fr6oQVCDM7pwWSMJostI0wlLFcqtH9oXmFDBeBvAZQKNB+xQYeL2xD8mugQuM2Le4alChwLlFvR2ft3nCxtaLt/cKYUXAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1631" height="505"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/10.129d6d7.1631.png" srcset="/assets/ideal-img/10.129d6d7.1631.png 1631w" width="1631" height="505"></noscript></div></div><p><code>node app</code> 으로 실행 해보면 <code>process.env.NODE_ENV</code> 은 <code>undefined</code> 으로 출력된다. 이 때문에 <code>.env.dev</code> 의 값을 끌어오고 있다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAK0lEQVQImWOwMXf6b2/l+t/I0Oa/kprRfzVN0//Kasb/ldWNwbSKhgmYBgA5TA94T5gGVwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="581" height="56"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/11.25ec14c.581.png" srcset="/assets/ideal-img/11.25ec14c.581.png 581w" width="581" height="56"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAb0lEQVQImVXF0QrCIABAUf//z6LoZS1Rox7cBmYz3JoL0t2oNy8crriFgFsTdp7Qd4fxHj307OWZXdtykJKjVogZmIDfFyACoWTG/KmIwXseMeLCyNVanq+ZdymsOVfEqWnQStF3HRdjSCnxb9sqXy9el8xsHIIfAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="265" height="112"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/12.bf6adb3.265.png" srcset="/assets/ideal-img/12.bf6adb3.265.png 265w" width="265" height="112"></noscript></div></div><p>환경 변수 값을 바꾸기 위해서는 해당 프로젝트 경로에서 <code>set NODE_ENV=production</code> 을 지정해주면 된다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA2ElEQVQYlWWQwW6DMBBE/RttIEAwDtjAGjtOQquAAAWVQ///c6ayEace5jRvZ2eX8bLHZyzBrzfc+w3a/YDcgqp5oax3Vc0AVkiHKFFILh262wb7/EVrJ8h2CMAxwIQkxKlEmnfo3Ap930BmAdkZSo9QNKKsB7BS9TgldQBbu0K7N1qzoDEenKBo2lcL9UB0bpBxA7IrzGMFuRm1ngNw9GRxpnE6K6TcBOOqvHH08xr3RH/xR1SFY4T8hpBfKKr+n5hP83CU1MiFDW/KeIc0J3BBKAqN/EL4A24Gewl/8p67AAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="960" height="752"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/13.b7eb42f.960.png" srcset="/assets/ideal-img/13.b7eb42f.960.png 960w" width="960" height="752"></noscript></div></div><p>서버를 재실행하니 환경변수 <code>NODE_ENV</code> 가 변경되고 지정된 <code>.env</code> 를 불러오는걸 확인할 수 있다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAABCAYAAADn9T9+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKUlEQVQImWMwsXD+b2Pp8t/IwPq/kqrRf1VN0//KakZQbPxfRd0EzAYANwAPZO9vOEwAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="580" height="58"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/14.a898723.580.png" srcset="/assets/ideal-img/14.a898723.580.png 580w" width="580" height="58"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAECAYAAAC3OK7NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAf0lEQVQImS3F0QqCMBiA0b3/k9mFXqRGCBaYWZnTik03df8XSReHo0695ukd56Hn+LhT6o59WRJlKVGasstSkqJA6bAySNi8ELp1ofWOmzU01nAfLa2bUL01vJ1DG0OjNR/vmST8yfYYAiqJYw55zqWquNY1yzyDgISABIEfEb7/jJeLv5uIVQAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="268" height="109"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/15.5d29c5b.268.png" srcset="/assets/ideal-img/15.5d29c5b.268.png 268w" width="268" height="109"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="gitignore-에-추가"><code>.gitignore</code> 에 추가<a class="hash-link" href="#gitignore-에-추가" title="제목으로 바로 가기">​</a></h3><p><code>.env</code> 은 암호화된 파일이 아닙니다! 이 때문에 조회/수정이 모두 가능합니다.</p><p><code>.gitignore</code> 으로 해당 파일은 버전 관리 되지 않도록 설정합니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="config-디렉터리">config 디렉터리<a class="hash-link" href="#config-디렉터리" title="제목으로 바로 가기">​</a></h2><p>관심사의 분리(Separation of Concerns) 원칙을 적용하여 설정 정보와 코드는 분리되는것이 좋다.</p><p>제품 전략에 따라 다르지만 설정에 대한 정보를 하나의 디렉터리로 모으는게 어떨까? 아마 팀원을 위해 좋은 선택일 것이다.</p><p>이 때문에 <code>config</code> 디렉터리에 설정 파일을 모두 밀어넣도록 해보겠다.</p><p><code>.env</code> 파일의 기본 위치는 프로젝트의 루트 디렉토리이다.</p><p>하지만 <code>dotenv.config();</code> 에 path를 지정하면 다른 위치에 있거나 기본 이름이 다른 <code>.env</code> 파일을 참조할 수도 있다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqElEQVQImVXNy27CMBSEYT9GFWx8nDgB45y0uW2CyAKJHbz/4/woEWrVxWg2n2bM+edGMz8IaSHmlWM1UbgLh2Pe20qHFcUU9USz3EnjgpwGvorTP+iC4krFSPxmmHuaNCBVj1QjTrodFS5jfcZKxqRWeb6uSHMj1DMhTjjRD7xgvWJ9hyljZhiVKq2EesKXPRLHHfxBxbiyJep2feXcrntv99a3v6tb3s3hV0oFYJYBAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="237" height="159"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/16.13cfd70.237.png" srcset="/assets/ideal-img/16.13cfd70.237.png 237w" width="237" height="159"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAaUlEQVQImT3H3QqCMACA0T1Nqc1g8ze2ubVMULHAvOii93+NLxDq4lwcUZsHxr8oLwuFe1P6D911RavAUTrSs9+JXEVs2KjMk5O+0fg7YZ6I80gbeuwwInWPaOoBVUUOmSWR7i/Nu93vXyTWMjIJToe5AAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="197" height="62"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/17.5695862.197.png" srcset="/assets/ideal-img/17.5695862.197.png 197w" width="197" height="62"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="reference">Reference<a class="hash-link" href="#reference" title="제목으로 바로 가기">​</a></h2><ol><li><a href="https://wedul.site/479" target="_blank" rel="noopener noreferrer">개발과 운영 환경 구분하기</a></li><li><a href="https://m.blog.naver.com/PostView.nhn?blogId=couponpapa&amp;logNo=221233091940&amp;proxyReferer=https:%2F%2Fwww.google.com%2F" target="_blank" rel="noopener noreferrer">논리적인 설명</a></li><li><a href="https://brunch.co.kr/@topherlee/73" target="_blank" rel="noopener noreferrer">실제 만드는 사진이 있음</a></li><li><a href="https://hudi.kr/node-js-dotenv-%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/" target="_blank" rel="noopener noreferrer">연결 예제 코드</a></li></ol>]]></content:encoded>
            <category>dotenv</category>
            <category>환경 변수</category>
        </item>
        <item>
            <title><![CDATA[JSP Project에 CI/CD를 할 수 있도록 설정하기 (feat. JSP + Gradle Project 만들기)]]></title>
            <link>https://parkgang.github.io/blog/2020/09/27/setting-jsp-project-to-do-ci-cd</link>
            <guid>/2020/09/27/setting-jsp-project-to-do-ci-cd</guid>
            <pubDate>Sun, 27 Sep 2020 03:00:00 GMT</pubDate>
            <description><![CDATA[CI/CD 가 무엇인지 아는데 불구하고 JSP 를 이용해 제작된 웹 애플리케이션 제품을 만들면서 수동으로 배포하는 것에 대해 아쉬움을 느낄 때가 많았다. 그동안 개발부터 배포까지 Full Workload를 자동화 해보고 싶었는데 이번 기회에 제작을 시도해보려고 한다.]]></description>
            <content:encoded><![CDATA[<p><code>CI/CD</code> 가 무엇인지 아는데 불구하고 <code>JSP</code> 를 이용해 제작된 웹 애플리케이션 제품을 만들면서 수동으로 배포하는 것에 대해 아쉬움을 느낄 때가 많았다. 그동안 개발부터 배포까지 <strong>Full Workload</strong>를 자동화 해보고 싶었는데 이번 기회에 제작을 시도해보려고 한다.</p><p>처음이라 그런가 2 ~ 3주 정도 삽질을 하게 되었었으며 열심히 삽질한 결과를 자세히 리포팅 해보도록 하겠다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><ol><li>해당 글에서 <code>CI/CD</code> 가 무엇인지 다루지 않습니다.</li><li><code>IntellJ IDEA</code> IDE를 이용하여 프로젝트를 설정합니다.</li></ol></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="근데-cicd-에서-어떻게-build-하지">근데 <code>CI/CD</code> 에서 어떻게 Build 하지?<a class="hash-link" href="#근데-cicd-에서-어떻게-build-하지" title="제목으로 바로 가기">​</a></h2><p>사실 <code>CI/CD</code> 는 별거 없다 지속적으로 통합/배포 하기를 위해서 project source code를 가져오고 build 하고 이후 추가 적업을 끼워 넣어서 진행하면 된다.</p><blockquote><p>사실 <code>Pipelines</code> 아라고 말하는 게 더 명확할 수 있다.</p></blockquote><p>근데 문제는... <code>CI/CD</code> 환경에서 Build 작업을 진행하기 위해서는 <code>CLI</code> 으로 Buuld를 할 수 있어야 하는데 이 부분을 어떻게 할지 몰랐다.</p><blockquote><p><code>CI/CD</code> 를 위해서 가장 첫 번째 관문은 IDE 외에서 빌드가 수행돼야 하는 점이었던 것이다.</p></blockquote><p>이 부분에서 가장 많이 시간을 소비하게 되었는데 살면서 IDE에 의존해서 빌드와 Release를 진행했었지 CLI으로 빌드 해본 적이 없었기 때문이다.</p><p>이 부분에 대해서 많은 리처시가 필요했는데 결론적으로는 <strong>jsp 프로젝트에 Gradle을 사용</strong>하는 것이였다.</p><p>찾으면서 알게된 것으로 JSP의 Framework인 <code>spring</code> , <code>spring boot</code> 은 기본적으로 Gradle이 붙어있다고 한다.</p><p>요즘 시대에 동적인 웹 페이지를 위해 jsp 생짜로 개발하는 개발자는 많지 않을 것이다. 이 때문에 Framework를 이용하지 않고 jsp 자체에 Gradle를 사용하는 Docs와 레퍼런스가 굉장히 적었다.</p><blockquote><p>더구나 JSP가 오래된 기술이라서 이런 기술에 <code>CI/CD</code> 를 구성하는 글도 찾기가 어려웠다.</p></blockquote><p>그래서 해당 글에서는 <code>IntellJ IDEA</code> 으로 구성된 JSP Project에 <code>Gradle</code> 를 부착하여 Build 하는 것이 주된 내용이 될 것이다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="empty-project-생성">Empty Project 생성<a class="hash-link" href="#empty-project-생성" title="제목으로 바로 가기">​</a></h2><p>모듈을 포함한 Project 생성시 모듈 디렉토리가 생성되지 않기 때문에 Empty Project부터 생성합니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeElEQVQImXXN2woCMQyE4T6X2yZpspW69cZLUfH9n+KXFTzBevExkGFI8j4Q32Pjgo4bulw3pXY4Yj6TLci25pYgzX2hqDOJMon9lebeEXsd6qfUSv6S2ulOjDPFAqmOmCM1nuVU1i/Krigpeydb+1m/xYLGHovGA0U3ajaQB6jXAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="993" height="606"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/1.da219cb.993.png" srcset="/assets/ideal-img/1.da219cb.993.png 993w" width="993" height="606"></noscript></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAW0lEQVQImYXMSQqAMBBE0dwrQw+Z0Kj3v02JQogQ0cWDWhTfSN0Qlx1xOXBtKuuEa4NxHBGkU3h+ZywpbOBf99ERw5F8GkWSR6FvGsWgGX4qMEgTQm6gWCAp4wRygGjkL8nq1gAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="993" height="606"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/2.2209dd1.993.png" srcset="/assets/ideal-img/2.2209dd1.993.png 993w" width="993" height="606"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="모듈-생성">모듈 생성<a class="hash-link" href="#모듈-생성" title="제목으로 바로 가기">​</a></h2><p>왼쪽에서 Gradle를 클릭 후 반드시 <strong>Web</strong>으로 생성해야한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfklEQVQImW3MSw7CMAyEYZ+LpIkdx+TRgmCFEHD/YwxKKyREWXybkeanVDomSWCr4FzgWfdEQTZfIdaRawMnhQ8R7g86Xl7gdkNdzhBrcHFU8g8F5VoQJCGfHpD5iVDviG2PtC1gNRwmhgsCHzduCGPb0Mh+Dx/rQTui2hp6AxNnapK9xqIFAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="993" height="606"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/3.c9c634f.993.png" srcset="/assets/ideal-img/3.c9c634f.993.png 993w" width="993" height="606"></noscript></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><code>Java</code> 모듈로 선택 후 나중에 <code>프레임워크 지원 추가</code> 로 <code>웹 서비스</code> 를 추가하는 방법은 Gradle에서 Build 된 <code>.war</code> 이 정상적으로 동작하지 않는다. 해결 방법은 추가적인 R&amp;D가 필요해 보임.</p></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Empty Project에 모듈을 추가하는 거므로 저장 경로를 주의하기 바란다!</p></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbElEQVQImYWOWwpCMQxEu6/2NmkeTa5c3P9uRqp+WBH8OEwGzkAKWUDjhHiCdP4g0HWidHHkdUfeLshMsAeG5wZboDRWDHOwOkgMJPqR73soSiVB7fyXp9iI0Whs1L74FlfZpNfwYMN67WDBA9bpaWIaPTOmAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1166" height="774"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/4.ded441c.1166.png" srcset="/assets/ideal-img/4.ded441c.1166.png 1166w" width="1166" height="774"></noscript></div></div><p>설정의 속성의 다음과 같습니다.</p><table><thead><tr><th align="center">속성</th><th align="left">설명</th></tr></thead><tbody><tr><td align="center">GroupId</td><td align="left">Gradle를 고유하게 식별하는 값이다. 주로 도메인 주소를 거꾸로 적는 것으로 알고 있다.</td></tr><tr><td align="center">ArtifactId</td><td align="left">Build되는 아티펙트 이름이다. 주로 module의 이름이며 IntellJ에서 알아서 module와 같은 이름으로 지정해 준다. 나중에 Gradle Script으로 변경가능</td></tr><tr><td align="center">버전</td><td align="left">아티펙트 뒤에 <code>-</code> + <code>0.1</code>으로 조립되는 값이다. 나중에 Gradle Script으로 변경가능</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="하이어라키-구조">하이어라키 구조<a class="hash-link" href="#하이어라키-구조" title="제목으로 바로 가기">​</a></h2><p>생성된 하이어라키 창이다. 중요한 부분만 짚도록 하겠다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAQCAYAAAAvf+5AAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZElEQVQokVWQy27bMBRE9VuNZUuyJJLiMxT1CoLYbgt003X3ab3oZ59CjmPXi4MLDAYzuJM16UiX3mjcRKkHtjKyaQOtX9ibkdbNlF0iM87yMvVM00CfIsZ0qE7SdfJ+lSCzpzM/vv3i68+/mOMZ/faOOfzGHP9gV05nzOGdzDtF7wSHOTBNPWPyTENg6C0xaIKTeCvIjCrpdcFhUKSoeXYN0QuCrfG6wqgCIwuyXbknLa/4EMh3BZsbJXmxUl1utgqNMnRpphbqaqjYrOw+KclW8Snf0cQJHRNFVV9Tqlvi3bgtkNrQjyPGhf+M1d34lBdsy5paWZyUiM5cUld9sy0vrEFZ4wQiaOL3Gb94GitonXxg1TIRJCoa+hfPcprxc2TV7ihaLz+qlXvGxwGh9MeX18qH6i/5Du0jcZzR1lHWzW2ih2fKVtCFHuvX1ESr9MPQN+NeO1Ra0MahrENq+zD8p/EfQP4njjye7DAAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="294" height="482"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/5.9dedd7c.294.png" srcset="/assets/ideal-img/5.9dedd7c.294.png 294w" width="294" height="482"></noscript></div></div><table><thead><tr><th align="center">디렉토리</th><th align="left">내용</th></tr></thead><tbody><tr><td align="center">build.libs</td><td align="left">Gradle에서 Build 파일이 저장되는 위치</td></tr><tr><td align="center">main.java</td><td align="left">jsp의 servlet</td></tr><tr><td align="center">main.webapp</td><td align="left">jsp web이다 jsp 파일이 들어간다</td></tr><tr><td align="center">test.java</td><td align="left">unit test에 필요한 코드를</td></tr><tr><td align="center">build.gradle</td><td align="left"><strong>Gradle의 Build 및 Task와 라이브러리 종속성 추가를 위한 Script를 작성하는 곳</strong></td></tr><tr><td align="center">gradlew</td><td align="left">유닉스용 실행 스크립트</td></tr><tr><td align="center">gradlew.bat</td><td align="left"><strong>원도우용 실행 배치 스크립트</strong></td></tr><tr><td align="center">settings.gradle</td><td align="left">Gradle이 사용되는 rootProject를 지정하는 곳</td></tr></tbody></table><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p><code>gradlew</code> or <code>gradlew.bat</code> 가 있기 때문에 로컬 PC마다 Gradle이 install 되어있지 않아도 build.gradle가 실행 가능한 것이다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="실행-환경-구성">실행 환경 구성<a class="hash-link" href="#실행-환경-구성" title="제목으로 바로 가기">​</a></h2><p>빌드 자동화 툴인 Gradle을 사용하기 때문에 더 이상 IntellJ의 아티팩트를 Tomcat에 배치하지 않아도 된다.</p><p><strong>앞으로 Gradle에서 build <code>.war</code> 파일을 사용할 것이다.</strong></p><p>build된 파일의 경로를 알기 위해서 1회 buiild를 진행하도록 하겠다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="1회-build-실행">1회 build 실행<a class="hash-link" href="#1회-build-실행" title="제목으로 바로 가기">​</a></h3><p>Gradle의 build를 실행하니 <code>build\libs</code> 경로에 <code>.war</code> 파일이 생성되는 것을 확인할 수 있다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAq0lEQVQImSWMwXKDIAAF/R1kgFCjokFAsaM2jdNb//9LNiM57OXN7qtevz/8nS9iTPS9o+t6hmFkzjvLfjLlnbgeVPuxsa2Z9mYxQhS0EKzLznH+4/OTsD6p0nbg4ozShlrKgqhrfEz4OPOYAj5EqpS/8WHG3CxKa7Q2KKVwo/+I4RMUMaSlDMPoabuuRBdXJKXEfjVUU1q4CHMuL/fOYZsWY+8Y26CNoXeON61HZGdGWiWzAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/6.660d557.1680.png" srcset="/assets/ideal-img/6.660d557.1680.png 1680w" width="1680" height="1010"></noscript></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>옆에서 클릭된 Tasks들은 하나의 명령어 들이다 즉, CLI를 이용해 실행이 가능하다.<br>
<!-- -->IDE에서 클릭하면 IDE가 해주는거 같아 보이지만 백단에서는 모두 shell기반으로 실행되고 있다.</p><details class="details_rxUF alert alert--info details_PYSW" data-collapsed="true"><summary>CLI으로 실행 방법이 궁금하면?</summary><div><div class="collapsibleContent_oXwz"><blockquote>PowerShell으로는 실행되지 않았습니다.</blockquote><ol><li>해당 프로젝트의 <code>gradlew</code> 이 있는 위치로 이동한다.</li><li><code>gradlew [원하는 Tasks 입력]</code> 을 실행한다.</li><li>실행 결과 화면<!-- --> <div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwElEQVQImVXG206DQAAA0f0tDUmthVZhawttQK6hXJZLEIpiiYkx8cvHh+qDDyczolHfdMUXKprJvDPBocd1ejzn2j9it67ZGwprkfKoxRg3Iat/AvTbEKH8DxL7TH4YCM2ao1HgbRTeg8I3K9zfF8PzxOC/MwYzb+4rL05Pve+onlrUtkHJmlLWiPHYMdktn07DZVfRmCXztuQic2Z5YrJyRpkhrEVGcRcRLhM2WoytxVT3CekyotVjQr2gWqf8AFM6e9KoxQ4sAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1680" height="1010"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/7.42d2103.1680.png" srcset="/assets/ideal-img/7.42d2103.1680.png 1680w" width="1680" height="1010"></noscript></div></div></li></ol></div></div></details></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="일반-jsp-빌드-프로세스">일반 jsp 빌드 프로세스<a class="hash-link" href="#일반-jsp-빌드-프로세스" title="제목으로 바로 가기">​</a></h3><p>일반 적인 jsp 프로젝트에서 빌드를 하고 배포한다면 아래와 같은 프로세스로 진행된다.</p><ol><li><code>Tomcat 9.0.37</code> 의 실행/디버그 구성이 실행됨</li><li><code>실행 전</code> 에서 단계에서 아티팩트가 빌드됨<ul><li>IDE 자체 방식으로 <code>.war</code> 파일이 생성됨</li></ul></li><li><code>Deploy at the server startip</code> 의 파일이 Server으로 배포됨<ul><li>build된 <code>.war</code> 파일이 애플리케이션 컨텍스트 경로로 Tomcat에 배포됨</li></ul></li></ol><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVQYlX2QSQpCMRBEcyc3YpIe0hnAjwi68P4nKen4UaLg4lFQPKqhQ2obTjpwiAqyAe1nSB1gG8ilIZcOso6QtCJywTExdFxh2wM87hPqN5BnvSC4lEiQWBFJED29++ItTukPP6IvZ/EVXfiIrBBrUGuQ2kBqC4tI5VUua/uVkMTeZ7PLuzg7qfM9XAxPmGCLzQyVDMUAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1078" height="870"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/8.ecdf69f.1078.png" srcset="/assets/ideal-img/8.ecdf69f.1078.png 1078w" width="1078" height="870"></noscript></div></div><p>우리는 여기서 Gradle으로 build 하도록 하고 <code>.war</code> 의 경로만 바꾸면 된다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="gradle-빌드-프로세스">Gradle 빌드 프로세스<a class="hash-link" href="#gradle-빌드-프로세스" title="제목으로 바로 가기">​</a></h3><p>새로운 실행/디버그 구성을 만들도록 하겠다. 구성 편집을 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAaklEQVQImR3KWQ6CMBRAUbZlKp1L+0rQRFOcwgY0xrD/j0vw+5yut5Z7PPOSxrM0bumCmxo+C9Z5QhZiETobEtP85rqsnB4/avuS5w8mCqo37J72aFzAx4iMlTpWhjLgvENpg9KWw1H/8wZsfzeYjnl+nAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="462" height="139"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/9.bdf3238.462.png" srcset="/assets/ideal-img/9.bdf3238.462.png 462w" width="462" height="139"></noscript></div></div><p>왼쪽 상단의 + 버튼을 클릭하여 Tomcat 로컬을 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjUlEQVQImW2MQYoDMQwE/avA2GPJki3vLCSQS/L/l1SwWXLaQ1FNHypd9xfz8eYmg9MCnxfag2r9i3iQ/HpiP0+KdsQc64GNiY3lwGLtSSqilFopVTnVqOaIr8of1lEfpKxOlkaRRq76L0VsFduu7eKuL+TrfNb9p8Mmhw6ONsgWHC3ILSgWZL8o/XfvD9x2aZYD+dIiAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1078" height="684"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/10.8135d86.1078.png" srcset="/assets/ideal-img/10.8135d86.1078.png 1078w" width="1078" height="684"></noscript></div></div><p>배포탭을 클릭한뒤 하단의 + 클릭 후 Gradle 작업 실행을 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVQYlV2PXQ7CMAyDeyMkJthom6Rpuz8NxBv3v4lRM4YQD59aWXbiOK4rBinoSVHrBCkjWAtiyh8KKGW4IBmek0FJEeUgIXJCYEXgBOf5V0wIX+OOGUXbxN1opj9auG2yic1ooqh1Of4HLBlsHY/VTdQC0v2I1tcTY5o3LI/XfoytIrFkC9wiwZOCtGLe7li2J1zMI65R0A0B597b2/Uep4vHlQqkzNBxxRuGWYqYhYE0HAAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1229" height="1012"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/11.08c32b4.1229.png" srcset="/assets/ideal-img/11.08c32b4.1229.png 1229w" width="1229" height="1012"></noscript></div></div><p>현재 사용하는 모듈을 선택한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVQYlS2Py0oDQRRE56fM5NGv2337NRMiSkicja6CCK4Ev/9oRhe1KDhVRQ1jnAn1SGozXis7F1dtXOQgmZ1LGC8Md6OlkltHkhJyoSXlLRdUAg97g7GWwaZKKhUnCX9XUmLMLJcbz8s7x8uNNJ0ZzL2xNoyTFY65IGUinT/pyxd9+UaOrwwmZkQzBxfwUdE2rUEtSojCZn/4m3apkmvDieJF0KykUtDaiaUx2vh/JiiiBRcEO70g5w98e2I+PZL7zGhlXRtGF1czmsBWT+z7la10fG6YWNhawfyCP/XXj81FkVPOAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="350" height="282"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/12.ccb7d86.350.png" srcset="/assets/ideal-img/12.ccb7d86.350.png 350w" width="350" height="282"></noscript></div></div><p>우리는 Tasks중 build를 실행할 것이므로 작업에 build를 입력한 뒤 확인을 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVQYlUWQS3LCQAwFfatQNsxfmh/EQCoVilNkl+N3auxQWWjXryW96a08CPWd2FZSv2KkcXDC7JWDTcxOOMbCNPtMSILkSpSM9R73N1o7UirWByarHS2VqAWflJDPaF8J2tDbA+kr5gWGpMwny3xy+HbH1ytLKCyhsjhhMZZp7B/GYVuMI2gm1YaMtbWjrWNDehllsw1wBMYZI7CFcsH4uIOSCz4KR+u3UMo7EHP5N446oihBlKOLuLIS+h2vbYNzP+/g6Gk8spwMoyrz+Y1//jCXL/rlzOX2gUvKLy+Toj/D/W0cAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="281" height="258"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/13.c58771a.281.png" srcset="/assets/ideal-img/13.c58771a.281.png 281w" width="281" height="258"></noscript></div></div><p>이제 build된 <code>.war</code> 경로를 지정해 줘야 한다. 오른쪽의 + 클릭 후 외부 소스를 클릭한다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHCAYAAAAxrNxjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAe0lEQVQYlXWOSw7DIAxEOVUlAvgHpM2+97/KVCY/VCmLWYz9PJ5AfUPkhlcWaH9D2grShiKGLAaWiiIVIbEhkiIWQRFF5luJGKor6ueLsJAPZSiRa4Z370xI1+BZF+jGE9iObtP7vcKZ+AfesMD3R6JNiXXA52HWPrwzP+DbeX9sJBBFAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1182" height="901"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/14.685a835.1182.png" srcset="/assets/ideal-img/14.685a835.1182.png 1182w" width="1182" height="901"></noscript></div></div><p>이전에 build된 파일 경로를 선택한다.</p><blockquote><p><code>\build\libs\.war</code></p></blockquote><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>현재 스크린샷은 위에서 가이드한 ProjectName과 Module 이름이 다르게 되어있습니다.</p></div></div><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAALCAYAAABGbhwYAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKklEQVQYlSWQTW/bMBBE9asKlOanKFGkJIqWHAFO0B6CFAh6jGMf+utfQfkwl93ZnYdp1FAIY8aFhOurIroNCNMitONke6SPNF2aOW8X0pyJ08y0FMq6kaZMHCeGaaGNM410AWnsMcjnDes7fkqNNA7ddmjXoqyjEbZDSE1aVqayEcfn125InLQ9JJSlqQxCaea5sJeVkgt/Pv9yuz8OlPpdO1+NHUIbnPW8bjs5RNKQ2K9vhDgexrYLz+jKI5ThPC5c85mTNPwQ8pjVXVVj8gd+f+AuN+J+59fvf6zXG+v1m/zyhX+5Y8snjXA9snamHHHZGPOK0g5tWpRpkcYf+2e0Nvghkebl4HJdj7TuqKXGnrShMX1C29pVvXaoymQ9prxjpldCmvAh8h/cKsksHxbx9wAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="426" height="484"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/15.78aca5a.426.png" srcset="/assets/ideal-img/15.78aca5a.426.png 426w" width="426" height="484"></noscript></div></div><p>최종 반영된 프로세스이다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAArklEQVQYlW2MW27DMAwEfakWTiWRlBgpTt2H3SD3P8oUsl0UAfIxGC6x5KBtJuTGSzSszvj0hbUZre+IXxHvnhhO6oySeQ2K1k/ydEPqgtR1d1sR/2AIWohqJM2EpAR5zlYMYv/0g23u/sOOj0cpWUGyo+VMymVDuq30ou9fNGPnhnlFvZKyPzBEUWJKG6KKWSaJHLtIjJ3EMF5Wxvq90xZOPbdlz5cbb9c7YfrhF55ejFYoidF1AAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1078" height="885"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/16.09a3c46.1078.png" srcset="/assets/ideal-img/16.09a3c46.1078.png 1078w" width="1078" height="885"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="실행">실행<a class="hash-link" href="#실행" title="제목으로 바로 가기">​</a></h2><p>정상적으로 실행되는 것을 확인할 수 있다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAXElEQVQImX3FywqEIBiAUd//ddr0GG0bGKPIUSm7oRP+EV9Q+87mqHoKdOtCOA/8vuNSpHKW4lNTNppSf+/VJkL4J37LjBlHtDG01tJ5T+ue+2FASRZSjEjOvLkAxSBxU87c5ngAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="446" height="139"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/17.bdc8b04.446.png" srcset="/assets/ideal-img/17.bdc8b04.446.png 446w" width="446" height="139"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="web-inf-추가하기">WEB-INF 추가하기<a class="hash-link" href="#web-inf-추가하기" title="제목으로 바로 가기">​</a></h2><p>Gradle jsp Project는 <code>\WEB-INF\web.xml</code> 을 포함하고 있지 않기 때문에 알아서 만들어줘야 한다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="web-inf-생성">WEB-INF 생성<a class="hash-link" href="#web-inf-생성" title="제목으로 바로 가기">​</a></h3><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZ0lEQVQImSWJAQqCQBAA7/0+QtCS/tAPCs8X9IEENaPM29vdia6BgYEJ1fnGKd6prxP1ZaTpZw5xoekn2jhzHB50w0KgkFmfayk3Q1JCRXC3/wbCe8+8tp1PymQDUSepFX+t5myifAHstHAk5wtNVwAAAABJRU5ErkJggg==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="939" height="281"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/18.b7d35c9.939.png" srcset="/assets/ideal-img/18.b7d35c9.939.png 939w" width="939" height="281"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="webxml-생성">web.xml 생성<a class="hash-link" href="#webxml-생성" title="제목으로 바로 가기">​</a></h3><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAYklEQVQImVXGQQrCMBRF0ay/a3Bgiu0mXECh0e6g40IxxEEatPn5Vxpx4IXHO6a5zvRu4TSsnMcH9uZp7wHrfPVletJNAUMtE+P2pSpFBC1S/cukdyamF8fnArvo36QoaRc+73dwO5VGfEwAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="939" height="281"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/19.acc5f55.939.png" srcset="/assets/ideal-img/19.acc5f55.939.png 939w" width="939" height="281"></noscript></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="webxml-기본-스키마-작성">web.xml 기본 스키마 작성<a class="hash-link" href="#webxml-기본-스키마-작성" title="제목으로 바로 가기">​</a></h3><div class="language-xml codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_SpHG">web.xml</div><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-xml codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">web-app</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">http://xmlns.jcp.org/xml/ns/javaee</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">         </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">xsi</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">http://www.w3.org/2001/XMLSchema-instance</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">         </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xsi:</span><span class="token tag attr-name" style="color:#00a4db">schemaLocation</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">         </span><span class="token tag attr-name" style="color:#00a4db">version</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">4.0</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">web-app</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="gradle-dependencies-추가">Gradle dependencies 추가<a class="hash-link" href="#gradle-dependencies-추가" title="제목으로 바로 가기">​</a></h2><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlUlEQVQImUWLSQ7CIAAAeY4sWlFbkdauBEQbl7v//8aYVBMPk7nMiNc9c82BFMfFY5jwvsZaS7H9Ix5z5D4nUhxIsed0cmyKAmM0UkrUD9HHTEhXmm6gbgcq57F2i9EKrRXGmGUSzZQ4T4m97yibgV15pB0zl+ebg6uXeL1ZI6Y804dE1XS49hs639KHG3ZXIuUKpTQfhoxTgshjegsAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="965" height="503"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/20.2833aaa.965.png" srcset="/assets/ideal-img/20.2833aaa.965.png 965w" width="965" height="503"></noscript></div></div><p>Gradle을 사용하기 때문에 일일이 프로젝트에 라이브러리를 연결하지 않아도 빌드툴이 알아서 라이브러리 종속성을 추가할 수 있다.</p><p>기본적으로 jsp build를 위해 필요한 library들이 있다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="javaxservletjavaxservlet-api401">javax.servlet:javax.servlet-api:4.0.1<a class="hash-link" href="#javaxservletjavaxservlet-api401" title="제목으로 바로 가기">​</a></h3><p>javax.servlet으로 컴파일 해서 war 파일을 생성한다는 의미입니다.</p><p>해당 라이브러리가 없으면 컴파일에 실패합니다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>javax.servlet 으로 컴파일 해서 war 파일을 생성한다는 의미 입니다.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="javaxjavaee-api801">javax:javaee-api:8.0.1<a class="hash-link" href="#javaxjavaee-api801" title="제목으로 바로 가기">​</a></h3><p>Java EE이다. 가장 많이 사용되는 부분은 jsp에서 <code>out</code> 함수 사용시 이용된다.</p><p>혹은 <code>compile group: 'javax', name: 'javaee-api', version:'7.0'</code> 도 가능하다.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Java EE 추가 이유</h5></div><div class="admonition-content"><div class="language-java codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-java codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token class-name">PrintWriter</span><span class="token plain"> out </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">getWriter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>response.getWriter()</code> 는 javax에 포함되는 함수입니다.</p><p>Java EE를 라이브러리로 추가하지 않고 사용시 IDE상에서는 오류를 뱉지만 Tomcat내부에는 해당 함수가 있기 때문에 실제 동작에서는 문제가 없습니다.</p><p>하지만, IDE에서 제공하는 자동완성과 오류체크를 위해서는 해당 라이브러리를 IDE에 추가하는 방법이 옳습니다.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="최종-gradle-dependencies-script">최종 Gradle dependencies script<a class="hash-link" href="#최종-gradle-dependencies-script" title="제목으로 바로 가기">​</a></h3><div class="language-gradle codeBlockContainer_nXGu theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_JJ8q"><pre tabindex="0" class="prism-code language-gradle codeBlock_lX7H thin-scrollbar"><code class="codeBlockLines_pw4m"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testCompile group: 'junit', name: 'junit', version: '4.11'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // servlet api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile 'javax.servlet:javax.servlet-api:4.0.1'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // java EE (jsp에서 out함수때 사용됨)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    compile 'javax:javaee-api:8.0.1'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_rq_W"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_gVBA" aria-hidden="true"><svg class="copyButtonIcon_Yh5B" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vsWg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="이외-주의할-것">이외 주의할 것<a class="hash-link" href="#이외-주의할-것" title="제목으로 바로 가기">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="ide가-기본적으로-스캐폴드로-잡아주는-스트럭처를-유지하고-싶다면">IDE가 기본적으로 스캐폴드로 잡아주는 스트럭처를 유지하고 싶다면<a class="hash-link" href="#ide가-기본적으로-스캐폴드로-잡아주는-스트럭처를-유지하고-싶다면" title="제목으로 바로 가기">​</a></h3><p>git에서 Empty Folder는 형상관리 되지 않습니다.</p><p>IDE가 기본적으로 스캐폴드로 잡아주는 스트럭처를 유지하고 싶다면 java 및 test 모듈, resource에 <code>*.txt</code> 와 같은 파일을 한 개 라도 포함하여 유지하도록 한다.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>사실 굳이 추천하지 않는 이상한 가이드 입니다.<br>
<!-- -->IDE가 기본적으로 잡아주는 스트럭처를 다 이해하지 못해서 어떻게든 기본 구조를 가져고 싶은 경우에 눈물을 흘리며 해당 전략을 사용하도록 한다.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="gradle-module-인식-못하는-경우">Gradle Module 인식 못하는 경우<a class="hash-link" href="#gradle-module-인식-못하는-경우" title="제목으로 바로 가기">​</a></h3><p><code>build.gradle</code> 파일에서 Gradle 프로젝트 가져오기를 클릭하면 됩니다.</p><div class="imgContainer_g3cu spacer_xInT"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAQCAYAAAAvf+5AAAAACXBIWXMAAAsTAAALEwEAmpwYAAABSklEQVQokW2P2W7UQBRE/VeIwXbvi+1u7wlBIREviLcIif/XQd1kgmDyULqLjurWbfZj5TxXlnkkpUiaAjlFpte6LhPbmmjuVse3p5PPR2DPiiMr9qRqv2fFlmRVc5GSeZnJQ6ATPZ2WaGeQRtFriahSNEL3zNvIw/1OCAbtB+yQuQjDh1bysdcI42m22fH8fPL4sLImw5QmwphQxtL2EmksPgQaP82MeaWTiksnUNYzpBllHa1QdFLXXfOplxUotegKWh/plamw0JamNFcVUBpXT/9x9dgwYEP8C14d/ZCIU8b4+OZWT7/nGKeEtv4tY8l/A7o4smxHdSyzduH9jAW45muFrrv/wNevXSAMA9paeinphEAq/e8zpcbjO/nxF9OXn8T7F8zxgtl+3ILb3Vfm8wk3nQi30NmifJtRW0ccRqz3tH1fzxf9Bu2NIQLzj9maAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="447" height="730"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/21.eb8ad37.447.png" srcset="/assets/ideal-img/21.eb8ad37.447.png 447w" width="447" height="730"></noscript></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="마무리">마무리<a class="hash-link" href="#마무리" title="제목으로 바로 가기">​</a></h2><p>글의 내용이 JSP Project에 Gradle을 도입하는 것을 중점으로 작성되었다.</p><p><code>CI/CD</code> 는 특정 이벤트 발생 시 추가적으로 작업해주는 Agent 머신이라고 생각해도 된다. 머신이기 때문에 GUI와 같이 사람으로 하는 작업을 명령할 줄 알아야 하는데 JSP Project에서 이 방법을 몰라서 고생 고생하여 <code>Gradle</code> 을 사용하는 방법으로 진행되었다.</p><p>이제 원하는 <code>CI/CD</code> Service를 이용해서 JSP Project를 Build 하고 추가 적업을 진행할 수 있을 것이다.</p><p>읽어주셔서 감사합니다 :)</p><h2 class="anchor anchorWithHideOnScrollNavbar_GLuy" id="reference">Reference<a class="hash-link" href="#reference" title="제목으로 바로 가기">​</a></h2><ol><li><a href="https://medium.com/@jyson88/gradle-web-application-%EB%A7%8C%EB%93%A4%EA%B8%B0-677ea073599a" target="_blank" rel="noopener noreferrer">Eclipse에서 디렉터리 구조와 사용되는 라이브러리 및 JSP를 이용하여 빌드자동화 도구인 그레이드 사용법이 잘 나와있음</a></li><li><a href="https://fabxoe.tistory.com/15" target="_blank" rel="noopener noreferrer">톰캣 9.0 버전 이상 servlet-api 오류 해결 방법</a></li><li><a href="https://hyeonguj.github.io/2019/02/14/spring-boot-2-x-jsp-gradle-%EB%82%B4%EC%9E%A5%ED%86%B0%EC%BC%93-%EC%85%8B%ED%8C%85%ED%95%98%EA%B8%B0/" target="_blank" rel="noopener noreferrer">Spring boot를 통해서 JSP를 연결해야하는 이유</a></li><li>Spring Boot와 jsp 연동법<ol><li><a href="https://mia-dahae.tistory.com/131" target="_blank" rel="noopener noreferrer">해당 링크로 성공함</a></li><li><a href="https://galid1.tistory.com/434" target="_blank" rel="noopener noreferrer">application properties(application.yaml) 설정법만 확인</a></li></ol></li><li><a href="https://blog.naver.com/PostView.nhn?blogId=sharplee7&amp;logNo=221416943652" target="_blank" rel="noopener noreferrer">library 종속성 추가: jetty 서버를 이용한 방법</a></li><li><a href="https://olive-devlog.tistory.com/3" target="_blank" rel="noopener noreferrer">Docker tomcat 8.5 컨테이너에 웹 어플리케이션(war) 배포하기</a></li></ol>]]></content:encoded>
            <category>JSP</category>
            <category>CI/CD</category>
            <category>IntellJ IDEA</category>
            <category>Gradle</category>
            <category>DevOps</category>
        </item>
    </channel>
</rss>