{"componentChunkName":"component---src-templates-blog-post-js","path":"/devops/workflows-with-aks-github-slack-3/","result":{"data":{"site":{"siteMetadata":{"title":"Parkgang Dev Log","author":"parkgang","siteUrl":"https://parkgang.github.io","comment":{"disqusShortName":"","utterances":"parkgang/parkgang.github.io"},"sponsor":{"buyMeACoffeeId":"parkgang"}}},"markdownRemark":{"id":"be6ca41d-a98f-5f1f-947e-701543484378","excerpt":"Index   1편 소개 2편 blueprint  인프라 생성 4편 github 설정 5편 slack 설정 6편 github action 7편 회고 Overview 이전 챕터에서 말한 blueprint에 맞게 인프라를 생성하도록 하겠습니다. Azure의 AKS(Azure Kubernetes Service) 를 중점으로 사용할 것인데 클라우드 환경을 사용하므로 우선 가격에 주의해야겠죠? 저는 회사에서  구독으로 Azure에 월간 $150 (약 ₩168,69…","html":"<h1 id=\"index\" style=\"position:relative;\"><a href=\"#index\" aria-label=\"index permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Index</h1>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1편</td>\n<td><a href=\"/devops/workflows-with-aks-github-slack-1\">소개</a></td>\n</tr>\n<tr>\n<td>2편</td>\n<td><a href=\"/devops/workflows-with-aks-github-slack-2\">blueprint</a></td>\n</tr>\n<tr>\n<td><code class=\"language-text\">3편</code></td>\n<td><a href=\"/devops/workflows-with-aks-github-slack-3\">인프라 생성</a></td>\n</tr>\n<tr>\n<td>4편</td>\n<td><a href=\"/devops/workflows-with-aks-github-slack-4\">github 설정</a></td>\n</tr>\n<tr>\n<td>5편</td>\n<td><a href=\"/devops/workflows-with-aks-github-slack-5\">slack 설정</a></td>\n</tr>\n<tr>\n<td>6편</td>\n<td><a href=\"/devops/workflows-with-aks-github-slack-6\">github action</a></td>\n</tr>\n<tr>\n<td>7편</td>\n<td><a href=\"/devops/workflows-with-aks-github-slack-7\">회고</a></td>\n</tr>\n</tbody>\n</table>\n<h1 id=\"overview\" style=\"position:relative;\"><a href=\"#overview\" aria-label=\"overview permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Overview</h1>\n<p>이전 챕터에서 말한 blueprint에 맞게 인프라를 생성하도록 하겠습니다.</p>\n<p>Azure의 AKS(Azure Kubernetes Service) 를 중점으로 사용할 것인데 클라우드 환경을 사용하므로 우선 가격에 주의해야겠죠?</p>\n<p>저는 회사에서 <code class=\"language-text\">Visual Studio Enterprise</code> 구독으로 Azure에 월간 $150 (약 ₩168,698) 개별 크레딧이 제공됩니다. 해당 금액을 최대한 활용하여 인프라를 생성하려고 합니다.</p>\n<h1 id=\"필요한-것들이-뭐가-있지-비용-계산\" style=\"position:relative;\"><a href=\"#%ED%95%84%EC%9A%94%ED%95%9C-%EA%B2%83%EB%93%A4%EC%9D%B4-%EB%AD%90%EA%B0%80-%EC%9E%88%EC%A7%80-%EB%B9%84%EC%9A%A9-%EA%B3%84%EC%82%B0\" aria-label=\"필요한 것들이 뭐가 있지 비용 계산 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>필요한 것들이 뭐가 있지? (비용 계산)</h1>\n<p>서비스를 운영하기 위해서 필요한 것들을 나열하면서 가격을 어림잡아 계산해 보았습니다.</p>\n<blockquote>\n<p>필요한 리소스를 추려서 월 단위로 <a href=\"https://azure.microsoft.com/ko-kr/pricing/calculator/\">Azure 가격 계산기</a> 를 사용하여 계산하였습니다.</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th>리소스</th>\n<th>타입</th>\n<th>용도 및 비고</th>\n<th>가격</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>AKS</td>\n<td>k8s</td>\n<td>1. 안정적인 롤링 업데이트 등 k8s 운영을 위해 Node를 3개로 잡고 컴퓨팅 파워를 줄이는 방향으로 설정되었습니다. <br/> 2. B2s: vCPU 2개, 4GB RAM, 8GB 임시 스토리지, ₩61.695(대략) / 시간 <br/> 3. Node 3개 사용 기준 ₩135,112.93 <br/></td>\n<td>₩135,000</td>\n</tr>\n<tr>\n<td>Azure Diks</td>\n<td>정적 저장소</td>\n<td>1. mysql replication 을 위해 사용 됨 <br/> 2. 표준 SSD LRS <br/> 3. E3: 16 GiB, 500 프로비저닝된 IOPS, 60 프로비저닝된 MB/초, ₩1,349.580/월 <br/></td>\n<td>₩1,500</td>\n</tr>\n<tr>\n<td>Azure Storage</td>\n<td>정적 저장소</td>\n<td>1. 공식문서의 spec에 맞게 100gb 이라면 약 ₩7,495.23 <br/> 2. 가격이 저렴해서 일단은 10gb으로 시작하고 올리는 것을 전략으로 설정 <br/> 3. 10gb를 사용하면 월 약 ₩814 소요됨 <br/></td>\n<td>₩1,000</td>\n</tr>\n<tr>\n<td>App Insight</td>\n<td>모니터링</td>\n<td>따로 가격이 없는 듯</td>\n<td>₩0</td>\n</tr>\n<tr>\n<td>Dashboard</td>\n<td>모니터링</td>\n<td>따로 가격이 없는 듯</td>\n<td>₩0</td>\n</tr>\n</tbody>\n</table>\n<p>이외 AKS를 생성하면서 부가적으로 따라오는 DNS, IP, Load Balancer 등이 있을 것이며 실제로 운영하면서 리소스양과 옵션이 더 늘나고 줄어들 수 있을 것 입니다.</p>\n<p>대략적으로 도합 ₩140,000 정도 산출되었는데 사실 크래딧에 비해서 많이 여유가 없는 편입니다. 예상하지 못한 곳에서 비용이 많이 청구될 수도 있고 예상하지 못한 리소스를 추가할 수도 있기 때문입니다.</p>\n<p>하지만 사이드 프로젝트 성격이 강하여 만약에 금액이 부족한 상황이 온다면 엔지니어가 잠자는 시간과 같은 IDLE 상태에 서버를 down 시켜놓을려고 합니다.</p>\n<blockquote>\n<p>일단은 한번이라도 운영을 해보면서 경험을 쌓아야할 꺼 같아요!</p>\n</blockquote>\n<h1 id=\"aks를-만들어보자\" style=\"position:relative;\"><a href=\"#aks%EB%A5%BC-%EB%A7%8C%EB%93%A4%EC%96%B4%EB%B3%B4%EC%9E%90\" aria-label=\"aks를 만들어보자 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AKS를 만들어보자</h1>\n<blockquote>\n<p>Azure에 관련된 설명 및 AKS를 생성하는 방법은 공식문서가 훨씬 디테일 하게 잘 나와있습니다. 해당 글은 제가 실제로 만들어 봤던 경험에 빗대어 쉽게 설명하는 것이니 참고해주세요.</p>\n</blockquote>\n<h2 id=\"azure-resource-group-생성\" style=\"position:relative;\"><a href=\"#azure-resource-group-%EC%83%9D%EC%84%B1\" aria-label=\"azure resource group 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>azure resource group 생성</h2>\n<p>azure에서 resource 생성하기 위해서는 논리적인 구분 단위인 resource group이 필요하므로 만들어주도록 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9klEQVQoz52Sy27aUBCGvaXgCwYMprHxBWNw7BrbwTgQaDes20qV+hDpKhLvkbNqE6lBqtRF3zCR0ZnOsU0EUdtFF5/+OaOZ/8y5cOE0+JwsLu+zxfo2jmZkOBqTgWGTvmYR3RgSw3SIYY+IYaGaQ2LbLjEtlzijCRk6k0L9ILqN4tn9xSz7xCWL+a90vYKJH4DneuC4YxijJtkVpJdLSOcZzJcYZ6jpHK6WK1gs3kIYRjCNEginMfhBCN55ABPP/8GNPf+7aZjQbrcfGzyfi6KYy7Kcq71e3u12SxTlOVaKWClqWghTgecfG40G8HzjK+dPw93AMEDT9NyybOq6IzAtC3RdL1DVPuAm0Gw2C5Uk6Rk0Y9BWq5UjrOaOC+I3O03ToIcTdTodihMAKpu40hYIgoC784UBM2awWFVVVkexjvWWhudRsmPN7Ki4Kz2egjXWajXYbDaw3W6LTQ55RlVHkbyKccKL0pAlsYgeig+wu0mSGD5+eH9ieGTMevIqd8f5cfxXw/KemqAofVC6enEFxxMeDKve0jBMTyesjlDA1qLI0/7Ao6a3orLcxrxIX9adGHqB91AZPmFyf4IkFSoK/F7gX+2lav0HnirDb9zIcX6yJz/+Di8pjyb/s6bigTs7e/0Ov8VNvV6/xgf48p+w3htk/RtF5hboKG/FMQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"1\"\n        title=\"1\"\n        src=\"/static/e6437323f77028d57616312ca2358e3c/c1b63/1.png\"\n        srcset=\"/static/e6437323f77028d57616312ca2358e3c/5a46d/1.png 300w,\n/static/e6437323f77028d57616312ca2358e3c/0a47e/1.png 600w,\n/static/e6437323f77028d57616312ca2358e3c/c1b63/1.png 1200w,\n/static/e6437323f77028d57616312ca2358e3c/d61c2/1.png 1800w,\n/static/e6437323f77028d57616312ca2358e3c/97a96/1.png 2400w,\n/static/e6437323f77028d57616312ca2358e3c/1fec9/1.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>resource group 이름을 입력하시고 영역을 선택하도록 합니다. 저는 한국 중부로 선택하였습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAB6UlEQVQoz52SSW/TQBTHfYbE+x4Z71ts4yWp7SwlPeVAhLikQqrgwoFLe+onqU9dJGoJiQPfsMjIj7FTqFBZFA4//d/MvPefp3mDxUn0ZjKf3cwWq4ssyyvTditNsypFs6tnSDXdrjTTqTQDqW5VpulWuuFWtuNXlu33GkbpRZod3EwPyi02mRdf8tUheGEEvjsGx/XA9wIolkdQzBaQFyUUiyXkZQllXsBycQjz+QriOIUknUCcZBCEz2E8DsH3g0+YF4QfDcMG3TDvKIpscBxvaJpuBJ7v4XnuZywI3XoXdzkMQ/c6HA7vBoMBIC6xKElq3TDAcZxGUZRWkiUQRbFHkiRgOQ4IgngESZI/aCmK6owB6TUWZXFtmhaMRqNGluXWQrGhG2BZFti2A6I06gtR8p/oDbsY5V1jQZLVqqoCy7JNd5ssyMAzPHA0BxxSlmb/aYjOHwyj6bQWBQF2m3QrCRIy4oAmaaAppoekkCH5e8OuiV8MwyyrGRYVEf1mS5D370Pd8/fuHncY55Oa43i06N+h/U8eDP3QvyUJNPKnT77i+PDbDnxfUC0OiCvM97zP3nQNpp+CquqgqAaauNxNfW/QN7vFgiA4On774fzk3fvT7fb4bPPq9dlm8xKx2YdTxPl6vX7xHQhAJabWRq3gAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2\"\n        title=\"2\"\n        src=\"/static/7af7290a37e6b0ef1abf09aa6c7c4cb5/c1b63/2.png\"\n        srcset=\"/static/7af7290a37e6b0ef1abf09aa6c7c4cb5/5a46d/2.png 300w,\n/static/7af7290a37e6b0ef1abf09aa6c7c4cb5/0a47e/2.png 600w,\n/static/7af7290a37e6b0ef1abf09aa6c7c4cb5/c1b63/2.png 1200w,\n/static/7af7290a37e6b0ef1abf09aa6c7c4cb5/d61c2/2.png 1800w,\n/static/7af7290a37e6b0ef1abf09aa6c7c4cb5/97a96/2.png 2400w,\n/static/7af7290a37e6b0ef1abf09aa6c7c4cb5/1fec9/2.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"aks-생성\" style=\"position:relative;\"><a href=\"#aks-%EC%83%9D%EC%84%B1\" aria-label=\"aks 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>aks 생성</h2>\n<p>위에서 생성한 resource group에서 상단에 있는 추가 버튼을 통하여 <code class=\"language-text\">Markeplace</code> 을 클릭하도록 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACiklEQVQoz2WSy27TQBSGzaJR06SK7+Nr7Di+5ubYTpomQi2b8gRIPAReNS9SryAtNBISC96w1Vg+nDG0ErD4dTxzZr75/xlz6XL+sdht7y93V3dpWlR+GFeu61e65aKcyrLdynJGvyuOHXdcjcZRFYRJ5QdJW2fz7C7L1/er9fYDV+w2Py+ur2AyX8AkmkIQRhCFCRSXb6FYbyAvVpBvWC2gyDPYbraw211DmmawzApIlzlMZ7h3MoMkmX7n4sn0m+uOQZKVp16vRzXDoK7rUo2olKgoQqiuoXQNpVNN07BHqCiKVJZlKkkSHQwGT+fn59Dv9z9z8yw7jsdjsO0hW9BE0xksFgsIghAWSQKR54GqW6ASDRCCkoAQHcc6IAzYHkVRqKJiX5IP3HKdH4MohtFoRD3PazzPB3QCYRhCgTFtZwxekMBwOARVVRFG2qqg2AGCIDSiIDDHwAvCgZtmxVGSREDbzHqDkdg3YGx0mgLRdBg6DpimCaZhgIQbT05OgMc1DI5q8ACKLhn8wM1Xq6OMA57nKaohhskagG4xdgB4r6zXznW73db1fr9nUduD0VmDPcr6uO7AzfL8yJoMyBwa6ISd9gLEi26jsfvqdDpwc/MeHh6+vgJZZLb3FZheFH8BLcdqMF7D7hOBDQKZg0ZAJ6qiNLLIt1VV8Rsf5D/gZD55lGSJDZ4RWBumVeO91L7v11EU1Qis0WHN84NaIWY9jDe14YQ1MewaIS96/gP8woVB8IMQtY3EIpi22cZBIMRx3N6hIOAL8hhPwte1YxBkArzYpvpXj5xlme+QfouwT+im5GW5REiJv05pWVZ5enpasnmm3lm3POu8KftY+72z13kU23uLuvoFIewfPThetvsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"3\"\n        title=\"3\"\n        src=\"/static/9a6b20271878826c430f944f56dcc7fe/c1b63/3.png\"\n        srcset=\"/static/9a6b20271878826c430f944f56dcc7fe/5a46d/3.png 300w,\n/static/9a6b20271878826c430f944f56dcc7fe/0a47e/3.png 600w,\n/static/9a6b20271878826c430f944f56dcc7fe/c1b63/3.png 1200w,\n/static/9a6b20271878826c430f944f56dcc7fe/d61c2/3.png 1800w,\n/static/9a6b20271878826c430f944f56dcc7fe/97a96/3.png 2400w,\n/static/9a6b20271878826c430f944f56dcc7fe/1fec9/3.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>우리는 AKS를 만들 것이기 때문에 <code class=\"language-text\">Kubernetes Service</code> 를 클릭하도록 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACMklEQVQoz42S2WrbQBSGdV9rGUn22Fq8RJKtxdqjJHbitNko1E5KqU2hgbxAfJUnia7aBBpDoRd9w4QxOh251FCapRcfZ2D++TjnMEwY+Z/S4eB2e7B3HYVpvmFYua63c6w0c9zQ8oaq54rWypWyKlrebHbyjtHLra6Tm5azqn0/vo6T7DbbGkyZdLj9M9sfge35YHcdMLs96NEabw0hSjOI4gTiLIM4SSCJI9jZ2oHh7msIw5jepRBGCXj9ABy3D7btfmdst//NsmxotY17JAhERAKRZZkojTpRlQZRKPV6SZ2CCcY1gms1IooikSRxVVmWva9UKsBx3BfGC4OF4zrQtUxSU5sF1togy1XgBQRVGQHGGJCEQUAi8BwHPM+vEAThDwVCqGwCDg4Obhg/9hftdhsEniNGLyh6wS6gmg6iVF0/QiWoBD1GQTO0WwlOTk5uGDdKFqZpAsuxJLS9wg92gBPxo49X8meEx8fHN0w/TRaGaQFiXxEcjAo9OaIhCZAo/iP4P2EcL1p0ZK5SIZ1wszCTPTq++Fvw+IjPC4OMdmgYwNIOw2C/iDbfFrimFrIoFVRYLvxF/hLann1nmAYgXnjIRsNlOjpaclx1KfD8kn4HeuZehOYeynUcHh5+ZXrd7g/Pc2GjY0KYtcDfdEDVTdB0HTRNW6OqKiiK8iRlZjKZ3DGu676ZTqdX5+efL0/HH+en797PZ9MPlOl8NputOTs7m4/H46e4pLKri4uL/V9PBi40ahyZBAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4\"\n        title=\"4\"\n        src=\"/static/02770eb58e5801fb3c03c3813162455d/c1b63/4.png\"\n        srcset=\"/static/02770eb58e5801fb3c03c3813162455d/5a46d/4.png 300w,\n/static/02770eb58e5801fb3c03c3813162455d/0a47e/4.png 600w,\n/static/02770eb58e5801fb3c03c3813162455d/c1b63/4.png 1200w,\n/static/02770eb58e5801fb3c03c3813162455d/d61c2/4.png 1800w,\n/static/02770eb58e5801fb3c03c3813162455d/97a96/4.png 2400w,\n/static/02770eb58e5801fb3c03c3813162455d/1fec9/4.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<blockquote>\n<p>만약 시작 사이드 메뉴에서 나오지 않는다면 검색 혹은 컨테이너와 같은 다른 매뉴에 찾아보새요</p>\n</blockquote>\n<h2 id=\"aks-설정\" style=\"position:relative;\"><a href=\"#aks-%EC%84%A4%EC%A0%95\" aria-label=\"aks 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>aks 설정</h2>\n<p>첫번째 step은 기본 사항 입니다. 아래의 설명에 맞게 입력하도록 합니다.</p>\n<ol>\n<li>\n<p>Kubernetes 클러스터 이름</p>\n<ol>\n<li>aks 리소스 이름이 됩니다.</li>\n</ol>\n</li>\n<li>\n<p>지역</p>\n<ol>\n<li>저는 아까운 <code class=\"language-text\">한국 중부</code> 로 선택하였습니다.</li>\n</ol>\n</li>\n<li>\n<p>Kubernetes 버전</p>\n<ol>\n<li>k8s cluster 버전 입니다.</li>\n</ol>\n</li>\n<li>\n<p>노드 크기</p>\n<ol>\n<li>k8s cluster의 Node 컴퓨터 사양을 말합니다.</li>\n<li>저는 위에서 말한대로 금액을 맞추기 위해서 <code class=\"language-text\">B2s</code> 으로 설정하였습니다.</li>\n</ol>\n</li>\n<li>\n<p>노드 개수</p>\n<ol>\n<li>위의 노드 크기에서 설정한 Node의 개수입니다.</li>\n<li>저는 위에서 말한대로 금액을 맞추기 위해서 <code class=\"language-text\">3</code> 개로 설정하였습니다.</li>\n</ol>\n</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACOUlEQVQoz5WSz2+aYByHuW1LFOS3ICAgKBRQlCFqbWembk09eJG2yXrZZZd66l9STlubrCZLdth/2AbDdy80Zl22dRvJk8/7Et7n/QAv1vG902A0vJm8fnM1HB4kttNODMNKZM1MFNVIVJRqo5moOkrNSBqNVqLprcRs2olh2kW6nn/V7YU3YThcYcEo+hYejqEbRhB0Q/A6PrQ9H6LxBKLhPvSjAUT7Y+gPBjDoRzDeP4DR6BV0Ol3wuwF0/B64bhv29lywbecLZjve50ajCWj3O1U3Uoqi0kqFSHmORXAph+B38D/m+XM0TRWJ4+W7UqkEOI5/xDzf35imCZqmpoosZ7IsQ60mIWogCAKQJAkEQfxCpVLZkSFShmHg6OjoGmv32htRFIFl2ZRluUxR9UImSQ9SnuML6RMUQpqmH4SOH2x0XYdqtZrXz+SaAizNAk3SwFAMMGicL8zb/E04nU6vMe9lsEHfJX//lCQp1NAEEUl5ngeOZYFl/l04m82QsNcrGtZqYioIYibXNRBEqaBaFYDj+f8TdvrBpmVZ0Gw2U9tqZc6ek2makTWMFko9q8tSRqFF5BP8JLRd+5YkSvDi+bN7vFzeSlV+SxHEliyXtiSOb2kC31ZQlhH4n7nP287n80+YbVlf7fAt6FYX6ooEqt6COvrTiiIjlIL8KD1mdwIek99zXfcWcxxnEp9/uDw7f38Rx6v1ydm79So+Xa9Wq98Sx/F6uVyuj4+P14vFYscF4vIQXd8BGoQvZDyu20gAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"5 0\"\n        title=\"5 0\"\n        src=\"/static/69ae4eee0b92df27c9c6ce27faaaaf07/c1b63/5-0.png\"\n        srcset=\"/static/69ae4eee0b92df27c9c6ce27faaaaf07/5a46d/5-0.png 300w,\n/static/69ae4eee0b92df27c9c6ce27faaaaf07/0a47e/5-0.png 600w,\n/static/69ae4eee0b92df27c9c6ce27faaaaf07/c1b63/5-0.png 1200w,\n/static/69ae4eee0b92df27c9c6ce27faaaaf07/d61c2/5-0.png 1800w,\n/static/69ae4eee0b92df27c9c6ce27faaaaf07/97a96/5-0.png 2400w,\n/static/69ae4eee0b92df27c9c6ce27faaaaf07/1fec9/5-0.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>두번째 step은 노드 풀 입니다. Azure에서 k8s의 Node는 하나의 VM으로 취급되는 것으로 확인됩니다.</p>\n<p>노드 풀에서 <code class=\"language-text\">가상 머신 확장 집합 사용</code> 을 체크하면 여러개의 Node를 <code class=\"language-text\">가상 머신 확장 집합</code> 으로 묶어서 관리합니다.\n<code class=\"language-text\">가상 머신 확장 집합</code> 으로 묶어서 관리하면 Node(VM) 이 집합 단위로 묶이기 때문에 리소스 관리포인트가 줄고 집합으로 묶인 VM을 스케일 업/다운 및 Down/Up 도 편리합니다.</p>\n<p>저는 추후 비용 절감을 위해 비개발시 k8s cluster의 모든 Node를 Down하여 비용절감을 원하기 때문에 <code class=\"language-text\">가상 머신 확장 집합 사용</code> 을 체크하도록 하곘습니다. (체크가 기본 값)</p>\n<p>참고로 아래 사진에 있는 <code class=\"language-text\">agentpool</code> 노드 풀은 이전 step인 기본 사항(위 사진) 에서 선택한 주 노드 풀 입니다.</p>\n<p>추후, 저성능의 Node와 고성능의 Node를 따로 집합으로 관리하여 k8s에서 Pod의 성격에 맞게 Node을 배포하면 다이나믹하게 컴퓨터 성능을 사용할 수 있어 재밌는 그림이 나올 꺼 같습니다.</p>\n<blockquote>\n<details>\n<summary>► 가상 머신 확장 집합 구경하기</summary>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 168.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFl0lEQVRIx41WyXLbRhDlIQfLWgACIPZ9BwkSJEVZsqWSY8WOEqv0CUz5YMonV/nk5T9ztFP5iwQxOZ3uAUFTsuOKqroADDRvXvd73WDH69p7w9B9EQ6Km8PDk5ePHp4tHp79uCiH44XvB4swiBZhGPGr74cY0SIIk4XjBgvLdheqZr7koRo3luW6ndhPhscPj+HkyQUgEAxGYxhkfQiCBAzbB91yQTNd0DFMJwDT9kA3LAijFMrRFE5Pz+H07DGcnf8ESZL/1nFtr3p09eyvx78+Wx2fnX1+en29vDo9XV4+/WV5/ux6eXpxuTx9crl89OTnZXV8vhxOZsvZ7Gh59OBkWZTjZZYVyywv/inLCmzHnXccx6jSOK5NN4U4LVg5OmTDwxM2mR2zLI1Z4HvMdSzm2hZTFZkpssxUVWWS1GWCcMB27t1jOzs7KwzY29udd8rJtComs9qKCpjNZmxUTSCKEx5pmoJlOyCKXZAkCSRZaUKSQVYUkGWZ1hFcWtG9KIrzTtrPqumDWT17cAzVaMTyPIeiyMG0qE4J9DQDDMME0zBAxXtdN8Bxsaa41uv1oCuKTFbUlawacHCwP+8My2FVjiZ1MTqEfpEzXdcBUwLLcSHKK+iZPnQVHQRRBEEQOFPf9/DasEZWrNuVVl1kfXBwMO+Mj6bVcFzVnuNDFEX4sou12MNNPsRxzEFw0yYIJO+PIEr7YJpmAyiKK3rHActpUI2P+rVlOaAoCpOwFlhsZOiDEw2AnpV1vWgTHWi7AbeT2JXomUisaJ0DplFQZVleJ3iqZZqsZaRjzYIwAtu2wfM8zobe0cYYfRqlJSiajc8SE7cZJlFYoZp1jGJg4RkuckCuYk/jbAmIglhS0CGyLJEgXzOMgqDK86zOyz7Yls3a1OhKKsrrlOme6kqCHezvcaZUTwJEgVZ0zwHjwKvQ6bWfDnjKdDqxUk0H8nIEeZaBZdmcla5pWLcuqHYIXanX1FRSOMOtlKmGWR2g52zLYq2aXTRwEMW8dsSQr1PqePWTHB0Rg6LqaKuAyaqFKbcMQx8Z5rWHze66DqMuaNQUuZkptVbd5h4ZajpnrKjIWNGZrDkrSdGoFJRyA5j1S4jRh3wzscETbcfBdK0tsIa56WfEBjSsp+PYuEfAlAVcExqVsyyt3cAHavwNoKRAmveBWnGbJaltYBm6KAJ1FXmXbLNROYkRMM3qJC2g17xsAHBjgKo6yLL139omYAYR9DBdAkTlyRlfRImQYY4M8Qqapn0BxCCbkF1wfZO2gKlapsH7meqIcZdhhMZOasdzW/qbFAnQQGHCMETBXL4mCCI4XsBrSxOJSGAGW4CBW6Xow2AwBrWnsDY98qKL6VLKxCQIAq68gGJF2QA81+EpI/BtwAhVpk4ZVCMIg4A1tcI2001wsJepxXqoJqXeThvDCamHN61HgLd6OaNeTlIaV2xTfPQjTW1ilyQJZyiuZ6KPosT4jtKmGmI5+MTe38cBG4WNbYp+gbWKWDtE6Rqilah2RVHAYDDYso/Iu2cdDONLynGUIGBcF4MYmaRMEIV1j8r4GXUxZYUfQJtbwDtxe3ylSVylSVLTd6NxPf0T1hD71IlL0AwcCrq26ZjtNlzH7eGA7cZTphRxgW37DT+fOK56XOlG5a8Bm2/KNiD6kETZOo0zlHo6ZP0hHxAKKtyqfIfdfwO29diwwF6mbzIZm/y2DXh7+vwPwHYTpd2O/2+BfRswCkdYw7/XvwCW9CugDWr67efvxOe11eadLE3GqDLQb5Pvxf37978bu7u7dH3RwZ5Np5PJ78+fP/8D4yPGp7txdXX16fLy8tPFxcW34uM6/pxOp9cd/PsBp4r19u1b//379967d+++ig8fPnhv3rzxbm5u/FevXnnr2NzT+uvXr935fH7vX4izOPy9XIgNAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"5 1\"\n        title=\"5 1\"\n        src=\"/static/503565da8108bcd5d608b564f8e282c8/c1b63/5-1.png\"\n        srcset=\"/static/503565da8108bcd5d608b564f8e282c8/5a46d/5-1.png 300w,\n/static/503565da8108bcd5d608b564f8e282c8/0a47e/5-1.png 600w,\n/static/503565da8108bcd5d608b564f8e282c8/c1b63/5-1.png 1200w,\n/static/503565da8108bcd5d608b564f8e282c8/d61c2/5-1.png 1800w,\n/static/503565da8108bcd5d608b564f8e282c8/8c5dc/5-1.png 2384w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\nNode가 3개 이므로 인스턴스가 3개 존재하는 것을 확인할 수 있습니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACJUlEQVQoz5WSS2/aQBDHfW8AG/zC2OAHBvzANnihLUlQe+QAQmokkHrlEk75LpEvbSK1Qap66fdLtMLTWUPUcIjaHn6amd2dmf/sLhcP+p/Jxfn9+eWH23RAMsf1sqblZpphIWamI0bTRqwCvXlYs51OZuI523azKBrcDobj+zgha45M3v4aTS+gF0bguV2wXB8cLwLy7hLS8XsYDlNIyfjICIYkBTIkEOH5IEggRhtHMfhBH3pe+IPrhfE3uxOA2+k9mk6XWrZLsTs1rTbVNI0qikJVVS1gviIrha1WqwdqNVoqlR7Pzt5AqXT2heunZOegMq2uUq/Xy1utFjQaGoiiCLIsQ71eBwkt89kaFkFqhY9NQJKkHPdYE7Z3x0XJYNcyLeAFniZJkqu6CXKjDTVRwcMiuK5boCoqyIoIzZZRFGQFTNNkhXOmmDXkef6OG47jXb8fgeM4dDKZ5FVRhppUL5KYGqYCRz+qE1CtxBKLPVTH/JyNLgjCoaAfBju32wVJFCkhJBcEHvhKpUhiVNCvvIgZx+RnP0dLj/GhoGnbIOLlspFZ5+ek1+D5kxhFCH8Uen74YFoOjlSjo9GIFWQd8+PBf+VFwSB4sJ02C57SNN3jeHv8Bvtyufw/PCGAfOX8wP/ZwTts4MVPp1MwDAO/TeMEXdeLh/kb+IDfuSAMP366urpZr9fXm81mi3a7Wq1OYGvL5XI7n89f43qxWNzMZrPpb5ghK6tBxfK+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"5 2\"\n        title=\"5 2\"\n        src=\"/static/49c553f2d8af39d5edda96a68978d830/c1b63/5-2.png\"\n        srcset=\"/static/49c553f2d8af39d5edda96a68978d830/5a46d/5-2.png 300w,\n/static/49c553f2d8af39d5edda96a68978d830/0a47e/5-2.png 600w,\n/static/49c553f2d8af39d5edda96a68978d830/c1b63/5-2.png 1200w,\n/static/49c553f2d8af39d5edda96a68978d830/d61c2/5-2.png 1800w,\n/static/49c553f2d8af39d5edda96a68978d830/97a96/5-2.png 2400w,\n/static/49c553f2d8af39d5edda96a68978d830/1fec9/5-2.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</details>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACIElEQVQoz4WRyW7acBDGfQ9ms8HYxgvYxAt4ZzFraQ8c4MAFFFWV+gLl1L5IfGoTqbFUqYe+YSJHno5dsrVJc/jpG/1n/HkWwnGts2Ayvly+W52Px/PI6NqRquqR0OpEoqxGMqqsnEZyG7WlRoqiRa22FnVOjUjtGLn2LO/c8weX/UG4I4LJ6NdgMQNvMATfHUDPdsCyXBjOljAcT2E4CmE0ncEwDCEcjmA2ncNk8gYcxwPXC8Bxfej2bDDNHhhG9wdhdK3vitKBttK5Vjp6UqvVkmq1mrANJmkgDFNPmPoRjOvHOKuhqGquJEleFwoFQL4SluvGiqqCKMmJLMspx3HQaDQAC6FcLueUSqV/uMshaaVSyYwB9YLoeVbMCxIwnIiPVEpTFGCXQNM0kH/+mn+IxS+RG2Yx1l0QpuPFtuNC0O8nvu+nQRBARr/fhzAc4w5H992+ZIi5B8Oe78e6YQCOnYiimOLYgAqSJAMvyMDxAhyLnzXMRn5iaDpOrGkaXsnMDTMzQRCA5UVo8BLUGO7VkZ8Y2gM/5ng+O0R2wZRhmBR3mNK1eg5F0+lxT//jUYeWeVUpkXiAk5siSd4WCie3JFlAyHuKxeJr3CCAfCN0Tf/ZspfASnq+L1k1QBAlEJrNfPTnaGKOx6n+hmXZK0LTjbemN/+iaPZhvlge3n/4eNjt94fdbvegj9jj23a7PazX68Nms7njE/J5tVotfgNpUCqo/T3ybAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"6\"\n        title=\"6\"\n        src=\"/static/b6531b049ef3821b90f9a30d385943a1/c1b63/6.png\"\n        srcset=\"/static/b6531b049ef3821b90f9a30d385943a1/5a46d/6.png 300w,\n/static/b6531b049ef3821b90f9a30d385943a1/0a47e/6.png 600w,\n/static/b6531b049ef3821b90f9a30d385943a1/c1b63/6.png 1200w,\n/static/b6531b049ef3821b90f9a30d385943a1/d61c2/6.png 1800w,\n/static/b6531b049ef3821b90f9a30d385943a1/97a96/6.png 2400w,\n/static/b6531b049ef3821b90f9a30d385943a1/1fec9/6.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>세번째 step은 인증 입니다. 저는 azure cli를 통해서 k8s master node에 접근할 것 이고 추후, master node에 추가적으로 접근해야하는 엔지니어가 필요하면 RBAC을 사용할 것 이기 때문에 기본 값 그대로 두고 다음으로 넘어갔습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACIUlEQVQoz42Ru2+bUBSHmRuD8YtHbTBvm2AMmBg/k1odPNhDFuO0kpcuXcKUvyRMbSI1lip16H+YCovTA3Xktm7TDp9+F869n849l3Bc+8ofj+5nr+e3o9F5bFrdWNPasSDrsShpsYQpqUYsKZiyFqtqK5aVVqwbZqzpZp4d27v1ev37s/5oRfjjwdf+xRS8/gB6bh86XQds24VgOoNgNIFgMITBZArBcAjDYADTyTmMx6/AcTxwPR8ctwdWpwvmaQdM0/pMmJb9SVF0kBXtUdVbSa1WSyqVcsJzbMKxbMIyzAGWSZj9ulwu5/uyJEnysVAoAPKBsF1nq+s6NCU5aTallOM4wENQpGmgkSyLxeIR9L6OpKVSKRMD5h1he/ZW1VAoa4kgCKkgiqAoKqJAvV4HhuWzjc+RC7M1yu8Iy/PzDlW9nbxsSGm9IeQinufzTvF6sN/8VyHWDkLb97cydiPJSsJyfC7MZJVKBXCeeT7JaPpYmF35F6HlulvLssDpdhOjZaaG0YKsY1038muLOIJnujvu0An8LcOy2UdCYxHXOdVqNcXhp/uh/4uD0OyYDzSFT37y4htFkTuycLIjyQJC7iiK+l/wLAXIR8Jst7+0z+Ygt1wQRAkk7RRESQGh0QB89T/SwFr2cL+Ds38gcH6zcPP+5s3m3XUYrqP1200Urq+i1WoVrcLwR/5EiP8uLy+jxWIRLZfLJ66Rm/l8fvEdMMkq1YtG2ocAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"7 0\"\n        title=\"7 0\"\n        src=\"/static/0ae305d5f10e4e84526636f712c7cc26/c1b63/7-0.png\"\n        srcset=\"/static/0ae305d5f10e4e84526636f712c7cc26/5a46d/7-0.png 300w,\n/static/0ae305d5f10e4e84526636f712c7cc26/0a47e/7-0.png 600w,\n/static/0ae305d5f10e4e84526636f712c7cc26/c1b63/7-0.png 1200w,\n/static/0ae305d5f10e4e84526636f712c7cc26/d61c2/7-0.png 1800w,\n/static/0ae305d5f10e4e84526636f712c7cc26/97a96/7-0.png 2400w,\n/static/0ae305d5f10e4e84526636f712c7cc26/1fec9/7-0.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>네번째 step은 네트워킹 입니다. 여기서는 <code class=\"language-text\">HTTP 애플리케이션 라우팅 사용</code> 체크 이외에는 모두 기본 값을 사용하도록 했습니다.</p>\n<blockquote>\n<p><code class=\"language-text\">HTTP 애플리케이션 라우팅</code> 이란?<br>\n쉽게 말해서 DNS 영역을 생성해주고 Ingress에 등록되는 도메인을 자동으로 Azure DNS 영역의 레코드에 추가/삭제 해주는 것 입니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 494px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWUlEQVQoz21O2WrCUBTMB3RJayTgkkWjAaHQmkUFjTFpU9u+KAXFiEuiuIH4/0/Tew8YCu3DMGdmzp1zhWaziXa7jU6nA9u2CVxzWJZFvuu6GTuOQ9xqtbL5ustnYTqdYrPZIE1TbLdbnE6nDNw7HA7kXy4XnM/nbPd4PGK322G1WlE+m80QhiGE0WiE/X5PC4vFAsvlknSaJpjPY9JxHCNJEirgZZPJBPwj/BjPOdbrNcbjMYQoekcQhPj4/CLu9TwE7FLf9/EWRZnneR4GQUAZn32W/wb/XbfbhfDkBjCdIWpWhPrLAKYVom5HjF+Z9tFwh4R64xmGWoRRraBWq8EwDOIruDZNE0KhUEBF15lpMLMKTVNRZY90TYOmqiiyPJfLQXoUUbS/ISsmzVI+D0mS/kCQZRmlUomVVKGz4nJZgaKoBO7zMlEUcX93i7zZx4OssPmGvP/wA4Mo6ybP18dOAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"7 1\"\n        title=\"7 1\"\n        src=\"/static/7c69fdcceea86124f1cf0021074b2b05/d72d4/7-1.png\"\n        srcset=\"/static/7c69fdcceea86124f1cf0021074b2b05/5a46d/7-1.png 300w,\n/static/7c69fdcceea86124f1cf0021074b2b05/d72d4/7-1.png 494w\"\n        sizes=\"(max-width: 494px) 100vw, 494px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</blockquote>\n<blockquote>\n<p>🚨 여기서 <code class=\"language-text\">HTTP 애플리케이션 라우팅</code> 를 체크한 이유는? 🚨<br>\n<a href=\"https://go.microsoft.com/fwlink/?linkid=2032149\">공식문서</a> 에서는 <code class=\"language-text\">HTTP 애플리케이션 라우팅 사용</code> 을 프로덕션에서는 사용하지 말라고 합니다. 그럼에도 여기서 사용하는 이유는 체크 시 리소스 그룹에 알아서 DNS을 생성해주기 때문입니다.<br>\n<a href=\"https://docs.microsoft.com/ko-kr/azure/aks/http-application-routing\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 684px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA+ElEQVQY0yWOUZKDIBBEPcbWioioxCgKqLBq4nfuf6LeYfLxqpnXVTMUwzAghICUEqy18N7znHNZFs55nrnLZDeOI+Ocw5SdD3Bh5b7wJFOK2LcN13Ui7jtSjDiOg4+clOd54r5v7t/vN/uLXPZujbBrgksvXl48pgl2cZjpJ37dMDsPqRoIWTO/VYVSSn7/lAIVzUJ8U5KvCVkJKJl9ieIyGluvEU2Laxrwsk+kR4e9b8l12LoGx9NwH3WNvtXojYEhuq77Zm8gVEtoFH92wcs7fI6Iz5mw0oKgFZySCK2CpyX5YPZrI6EbhUZraEIpxZlnIRuUVY1/NFeVgxv4/7MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"7 2\"\n        title=\"7 2\"\n        src=\"/static/563f4c3318e86a16f2a04223a01424d2/2c288/7-2.png\"\n        srcset=\"/static/563f4c3318e86a16f2a04223a01424d2/5a46d/7-2.png 300w,\n/static/563f4c3318e86a16f2a04223a01424d2/0a47e/7-2.png 600w,\n/static/563f4c3318e86a16f2a04223a01424d2/2c288/7-2.png 684w\"\n        sizes=\"(max-width: 684px) 100vw, 684px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></a>\n어짜핀 우리도 <strong>HTTPS를 사용하기 위해서 따로 수신 컨트롤러를 만들겁니다.</strong> 그럼에도 <code class=\"language-text\">HTTP 애플리케이션 라우팅 사용</code> 을 체크한 이유는 <code class=\"language-text\">HTTPS 수신 컨트롤러</code> 를 만들기 위해서는 도메인이 필요하기 때문입니다. 정확히 말하면 <code class=\"language-text\">HTTPS 수신 컨트롤러</code> 를 만드는 과정에 TLS 발급을 위하여 도메인이 필요하기 때문입니다.\n<a href=\"https://docs.microsoft.com/ko-kr/azure/aks/ingress-tls?tabs=azure-cli#before-you-begin\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAxElEQVQY002OS47DIBBEfQbLJICJIPwbEynKxnsvvfH9T1MDnsjKovTQo9Vdw77v2LYN67riOA5orTGOIxhjmKbp4m8Ym3Br/nbx/93/BiJCCAEpJdRaEWOE9/5kd9bak32mux5tPWZt8XgGKOMaPR42IqSMwYQM6yOI8ndhAtUXlmWBMQacc6h5xiwlZGeLFLJ5AdEcF99wCaUUhtiuUylni74k53zROYdMBapdd4nOudLal16gpYaId3D4pIB1ydDijj8nH2/tU+EwUQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"7 3\"\n        title=\"7 3\"\n        src=\"/static/58c10dcd95814ce2f76f7c6e03202ba6/c1b63/7-3.png\"\n        srcset=\"/static/58c10dcd95814ce2f76f7c6e03202ba6/5a46d/7-3.png 300w,\n/static/58c10dcd95814ce2f76f7c6e03202ba6/0a47e/7-3.png 600w,\n/static/58c10dcd95814ce2f76f7c6e03202ba6/c1b63/7-3.png 1200w,\n/static/58c10dcd95814ce2f76f7c6e03202ba6/bf286/7-3.png 1688w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></a>\n정리하자면 만약 여러분의 환경이 <code class=\"language-text\">HTTPS 수신 컨트롤러</code> 가 필요하지 않고 k8s svc를 IP가 아닌 도메인으로 접근하고 싶은데 DNS가 없어서 DNS가 필요하다면 체크하셔도 됩니다. 저는 이후 생성할 때는 <u>GoDaddy에서 도메인을 구입</u>한 상태라서 체크하지 않았습니다. 그래도 해당 섹션에서는 <u><code class=\"language-text\">HTTP 애플리케이션 라우팅 사용</code> 가 체크된 것을 기준으로 설명</u>합니다. 혹시라도 이해가 안되는 부분이 있다면 댓글을 남겨주세요.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACJ0lEQVQoz41STW/aQBT0vYCxDTbfYGMCxjY2do0xHymikAMccghOWjWXnnoIp/yS+NQmUmOpUg/9h4mM/PoWQRWkoMbSaHZX741n5y1lmPqVPfAeJtOzO88bB4raCWS5FZTFRlCpyUENuVY/CWoSsigH9XozEKVm0DhRArmhbFnTu3ddy3lwHG9F2QP3j3M6BstxwTId0DoG6LoJ7mgCrjeEnuuBOxxBr9+Hfs+F0XAMg8EHMIwumF0bDNMCTetAu62Boqi/KEXTf4qiDJWq9CTKzYjjuIhh0pHA81tks9l/a0HgI363ZlkWa9ktJ5PJp0QiATSd+k6pRidU1Tb+sROpqhrXJQlEUYRCoQD5fB4EIQd0Oo3F9AHSeLZDzDBMlMlkYDr9eI+CalhvNMG0epFu2LGmG6C221CpVKBYLG6F0QVg0zHEKEpuBvP5HAW7dpjL5dEFEzFsJi6USpA+dIBNhJnd+rjgbDa7p3TbDiVJBJ7PkkziAl6TFBJXe5D9EbFXBC0rLKGrLAadYdmYe9F86JJ5m6DRs8NKtYrhCxHLcTEKYwFNiuJd4P/FgaCiKY8cQ0My8e4Zc9pgnhuOZTc4tQ0Wb1Kp1FvwTNziUH5QSqv1u/X+DMSmCeVqDWoyThiZTLlcLr8KEhF5AS9BzjRNe6Tw7U3862+3n6+/3vj+5fry05f1auWvVxcXyKu17/tb3oPsz8/P14vFYr1cLve4Qdye4vcXazUuWRapJFMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"8\"\n        title=\"8\"\n        src=\"/static/e31da7dcb1800e8ba4a04e373c01bd79/c1b63/8.png\"\n        srcset=\"/static/e31da7dcb1800e8ba4a04e373c01bd79/5a46d/8.png 300w,\n/static/e31da7dcb1800e8ba4a04e373c01bd79/0a47e/8.png 600w,\n/static/e31da7dcb1800e8ba4a04e373c01bd79/c1b63/8.png 1200w,\n/static/e31da7dcb1800e8ba4a04e373c01bd79/d61c2/8.png 1800w,\n/static/e31da7dcb1800e8ba4a04e373c01bd79/97a96/8.png 2400w,\n/static/e31da7dcb1800e8ba4a04e373c01bd79/1fec9/8.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>네번째 step은 통합 입니다. 여기서는 <code class=\"language-text\">Azure Monitor</code> 의 기능을 <code class=\"language-text\">사용 안 함</code> 이외에는 모두 기본 값을 사용하도록 했습니다.</p>\n<blockquote>\n<p>이전에 스터디 당시 <code class=\"language-text\">Azure Monitor</code> 기본 값인 사용으로 설정하고 테스트한 결과 비용이 많이 청구되어서 사용하지 않게 되었습니다.</p>\n</blockquote>\n<blockquote>\n<p>컨테이너 레지스트리의 경우 추후 이어질 섹션에서 소개하겠지만 GitHub Container Registry를 사용할 것 이기 때문에 ACR은 사용하지 않을 것 입니다.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACCElEQVQoz42Sy46TYBTH2U7pDYZrS7mUywClhWI7pR1KjU3axBgfwoWP4MqnmLpwiBvdarrWh9A4e+NzzATS44GpY3TGSRe//M/Hd/hxEg4RhIOXo/jsw5Pl+u3ZLEldz08N00llzULMVOsixkmq6Te1jnXXcFLTKnDLdHv+xTAcvx+fTl8To1n0ZZzMIXg0hmEwAm/gQ9/zIYofQzSLYTKJYBJjTiOIJhOI8VmMd2E4Aj8IS7y+D67rFfwknJ73UdN0UFT9qmtYGcMwWZNqZjzHZhzLZiyeS4oaYfZnmqYyirqhXq9fk2QFSJL8Snj+YGsYBliWmRcpCDzwPAcURUOz2SzBF+7QaDRuwZ4cxUVeotDbogxs285bkgyipILYVkAURZQLKOdvxQ+QF4nyS8L1h1vDNEFW1FySVZCULgolaLVapayg+Pp+knvBuz/CXhBs9RMPFN3OxbYMmoLIHWBZDmiaLtk3Hyb0UIgrAZLczTlehA5OJokCcBx3Z7L/Sf8SDkbhluMFOGa5/Jhhdrwg7liO2+FkO2w6lN/C74Tj2Z8atSOokpWrWrWakZWjrEqSWRXrWq12KNcIIN8Ix3E/q14CfMcEQWxDR7Ogvf8pD1Fswb/gVvwgbNt5YfWn71TdOR+fRm+ePnu+Wa3WyOpe1uv1ZrlcbpIk2SwWixKszzEv5vP5q19w9yqrX6jhIwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"9\"\n        title=\"9\"\n        src=\"/static/b0666a8eca716764a54535b3e026ef25/c1b63/9.png\"\n        srcset=\"/static/b0666a8eca716764a54535b3e026ef25/5a46d/9.png 300w,\n/static/b0666a8eca716764a54535b3e026ef25/0a47e/9.png 600w,\n/static/b0666a8eca716764a54535b3e026ef25/c1b63/9.png 1200w,\n/static/b0666a8eca716764a54535b3e026ef25/d61c2/9.png 1800w,\n/static/b0666a8eca716764a54535b3e026ef25/97a96/9.png 2400w,\n/static/b0666a8eca716764a54535b3e026ef25/1fec9/9.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>이렇게 AKS를 만들기 위해서 필요한 설정을 모두 완료하였습니다. 이제 <code class=\"language-text\">검토 + 만들기</code> 버튼을 통하여 AKS를 만들고 오세요!</p>\n<h1 id=\"k8s-cluster-접속\" style=\"position:relative;\"><a href=\"#k8s-cluster-%EC%A0%91%EC%86%8D\" aria-label=\"k8s cluster 접속 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>k8s cluster 접속</h1>\n<p>AKS가 생성되었으니 이제 k8s에게 명령을 날리기 위해서 <code class=\"language-text\">kubectl</code> 을 사용해야겠죠? 그러기 위해서는 k8s cluster 접속해야 하는데 우선 azure cli에 로그인이 필요합니다.</p>\n<p>azure cli가 설치되어있지 않다면 <a href=\"https://docs.microsoft.com/ko-kr/cli/azure/install-azure-cli\">Azure CLI를 설치하는 방법</a> 를 참고하여 설치 후 로그인 하도록 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABG0lEQVQY013RbUvCUBQA4ON27yaHggpUIoIFKmrB1L06N106nSURqNkLKljQHwj61p/pdwUX+tqPuN2WwfLDw3n9cjgAABkhWwZAL59D47CAem4fZ6aOi8DFudMUeR1v7EZSr3sBPvU7OKoUMSpqOCidYFTS8ME1cFHVJLhqtYPH2+tPbz5hddtnTcdjjh+yTjRi3cEFO4/HLBxeMr83ZEE/Fvk4iQ2nzXSr9efD8rpfuuGswfTdWbh65oXpC882PL5bd/mB1eGkZnJ6anFlgyZ+e1TMSIpcNbh6ZvO9qv4mroUjYSKsQCJLkOgSQFoCUTbohvIf3aKod2KvDK9WPvN+H8uVWkx2AEhOOBaokE1RUxSBbJEB5J9/fAPRUFHzRuPs5gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"10\"\n        title=\"10\"\n        src=\"/static/7aa8a0cce81ee6d2d43289501338eca0/c1b63/10.png\"\n        srcset=\"/static/7aa8a0cce81ee6d2d43289501338eca0/5a46d/10.png 300w,\n/static/7aa8a0cce81ee6d2d43289501338eca0/0a47e/10.png 600w,\n/static/7aa8a0cce81ee6d2d43289501338eca0/c1b63/10.png 1200w,\n/static/7aa8a0cce81ee6d2d43289501338eca0/f02b9/10.png 1554w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>AKS 리소스의 연결 버튼을 누르면 친절하게 연결에 필요한 Azure 구독과 AKS 이름에 대한 cli 스니펫이 나옵니다. 복붙해서 k8s cluster 접속하도록 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACsklEQVQoz21SSU/bYBD1mZDFWb3EjuN4je3ENnY2slUVCELgQqKeOZMTv4ScWpBKpEo99B+CPuubjgNNpaqHpzeSPW/evPmYru99iUaj59mns8fhcLK1nc5WN+xtQzUR+rbZMraqbm3VlBHavraQ7a1htvdwveAxCOPnuDdcMSej/q94OoYw7kMU9sDt+uB3T2A0+wyj8RSGozHWM6zHcDoawXw6hxl+6/WHEGFPEETguB2w2y6Ypv2DsWz3e0s1QRCl1+PjY8Lm86RUKhGe4wjH1UitWiXVauWDq6RcLhFFaRCn3SaiKJJKpUKKxeIry7IgSdJXJoh7uzCMwLJM0vU8qikK1HgRCoU85PM55MIBaRMOg7rUAMfzQTcskGWZKopCWq0WXC4WT0w3Cne6bkKtViP9fp/yggicKEOlJkKpXDkIpVwul0EQBNCbTYg8D1xdA8/Uqd1SiSbV4eri4onxTno7FdWLRZYEQUDrkgxCXQFRVnEItxf7A1wNCsg6/h+HAbiWBUZLpVpTIRoOWVxepg4HO0O3IM2m2/VpQ24Cz3PpgHeBD4cschEdivU6mJYJ5+fncIqH6nQ61DBNgoCr5fKJ8ePBTsJMcrkc8dGhhA7T1XheSGPAHPMHh6l4HQUdx4H5fA4YEYRhSD3PIwhY7gWH/Z2q6dhQIFEcU7wcRUGKjZTneYoiFMU+UKSYIUVBig7pZDKhg8GAYlTEdd13wXbXe1E1DYos+4bTEnSUZLPZBB3v8bfOJvlCIRFEMTFNIxmPTxN0mPi+n6iq+mYYBiwWi2+Mbbd/mpYNEq4ynU7TZ7Bf61+g8/2FRURdbkGVE9KtDjmnz+ns7OyFaTvu/PZ29bBere7v7u426/X6v7i5udmgg8319XIjNc1NJlfaZI6ONplMJsU9bvIQRdH0N8HbO5TA3doIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"11\"\n        title=\"11\"\n        src=\"/static/87e306f0eb40cda77d10fccf932785f5/c1b63/11.png\"\n        srcset=\"/static/87e306f0eb40cda77d10fccf932785f5/5a46d/11.png 300w,\n/static/87e306f0eb40cda77d10fccf932785f5/0a47e/11.png 600w,\n/static/87e306f0eb40cda77d10fccf932785f5/c1b63/11.png 1200w,\n/static/87e306f0eb40cda77d10fccf932785f5/d61c2/11.png 1800w,\n/static/87e306f0eb40cda77d10fccf932785f5/97a96/11.png 2400w,\n/static/87e306f0eb40cda77d10fccf932785f5/1fec9/11.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>접속 후 <code class=\"language-text\">kubectl get node</code> 으로 Node를 조회하면 정상적으로 3개가 표시되는 것을 확인할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAACYElEQVQoz21QS08TURS+FDt9TG+hgFSEKBolSDud6XRmOq++gKEtLQ9bQB4FFMVXQiDBuKZhyUI3/gYxbHzEvbpx738gma0rYsnc42WsrjzJd77zyP3uyYdeIYSeIcSo/SgsdyOcH76Fs9eH8NOihffrd/Hu/Cx+Xinj7alJ/KQ0hV8s1vFSWsH61QFsDg1iOdqPq7GxcENKeo8W5hH69fUEbc1OvymvL5+NmsXTmKTZcSVjK4WirU9W7ExxxmV1vPyvl3OWHZdNm0tn7UQ6eyrohTNOMY8WtvcQAgA03Vj9nNt/Day1AawgQ0jKQSBpQCiVcZmlzIomhEQd/EkNvKIBfskEH90xCQ3QmAJsTDq58/0nckMoVz6MLO9AIDPXCoppxy+aTlDKOoFUxmEEw/HyusMq404oM+tc1srODclyhimuZcvOQL7Y6tEnIMQpby16nBtmrfaR23wJXmP+nEnwhOE1QkVIR1whKKYQH68S1qiSrto+EazHZFVdJmvGOmk82iELe7vn+Y0HEE6kj1cuBH9Qwc7R1Ed/QoYuyWhFNIv0GRbpVsfJUKFCwkqeRLQJ4hd0EhY14kvpBPEy8Yj0s5EkQdHbLTTMARuXj8W/FyZLlU9jKzsQKSxCkHrE8NQrQYcg9e0Sp7o+dXJpOqee8SqEc3XoLj6E9MoWTGzeh2TtHmBOfjfTFvQU8sZMrNw4DI5qB96+aBP1tBHpb6LeP3VH7xWXPXTPxswmVmpNa67WXF+rH0xVS4eB6GDJVfv25b0rSuGlYC5AE0MHjK/dd7TZ0+b/4OKt52Z1Cf0GYKLbzLXfH0EAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"12\"\n        title=\"12\"\n        src=\"/static/d903584cee63760b0033971061ce209f/c1b63/12.png\"\n        srcset=\"/static/d903584cee63760b0033971061ce209f/5a46d/12.png 300w,\n/static/d903584cee63760b0033971061ce209f/0a47e/12.png 600w,\n/static/d903584cee63760b0033971061ce209f/c1b63/12.png 1200w,\n/static/d903584cee63760b0033971061ce209f/f02b9/12.png 1554w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h1 id=\"ingress-생성-ps-https-수신-컨트롤러-만들기\" style=\"position:relative;\"><a href=\"#ingress-%EC%83%9D%EC%84%B1-ps-https-%EC%88%98%EC%8B%A0-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"ingress 생성 ps https 수신 컨트롤러 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ingress 생성 (ps. HTTPS 수신 컨트롤러 만들기)</h1>\n<p>외부의 트래픽을 효과적으로 받기 위해서는 ingress가 필요하겠죠? 여기서는 Azure에서 가이드하는 <code class=\"language-text\">HTTPS 수신 컨트롤러</code> 를 사용할 것 입니다.</p>\n<p><a href=\"https://docs.microsoft.com/ko-kr/azure/aks/ingress-tls\">해당 문서</a> 를 참고해서 따라하시면 되며 자세한 내용은 공식문서를 참고해주세요.</p>\n<h2 id=\"helm-ingress-nginx-repository-추가\" style=\"position:relative;\"><a href=\"#helm-ingress-nginx-repository-%EC%B6%94%EA%B0%80\" aria-label=\"helm ingress nginx repository 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>helm ingress-nginx repository 추가</h2>\n<p>ingress를 배포할 namespace를 만들고 helm repository에 ingress-nginx를 추가하도록 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAmklEQVQI12PwCAtP1AnLeqEZnHNTKzj7tmZQ5h3t0Pw7Ku6hd6RNre7IWjjckTa3uyNpantHwsQGjMWMre4I6prc4dczu6PoGH4nwjr0RmBs3CsNO6dMBjkLOwcRa59Zwta+E4WsvCcJA7GIjd8kTj2rSYyKGpOYVXQmMSsjMKOS1iQGBU0IBrI5dWwnaWhaT1C1cZzNp6nvBgC7tDJEiYS6RAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"13\"\n        title=\"13\"\n        src=\"/static/d341fa4b345f8a112af728b7be82951a/c1b63/13.png\"\n        srcset=\"/static/d341fa4b345f8a112af728b7be82951a/5a46d/13.png 300w,\n/static/d341fa4b345f8a112af728b7be82951a/0a47e/13.png 600w,\n/static/d341fa4b345f8a112af728b7be82951a/c1b63/13.png 1200w,\n/static/d341fa4b345f8a112af728b7be82951a/d61c2/13.png 1800w,\n/static/d341fa4b345f8a112af728b7be82951a/97a96/13.png 2400w,\n/static/d341fa4b345f8a112af728b7be82951a/1fec9/13.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"수신-컨트롤러-만들기\" style=\"position:relative;\"><a href=\"#%EC%88%98%EC%8B%A0-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"수신 컨트롤러 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>수신 컨트롤러 만들기</h2>\n<p>helm 명령을 사용하여 nginx-ingress 를 설치합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB5ElEQVQoz42SS2/TQBDH13USQpKSlAoiUak8opQ8aq/jx9rxi7SpIqoqoRRVqAdAiG8APgHi1hP4CBJoj4ivSCRLHmbjNihtVDj8NGvNzt+z8x/y+HAy7D15+ZOOX//Qxq84PXjB6eQN3x4d8aYT8IfuDjLgLYwNO+ANFvAHyIZq8Tsa463wkB+5k+/jZ8e/Ol64T6qa8+GmN4J1fx9qzhCqzIcbLISS7kFBtSGnOEgW5W17zkqXgYTkVA/KigsVw4dVap+SNcN/W2UDTDhTWbETqWslpGOeYf0HeK9t/iYoXtO9j6Ss2lHZCOG6HiQlI0iLug956sIKdiSJTgSKPfsWZ1F4gVQIy5hf071P5FrXjCpmCAXNTfK0ny4pWKRjLRUUP60JwVxLj7AzkFVHPCGdFVzFuehf4UVB0qRRTu1DsecnKJpKF7tZLP53h2SLRmJmZTNMCtRNcVapfMbs8jlZ95eZCzqZYKFjvCtqrliBqUgIlzNYgibMwKLlDs82ggmXp3OXK9R5X3NHULH3IN97BLKG89RCkHC3sudeZRADWbFApn0oobHrZnBKtsK98Pbg+Gt99+RLffd5jOe4PjyJV/WdmGw2Y+l+Oyb3WpeQRLzbjm91G/GGP/hsHDz9tmmw4R/8ex/blDw1lwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"14\"\n        title=\"14\"\n        src=\"/static/b856f61569d670105037914571f27bf2/c1b63/14.png\"\n        srcset=\"/static/b856f61569d670105037914571f27bf2/5a46d/14.png 300w,\n/static/b856f61569d670105037914571f27bf2/0a47e/14.png 600w,\n/static/b856f61569d670105037914571f27bf2/c1b63/14.png 1200w,\n/static/b856f61569d670105037914571f27bf2/d61c2/14.png 1800w,\n/static/b856f61569d670105037914571f27bf2/97a96/14.png 2400w,\n/static/b856f61569d670105037914571f27bf2/1fec9/14.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>공식 문서 발췌: 설치하는 동안 Azure 공용 IP 주소가 수신 컨트롤러에 대해 생성됩니다. 이 공용 IP 주소는 수신 컨트롤러의 수명 동안만 고정됩니다.</p>\n<p><code class=\"language-text\">kubectl get all -n ingress-basic</code> 으로 조회해보면 외부로 나가는 IP가 생성된 것을 확인할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.000000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABe0lEQVQY023Py07CQBQG4ClUhKgRcWGC4AXxRoG29opt0WoqSAE14EoZ42UhLnwAX8TujEvjxp0vYdy58z00YybHUTAmxsWXc/5Mcs4cVGntn+b9zq1cP7qW6jgQ/U4gN46DorcTLJp2kNWdb/NGuV97eUoyglRBCWbsWlA1m9fteuvG2vavUHqt+jhq1SBh+zBsViCqbkJM34KI7ABf0CGcN/4VEnQI5TQISw4kimswobsQ15xXNOk27uJuG+Ju640hYwzLZMj0SEQskahsEy5vECToPTmt76tXCadskKTkvc86VRi3Np7QYEG/H2A/YQhf0GhY0Cif1+igWKKxFZuOyBaNiquUL5ZouGh+Y4N/5VSKlpUPtCADWlKe0ahafoipLvwVVdYhIlpskQEcOw0tqz059bfvZ04wgV0CMdF8QebugZ32u6dT/nlnttHFmeYFzja7OLt3ieNSGaPkNA6ls5ibzGAulenVH6k5zLF3XnCwd3h2YlW82idLNJ1CX35H6wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"15\"\n        title=\"15\"\n        src=\"/static/05e1586c292dddddbf7ce85571d88f24/c1b63/15.png\"\n        srcset=\"/static/05e1586c292dddddbf7ce85571d88f24/5a46d/15.png 300w,\n/static/05e1586c292dddddbf7ce85571d88f24/0a47e/15.png 600w,\n/static/05e1586c292dddddbf7ce85571d88f24/c1b63/15.png 1200w,\n/static/05e1586c292dddddbf7ce85571d88f24/d61c2/15.png 1800w,\n/static/05e1586c292dddddbf7ce85571d88f24/97a96/15.png 2400w,\n/static/05e1586c292dddddbf7ce85571d88f24/1fec9/15.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>해당 IP 주소로 이동하면 아직 수신 규칙은 생성되지 않았기 때문에 NGINX 수신 컨트롤러의 기본 404 페이지가 표시되는 것을 확인할 수 있으며 이를 통해 정상적으로 ingress가 배포된 것을 확인할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC5UlEQVQ4y6WSXUhTYRjHH8NuuqqoXOp0tra56T6PO85tTt3yK5S5OXWRKZY0yBoY3Q6iieBNIRLZRcFEMA9I5E0gypAuZqaXXRQI2pUX+3AagjvbeXrPplOGUNIDP973nPd5fufPywG4UAxQIIGP9jr4sGAG2VAjTIy9g+CXbxBcXgVm7jP4R8fhxcgrGJ94D0+f+cBotkG5QgNFQjEUi2TQ2z8IhUUlcPHiFYDrUjVcEggpo7x8TkdLZksVUkatohg9XcNU6Q2MVqdnlCotU6nUMCq1jlFUqJgbYikjEokZYYmIUMZUVKpnrxUIJDclcgCrox8ExaJHJqUK9XQlKrQaNJvq0XarGZuaWtFqbUIdVY0UXYMGowUpikapTIESqRyJCDUaCmmDCQWCQofZYgNARJDK5I9r6m1IGWsTdY1NrNXWzKq0VayONrC0qZbVk9WoN7C1JgtLGSysXKFmdRTNOpxdrKvDmag2mFEoLO1+7n+ZESo1Wm/7wF20eFwpy1AX5+pyY1tPL9a7OtH+8D4+6B9Al96A7tsObLk3jB1OckYCtLU7OEdnd8pu78SyMnHP6zeBjHBy8q03Go5gLBpLRSNRLh7fxZWVrzj/aR6XFhdxYWEBQ6urGFxexuDSIq6vr+Pe3m+M7exwsVgsFQ6H0efz9fCutHB6etqLmUoROH4TjUZxc3MTt7e30+tuPI6/trZwY2MDI5HIYXu6l5/B0dHRY2EgEPAmEgkkpAgcv+c47mgISYo0WQs5O+wnvWzq4OAA/X7/sXBqasp7KMgm5J+PpPv7+8gP5b4/SkgKR0ZGThdymcKTnEyWw78JTwpyU+V84HQhucMnyWSSP2FTZyziTLIsy99hd1Y4MzMzjP9ZY2Njd7JC8g+51tbWfoRCIZ6fZ4XMfh8cHLSlhS0tLXkAcJVAExoI9Yc0/IWTfRThssfjyUsndDqd59xudz6Rn29tbT0T/ExfX1++1WrN411/AI2ZK2drIqGVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"16\"\n        title=\"16\"\n        src=\"/static/ca2d3171c8b88ef7126b16631fb3bc44/c1b63/16.png\"\n        srcset=\"/static/ca2d3171c8b88ef7126b16631fb3bc44/5a46d/16.png 300w,\n/static/ca2d3171c8b88ef7126b16631fb3bc44/0a47e/16.png 600w,\n/static/ca2d3171c8b88ef7126b16631fb3bc44/c1b63/16.png 1200w,\n/static/ca2d3171c8b88ef7126b16631fb3bc44/d9b5d/16.png 1224w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"dns-영역에-a-레코드-추가\" style=\"position:relative;\"><a href=\"#dns-%EC%98%81%EC%97%AD%EC%97%90-a-%EB%A0%88%EC%BD%94%EB%93%9C-%EC%B6%94%EA%B0%80\" aria-label=\"dns 영역에 a 레코드 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DNS 영역에 A 레코드 추가</h2>\n<p>TLS 발급 위함과 더불어 도메인으로 ingress에 접근할 수 있도록 NGINX 서비스의 외부 IP 주소를 DNS 영역의 A 레코드에 추가합니다.</p>\n<p>추후, ingress 수신 경로에 어떤 서브도메인이 올지 모름으로 모든 서브도메인을 받을 수 있도록 <code class=\"language-text\">*</code> 으로 설정하도록 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACMElEQVQoz11T2W7bQAwU0IcAsWRJ1n1Zti7rsqzDkpzaQRI3/YI+pP7/D5lyN05R9GFAapfkzpCUcH6/Yrw8o6r2KMsGZV2jrA7YDzMO/REtoZsmdNzvMY0zhvEJzaFH3bSo9y36YcL58oLL8yuEuh+QVA3SXYld3iDJclRljXF+okcq5PkOeVmQzblflyWd19hsNijIn+YZYRhCUVWoqxWE/XCii4rYFYjjBEmS8ODAD6AbBjRNh7xcciyXMiRJgiSK3Np0H1g2h6sbcHQdQnsciFkB3/fgOg5sx4PhhLC8CIZpQ1EUgsqtSiyCIECaprAsi8fH2wgO+ZZpwjYtCGVzgO/5FKxgpRlwvQDrbYqQ4NG5SYEs+QsOFWESDWLHFBh0vyKpTK5MjwpVd+SXiiwTOxfBOiTrwLJtKujxAgzMt22LxzKw5CyJUWQZtSrmrYqiiIbSHT4LUoBu6PylL4ka9URVV1wqY8L6FlPiTIOw7jKZbPPOnqkRmuNIQwh5krKUCCJkacGhyvQtiWRl6PSQuHjELkuxp+lrKxUynf8PKthxqq5jI6O92tY0pG5G1k7cMsS0BTENLtoVyGhl3A0NzF9T7zRO5F8Im2iLh4cHyJoG98cvqNcbzJ83aNcPGO+/CTc8dheI9RGL/YRv9QnK6R3meIZI7BV5ed+ETwh916JtW/oTegznF7TnN3TnV8LbX9THGfmhRU4bkXcj5pcrnr6fEKQtLD/h8nXqN8MfrBcuTi8y+IoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"17 0\"\n        title=\"17 0\"\n        src=\"/static/46c12405dba51cdcaf9b84c1ac583b42/c1b63/17-0.png\"\n        srcset=\"/static/46c12405dba51cdcaf9b84c1ac583b42/5a46d/17-0.png 300w,\n/static/46c12405dba51cdcaf9b84c1ac583b42/0a47e/17-0.png 600w,\n/static/46c12405dba51cdcaf9b84c1ac583b42/c1b63/17-0.png 1200w,\n/static/46c12405dba51cdcaf9b84c1ac583b42/d61c2/17-0.png 1800w,\n/static/46c12405dba51cdcaf9b84c1ac583b42/97a96/17-0.png 2400w,\n/static/46c12405dba51cdcaf9b84c1ac583b42/d5a26/17-0.png 3578w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<blockquote>\n<p>만약, 여기서 다른 DNS가 있다면? 해당 영역의 A 레코드에 추가해주면 됩니다. 핵심은 도메인으로 질의했을 때 ingress IP가 리졸빙되면 됩니다.</p>\n<details>\n<summary>► 다른 DNS에 어떻게 추가되었는지 구경하기</summary>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAACCUlEQVQoz21Q227aQBRcMCJcIzAQQggkCAzYGIOveM11gaRp1VaJmrQBKepv9bFWpX5eX6q2uG729EBf+zCa3dHszJ5DPt6+0q/vP3xtGfSzbFBfNse+Yk789tD1VWfmW/MXvo0wp1e+g9zRPb8zpL6kU39pr/0tfes/3m++3Ly+/ZQuXZRIg86eqlfvIGVOIK65EFNHEOuPINpzIG1MITHwIGvNIKmPIWNOQUBdQE8az+XBDKThCnov76DOboCI1R45amuPWWsKIl39PnYWIek5IVHsA+fc5QFJYxoKmhvm6SpMW7Mw2ncPTBQrJF19733Gku/JS0kmx6q5wbB94HNuxLjQdzkGcjTxvLvkqPOkMTnoBW/Ns/aCxzTKMZBH0LP3YiGk9PHPeK2pkGzP2ORHDPDxn31AfEA5ka3/BoreiuMU/Gg45jjyv2LZek7gOhID+kOoNmSSVoxtFgMz+LuUvQBh6EFEo0BUFzLOAtL2HI7MGcRRLzpzSCAT3GEK9Sj6Irj3uDGBjD3flVVDIeZ8+aC9eYKiMf1V6Du74sANCtooEBEFnQa5vhOIqIkDvGtOkFPtIK+i1neDY8UJipq3Wz9sw8Xd+2+5y06HtE7KhV7ljHVOK6xbqbLu6dkBcrXG5GaTtWt1Jp3XmITcRHTrl0yrNZhUrLFWCVG8YA3xfCmdnHkCIcm/cBPLDaRXOH0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"17 1\"\n        title=\"17 1\"\n        src=\"/static/e4cd4e6e9dab3f446dbf5ded3c5aab78/c1b63/17-1.png\"\n        srcset=\"/static/e4cd4e6e9dab3f446dbf5ded3c5aab78/5a46d/17-1.png 300w,\n/static/e4cd4e6e9dab3f446dbf5ded3c5aab78/0a47e/17-1.png 600w,\n/static/e4cd4e6e9dab3f446dbf5ded3c5aab78/c1b63/17-1.png 1200w,\n/static/e4cd4e6e9dab3f446dbf5ded3c5aab78/d61c2/17-1.png 1800w,\n/static/e4cd4e6e9dab3f446dbf5ded3c5aab78/97a96/17-1.png 2400w,\n/static/e4cd4e6e9dab3f446dbf5ded3c5aab78/f90e6/17-1.png 2594w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADIElEQVQ4y6VTS08TURQeE3cmBjRACwSYvpRoIkUQUNQgcWWjiS343OE/wLW4liayICxJWBZCVVTU8mgVQkCBhWLAJVuZdtqZaaczd26P99y2CAYUw0m+mTN37v3Odx5XsJfWHGuu9/SdbWx4fvlKZ39Lc1uw8cLFYIO3Keh2uYMe96mgm8PDv7nvqQ86nJ6gi/ns3V8nOoNOp+eZKLocQkWpTTzTeM5quNQG3uZWqBKdUF1WAZX2Gigpq4LjJyugvLIObNUOsNe4wFZVCzZ7NdTWOUF0ngavtwla29rBe74FbLbKm8L1q53i5FxUehmZhND4uPk+FiOR8AvyZmKSTH9aIpHYPIlE58mH6ByZ+rhAIjNRMjU1TWZnY+Ttuwh5NfGaPOl7SqZnZmlv72OfcPf+PREAZMs0Ia1plBhGjgLkCDFzbP2fQNvc3EQfhoeHfUJ3V0BMqaqs6QYwUEVRwchmQdLSoKQzkGW+pmlgsoCWZQFBEMJ9y6KcEYlVVYXBwUGf0POoR5QkSV5f34C19R9UZURQCH8QKxKm02kYGhryCXcePBSVpCybqgLUIjQfeS/QfWAVFGp5wtt+v7gVT8iEUjBMQk2WjsHSOzAMM2cSKyclEnlCfyAgbklxGeXLskwTiTj8p3GFSMhryAmZQvyjZ7M0ndF5KoRYQCkvOuTLBAUfdq0VO52QkzAyMrKb0DAMXkM0k6dj8IPYaVwvkuA6dhoDsn08hpxSYGxsbDchO0CL0XeqyyRl0JXUtsriCCFxKpXiKSeSKRgdHd1NyKJSjIyGhEVSU9eBEnO7aDvU4YxyQnkvQjbQFNNDQwU4W3gYlbD6gs6I8b9hGpwQ1xVF2V+hVZjDIiEqwIO6nsGDnBC/f98UnvZfFP7RFDyMxuoE8XgcFHa9cB1V4rvYZSw8NiVP6A+IPyUpjrVikdlVZUNDkTdv6LNAFiPZRmGbhc+smd/DxiYXCoVuCF3d3Y6UqmXhkJbWsxAOh28JHR3X7AuLi3PLq6sbX5ZXvjGsHRgrK2vLHKvfF5c+fx0YGGgXmB1hKGEoZyg7BE4wHP0FQor7uq9JphYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"17 2\"\n        title=\"17 2\"\n        src=\"/static/6fb97b017cfde0007dc53950cb491883/c1b63/17-2.png\"\n        srcset=\"/static/6fb97b017cfde0007dc53950cb491883/5a46d/17-2.png 300w,\n/static/6fb97b017cfde0007dc53950cb491883/0a47e/17-2.png 600w,\n/static/6fb97b017cfde0007dc53950cb491883/c1b63/17-2.png 1200w,\n/static/6fb97b017cfde0007dc53950cb491883/d61c2/17-2.png 1800w,\n/static/6fb97b017cfde0007dc53950cb491883/8c5dc/17-2.png 2384w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1106px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAAC90lEQVQoz5WSTWgTURDHp10bk7RW003SNm6aNGmajyabzSbZzzRpEpOmaUJbRRAsgiKCrS2CUlBqW1tBBEUELx70qkgjnry5B0Hw7EHQgyfxKH7Vg93s+BI96NGBHzPvwfzf/w0Dw94seLJ3ASsiACD8TyAi3MfT8GB5C24tbUJJyAFEIjWgut2OeTG9Xa9GX8gF+Xm9PKNNV2a1+tScVq/OalPlujZVmtaqpao2S86TxaqWVYtaLMw/51nhRU6eeEz30vYcPw5w4+E20O7hxOLCGZxZuY7+42sYVVSMqynkVAm5TBFZKYe+pIJ2TsGB9DieWl7GtWsbeGl9FZdWLuKwmGuaeuk4M3kCYOHDDzDbnbK/MvO1v3LcoKTaLoQSujmW0p1yTqeFnG4XJ3Qrr+oQEXQIp/S+zCHdW67rnnJ911WcNix85rOFdorzrz4CcE9fQ5fNrphYacfMydgVEwyIStjJKmhOZtFC6CLOTJyKnVERIZJGCPIIIxxCgDMgkEBrXP62z9Evbr79AnD5zSfoJg4H5fzOgXQWbemc4ZTy2EfqHvJAT0LFjjEBibPfYqTuIMKdsTZGq+7mlLbglTefAe49ega9+w/ILk7ccXICOtikMZhSCRljgFcMB0eaImmDiLaBFqMJA/zx3xCnFlb6ZqUd4tmX7wHKL9/BHptdducnv+8vHMUOeUan4kqTOPqLdBOCySaECJF0cyBfaQZrh5ujtbnWHNEm5b843R7xNVmj9i45DzLywuJC88iFmxg8topsoYZMMoMu8l0Xr+IgyR6liH6xgAwZxcnFc7ixtYFrV9fx/MoKJovTP4e8frGl1Q6LyTwS9gbuhNzuJ2E30xjzBRqxkWCDDbQINcZa9ViskQhGG+xIuOFnfI2hAU8b30Hfk5A3cBugw9cWY+j+VrISXIQQIfyfhP70WkxdewFkTgC7jYap8QI1IY1TQkKg5KT0DwIvUtmJElVSDlFKUqUkXiH3BJKVVIYSEzJltfYAwwzDL93rHSOItVt7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"17 3\"\n        title=\"17 3\"\n        src=\"/static/7d2946bad84e755c55c4310f7ccb1534/8740f/17-3.png\"\n        srcset=\"/static/7d2946bad84e755c55c4310f7ccb1534/5a46d/17-3.png 300w,\n/static/7d2946bad84e755c55c4310f7ccb1534/0a47e/17-3.png 600w,\n/static/7d2946bad84e755c55c4310f7ccb1534/8740f/17-3.png 1106w\"\n        sizes=\"(max-width: 1106px) 100vw, 1106px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n</details>\n</blockquote>\n<p>테스트를 위하여 서브도메인으로 <code class=\"language-text\">test</code> 를 넣어서 질의한 결과 등록한 IP가 정상적으로 조회되는 것을 확인할 수 있습니다.</p>\n<p>앞으로 해당 도메인에 서브도메인이 붙던 경로가 추가되던 요청하면 ingress IP가 떨어질 것이고 요청은 모두 NGINX으로 들어가서 알아서 Load balancing 되고 최초로 요청한 도메인과 수신 경로를 비교하여 k8s의 svc와 바인딩 해줄 것 입니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACOElEQVQoz01Sa3OaQBTlQzONSJC3gIoGUPEBLOhKDFHbJpnWpvnSdqb//5ec3t3YTD+cuXfv3j3nPla5f/yCen+PebbEbEaYZ4QVsqJGwTYoqw3YloNVwq/ANzvU2zvkRUVgEhXF2sMnHI6foeSbLVjTgt+1aPZH8GaPtj3g6esZ6zxHlmVYrJZYLBaEOfLlCut1jjhOEEURJpNbBEEIy7JhWxaUgtQ4b/DQtthyTj5VUJM6kbmeB9u20dN1CV3v4ebmBpqmkU+xXo+gwzB6BAOm5UCp+BbT2RyB78MjAsfzYTghbD+C2w9komGabw/IjkYjpOkUPuWLs0VVCWuStWwiXDOG4XAoL2zHRTiMMI5nEoPBUIr0+/13BEFAbU5kXFRo/idmklXW9Q6u68Kgy74fYhSN5Ux8PyDCUBIIDAYDWZXIdRxHFhCGoRyJEBIx4SvFhr0RErvj2BdF83J2ZSsCnteX80vTFE3TwCcRj4hEvnj/r3WlpCWMx2MZEJCD1rrQNRWGrklfwKLBq2oX0+lUblwIisXIGV9aFu+JsEaSpO9V3sa3SEuOtNhhUe8xZw0ysktGsXiCkrafr1aIaY5pHFPbg7f5U7uibSVOEnQ6HXTpK1xfXcFJM9inV7jHV/QeXqDtvxHOUPkj1LJBp2jI3kHNd/iw2uFjlKLbuYba7VIHKpSafn9ZlmCsAiP1sj0hO/9B8vwLw6efGBGE9U8/YPKThMGPcA7fMX/5jcX9UVacF4Xk+Qtnzy5ZO6OTgQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"18\"\n        title=\"18\"\n        src=\"/static/eafdab0016ecdc99a0262085b1f6e9cc/c1b63/18.png\"\n        srcset=\"/static/eafdab0016ecdc99a0262085b1f6e9cc/5a46d/18.png 300w,\n/static/eafdab0016ecdc99a0262085b1f6e9cc/0a47e/18.png 600w,\n/static/eafdab0016ecdc99a0262085b1f6e9cc/c1b63/18.png 1200w,\n/static/eafdab0016ecdc99a0262085b1f6e9cc/d61c2/18.png 1800w,\n/static/eafdab0016ecdc99a0262085b1f6e9cc/97a96/18.png 2400w,\n/static/eafdab0016ecdc99a0262085b1f6e9cc/88b57/18.png 3582w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"cert-manager-설치\" style=\"position:relative;\"><a href=\"#cert-manager-%EC%84%A4%EC%B9%98\" aria-label=\"cert manager 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cert-manager 설치</h2>\n<p>자동으로 Lets Encrypt 인증서 생성 및 관리 기능을 사용하기 위하여 cert-manager를 설치합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACnUlEQVQoz32R3U/aYBTGXxDc+KqCiCIaP6GFUij0420LdCCCAoqZXwS3ZdFkd7vc3LIbm/jPzmWwa9u0Z2/R6WKyXfzyJE97nvfkOajZ2/tUqHdueL1zXajtGbj92tAPBobWPTHU9qEh6XUD13cMmSDq24b8qmngRssQtJqxxXHGIs9fL9DszVqO/8yVxRkkvf3orA2/Qvr8Cug3Vw/6Beh33yB1cAnhkgQzog6UUIVIuUq0BiFehZDUgGT9FHC5A1LvGDK7PZhaWGPQand4O9+9dBZ7F3fJ/UvTZWn/wkz1P5iR+pGJWNFEecVEOekJRjBRUTdna2emXOzeSf2Bs9Xp/0DxlQyKae3RTKUDs9WuTWkdJ4jbTkhpOxF1z/GXXzkkwPGw8iOI4M1LTqAkOX5edyKsZlOCDmGhOgqv0zRKtY5Hi933sNQ5txOtI4g3jyG2fQpU4wwCWhfIMExxyiNeTgU/J0JclYFS+5AttmymdQjLjd2xL7lOI0qsjaK4DqGyZgeLAgQKRfDly4CyAiCGaE4mSM8gHiM9fBdslCHKCOM5hqNRDDdGL8s1QHlsI1YBxOKnoT8BrPyMJ4/UYLs6lZfH0TRLo2CpMgqSDoJCzSZAgFzyBV+5p1QBX0H9R+hjuO0+7mWlcTRzH/jTDQyJuk1wpvkKKbsyURfS2+QwZPBe/8b1Jhtid8PRZMMAr44DJQ2mi4pDAH8Bu6+RHyRyEPk/mxGy2O0OUKbk6q+422Fq5+h7tDmEuebAnN8ZWkStaOPUim4PrHBl3/JkBQs9Y+IxohUXOIuqtM3NzglsNNq3KLGaRis5kY+kFSXGqHgue0+C1XAiX8OzG0XsDYYxCkawh4Ae8LhegMLLSR+Ob2YwL6tKgcvyCKHp34c6PrU1mem1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"19\"\n        title=\"19\"\n        src=\"/static/1bcbb5af933699ef85e5c3e61404ebfd/c1b63/19.png\"\n        srcset=\"/static/1bcbb5af933699ef85e5c3e61404ebfd/5a46d/19.png 300w,\n/static/1bcbb5af933699ef85e5c3e61404ebfd/0a47e/19.png 600w,\n/static/1bcbb5af933699ef85e5c3e61404ebfd/c1b63/19.png 1200w,\n/static/1bcbb5af933699ef85e5c3e61404ebfd/d61c2/19.png 1800w,\n/static/1bcbb5af933699ef85e5c3e61404ebfd/97a96/19.png 2400w,\n/static/1bcbb5af933699ef85e5c3e61404ebfd/f51c0/19.png 2994w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"ca-클러스터-발급자-만들기\" style=\"position:relative;\"><a href=\"#ca-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0-%EB%B0%9C%EA%B8%89%EC%9E%90-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"ca 클러스터 발급자 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CA 클러스터 발급자 만들기</h2>\n<p>인증서를 발급하기 위하여 발급자를 등록합니다.</p>\n<p><code class=\"language-text\">yaml</code> 은 <a href=\"https://docs.microsoft.com/ko-kr/azure/aks/ingress-tls?tabs=azure-cli#create-a-ca-cluster-issuer\">공식문서 YAML</a> 와 <a href=\"https://github.com/belf-kr/infrastructure-as-code/blob/v0.1.0/https-ingress-controller/cluster-issuer.yaml\">프로젝트에 사용한 YAML</a> 중 참고합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAsUlEQVQI12OwcPUrtXXxK7Zx8S1x8gouCQhPKPENjSvxCo4tcfcJKHFwdCxxdvUocXF1L3Fydi1xcHIpcQDRjk4l5g5uJY7WbiXB5o7FgR4epV4e7oUMEi6R/2RcI/7IuUWCsaJH9B9ZIF/GLfqPiIXLH15tgz98umZ/+PUgmFvb+A+XlvEfbk2DP9xmLn+UzX3/2Oo5/7HyDPin4+r5nQEINIBYHTdmwiHOiC4GMkcFAOEAPIOqYfuCAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"20\"\n        title=\"20\"\n        src=\"/static/f1f1f1d3532e6f3fe106aa08da2442c9/c1b63/20.png\"\n        srcset=\"/static/f1f1f1d3532e6f3fe106aa08da2442c9/5a46d/20.png 300w,\n/static/f1f1f1d3532e6f3fe106aa08da2442c9/0a47e/20.png 600w,\n/static/f1f1f1d3532e6f3fe106aa08da2442c9/c1b63/20.png 1200w,\n/static/f1f1f1d3532e6f3fe106aa08da2442c9/d61c2/20.png 1800w,\n/static/f1f1f1d3532e6f3fe106aa08da2442c9/97a96/20.png 2400w,\n/static/f1f1f1d3532e6f3fe106aa08da2442c9/f51c0/20.png 2994w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<blockquote>\n<p>여기서 이메일 주소를 정상적으로 입력하지 않으면 TLS가 발급되지 않음으로 주의하세요!</p>\n</blockquote>\n<h2 id=\"데모-애플리케이션-실행\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EB%AA%A8-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EC%8B%A4%ED%96%89\" aria-label=\"데모 애플리케이션 실행 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데모 애플리케이션 실행</h2>\n<p>ingress와 TLS 인증서가 정상적으로 적용되었는지 테스트를 위하여 데모 애플리케이션 배포하도록 합니다.</p>\n<p>저는 삭제하게 편하게 테스트 컨테이너는 <code class=\"language-text\">test</code> namespace에 배치하도록 하였습니다.</p>\n<p><code class=\"language-text\">yaml</code> 은 <a href=\"https://docs.microsoft.com/ko-kr/azure/aks/ingress-tls?tabs=azure-cli#run-demo-applications\">공식문서 YAML</a> 와 <a href=\"https://github.com/belf-kr/infrastructure-as-code/tree/v0.1.0/https-ingress-controller/test\">프로젝트에 사용한 YAML</a> 중 참고합니다.</p>\n<blockquote>\n<p>주의, service endpoint는 ns에 맞게 설정되므로 ingress의 path도 수정해줘야합니다. 이런게 복잡하면 그냥 공식문서를 그대로 따라해주세요.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAABXElEQVQY0z3HbU+CUBjG8YOzmamVGpZWy+ZWUwkxEBQFkbAD6ki0pvnAXC96WF+js/mR67zozmjrxW//60L3fauoud6aN0cfVcsjgjUiuueT9mhFtLslqXW6RNJNIrVviNA0SLVlEFEzg3K6Q7oKJkPD+bBdd10WlTISb22/+PACp947nI/eIO/9ORu+won7DAlZh5jQgFi1CTuCCtFKAyJXdYjwdUi0xyArY7DxBBqTGaSv5CeUb5nTXG8BB87q66i/oqzj02R3RhPmlMY7ExoSVMpwMg3xDRquqBRxdYpKtUBYdenl9YBWW4PPQm8I8bI0R4WWMT115pCx/e9cz4cjewkH1iMkb6YbE9iqNAEVRWBKtQ1ps6Xg/5bhFIgKJpxZ4++i40K8JC7QBVdmWV7DsZKG9zk9kOLbG0bQSDaPUZLFTCrzL5Q+DDC7exjlCvhY7uCaqtjbbDbzAzjWgMihoe5EAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"21\"\n        title=\"21\"\n        src=\"/static/3a7fc1f14d7d7f94ce8fe0b386f55da9/c1b63/21.png\"\n        srcset=\"/static/3a7fc1f14d7d7f94ce8fe0b386f55da9/5a46d/21.png 300w,\n/static/3a7fc1f14d7d7f94ce8fe0b386f55da9/0a47e/21.png 600w,\n/static/3a7fc1f14d7d7f94ce8fe0b386f55da9/c1b63/21.png 1200w,\n/static/3a7fc1f14d7d7f94ce8fe0b386f55da9/d61c2/21.png 1800w,\n/static/3a7fc1f14d7d7f94ce8fe0b386f55da9/97a96/21.png 2400w,\n/static/3a7fc1f14d7d7f94ce8fe0b386f55da9/4cd3a/21.png 3042w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"수신-경로-만들기\" style=\"position:relative;\"><a href=\"#%EC%88%98%EC%8B%A0-%EA%B2%BD%EB%A1%9C-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"수신 경로 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>수신 경로 만들기</h2>\n<p>데모 애플리케이션을 테스트하기 위하여 수신 경로를 생성합니다.</p>\n<p><code class=\"language-text\">yaml</code> 은 <a href=\"https://docs.microsoft.com/ko-kr/azure/aks/ingress-tls?tabs=azure-cli#create-an-ingress-route\">공식문서 YAML</a> 와 <a href=\"https://github.com/belf-kr/infrastructure-as-code/blob/v0.1.0/https-ingress-controller/main-ingress.yaml\">프로젝트에 사용한 YAML</a> 중 참고합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 16%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA4ElEQVQI1x3IT0/CQBCG8blotH8Qo8bEmKiRWCgovYg2u6VguhTXEp0VSJGbBy8kOoTGrz+uHH555h34yETjpVDVY6J+ZF+RLt7p1Szo2VZPppRrQ0rlNNoak8pya0SZRpqoNzJRTON0uH4aDFdB0K5Bvyg+o+U3X0w3fFNuOFz+bgWLioOy4uvZmg8fBuzd3bPfjdmPYnZve+z2FF8JZCFLnn+tOJ2XDDv1Dpw3m2cHHWl2WxKddoL7ocS9lkDH1v3f9obTSwT/CKF2bNnWTxAcz/58hFBgmKSmEXU1AHh/dThGDAXexPgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"22\"\n        title=\"22\"\n        src=\"/static/b8abb55768b6a6921c211a5e0a330c55/c1b63/22.png\"\n        srcset=\"/static/b8abb55768b6a6921c211a5e0a330c55/5a46d/22.png 300w,\n/static/b8abb55768b6a6921c211a5e0a330c55/0a47e/22.png 600w,\n/static/b8abb55768b6a6921c211a5e0a330c55/c1b63/22.png 1200w,\n/static/b8abb55768b6a6921c211a5e0a330c55/d61c2/22.png 1800w,\n/static/b8abb55768b6a6921c211a5e0a330c55/97a96/22.png 2400w,\n/static/b8abb55768b6a6921c211a5e0a330c55/fde9a/22.png 2674w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"인증서-개체가-만들어졌는지-확인합니다\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%EC%A6%9D%EC%84%9C-%EA%B0%9C%EC%B2%B4%EA%B0%80-%EB%A7%8C%EB%93%A4%EC%96%B4%EC%A1%8C%EB%8A%94%EC%A7%80-%ED%99%95%EC%9D%B8%ED%95%A9%EB%8B%88%EB%8B%A4\" aria-label=\"인증서 개체가 만들어졌는지 확인합니다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인증서 개체가 만들어졌는지 확인합니다.</h2>\n<p>테스트 이전에 TLS 인증서가 정상적으로 생성되었는지 확인합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJElEQVQY00WIy07CQBRAB4qJMUQQxJioIGodjCCiUIeCj5S2tBR8UB5TEFbcgH/q1l9gNrp2a3IdjYmLk3NyyHzyOL7zenPD8mduh0PwvIDR9AUGAQCX3eMzePDa0Gk60HFa4Jo23LseeLYDTsMCXWPAytqsrrHFNdOHpNDuf22ZHLeNAaabIzzwpphtTXDX4phxx5hxxhgv1zB+UZXUMVbSceOyjuvnOkaLDNfyFVw9KWGYljCa1z5J1vbfYkbwnjD4MtngQlqkzEBsyk7+ET5lghwWBDk6+0ctShdEqHgrEo3hstoffqRvzFdimq39nUo3l716olT3qfpDtUtztR49/m2fxhMpqoQIXYlEaERRpBVp2fKtJveoWrbpomvlWF5NfwOFvmICpXjVPAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"23\"\n        title=\"23\"\n        src=\"/static/fe552ec35f45176e86f661c0d577b5f0/c1b63/23.png\"\n        srcset=\"/static/fe552ec35f45176e86f661c0d577b5f0/5a46d/23.png 300w,\n/static/fe552ec35f45176e86f661c0d577b5f0/0a47e/23.png 600w,\n/static/fe552ec35f45176e86f661c0d577b5f0/c1b63/23.png 1200w,\n/static/fe552ec35f45176e86f661c0d577b5f0/d61c2/23.png 1800w,\n/static/fe552ec35f45176e86f661c0d577b5f0/97a96/23.png 2400w,\n/static/fe552ec35f45176e86f661c0d577b5f0/fde9a/23.png 2674w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"수신-구성-테스트\" style=\"position:relative;\"><a href=\"#%EC%88%98%EC%8B%A0-%EA%B5%AC%EC%84%B1-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"수신 구성 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>수신 구성 테스트</h2>\n<p>배포된 데모 애플리케이션이 수신 경로에 맞게 잘 응답되는지, TLS 인증서가 적용되었는지 확인하도록 합니다.</p>\n<p>아래 사진을 보면 Chrome의 URL 옆에 자물쇠가 활성화 되어있는 것으로 보아 TLS 인증서가 정상적으로 적용되었다는 것을 알 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABj0lEQVQoz6WSy0rDQBSGgws3gigirgR7sabJNKkp1ipe0RfoE7RQBRUXWq3RtLQdL+DaV/IJurPSC26K0KIYrUpzkuNMqiLiRv3hYw5n5nwMzAiCIPREJHFDUcSzqehscWlphc4vLNPF5VWqhjXq9U1Qj3ecre+w2u8PUJ8v4NasVxzz+E9kohxIMuljPqE/RORGKBrGcGQategMTs/MYSw6i5ORGCqKioQoKEkqipKCQaLi6JgPxSBBSWZ9WUVNm0JV1Zyh4ZEAFw6mDeP68OIc8/S4ky4UIEsp0N0M7GQo6Id7oOs67GxnYHP3CLb2s5DOFeBAN+DIyIGRzVuUnmI2l78nJCRy4cDL83MFu7EZznfAdpyO1XF+2nuf4THX19e6wmaz6QoBwGbgB47jfMLzUX89w2d47/HxyUwkEl1hq9W6dq9n25b9+wCfbbfbD8lk0hUOmqZ5g/+MZVmvqVQq6L5yqVS6rNfrd5VKpVGtVm9/SaNWqzXL5fJVPB73cmEPw8OYZKh/JMzgX6b3DZ9uv3k71R/ZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"24\"\n        title=\"24\"\n        src=\"/static/665dbd8a36b235d7c842783b89ab7838/c1b63/24.png\"\n        srcset=\"/static/665dbd8a36b235d7c842783b89ab7838/5a46d/24.png 300w,\n/static/665dbd8a36b235d7c842783b89ab7838/0a47e/24.png 600w,\n/static/665dbd8a36b235d7c842783b89ab7838/c1b63/24.png 1200w,\n/static/665dbd8a36b235d7c842783b89ab7838/d61c2/24.png 1800w,\n/static/665dbd8a36b235d7c842783b89ab7838/9e7e4/24.png 2056w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABt0lEQVQoz6WRz28SURDHVxOW9NBo0h5MYbcsssAi0LICUioxHr306dGgoe1WAyxsfxx7hoS/q38AFwxwskmbHrQJCwQJ0Z0d5y3x0hvxm3xm5uXNd94kTxAE4VFSff5WjUY+ZPT8QaGwz3L5Isvm95iqxlhAUpgkh5i8rTCZ8rassEgkypRwhAWCMpOk0MFWQHofCqvvNC2xRvPEJ5n0i7t0dgdzr/axUCzh69IbLO6VcFfPYyKRRE1LYTyexBjlmJbEoKxgOBzFVGoXtUTay7qe+/1sK5gW1v1rm5V67fbk8hyrzVPnc60GDdOEr5+OwKhfgNk4AeO4CoeVKnw0TCh/qUP5yIDKoQF104JqrQHN5hmapjXP6NmXgs8nbtj26BZJjgPgclEEKqfTqTseT9zRaOT+vL+neuxOJhPvjuM4Dod7cDabzdutli6IorhBTd5AEuDqcnlYLBbzdru9HGjb9s1yQ+cPPBDfABzw4LV3ftDCvb9ILb6h3+/fpPoH/qf4Q51OJ0u/LDztdrtXw+Hwrt/vfx8MBterQJ5r8t70er1vlmVpfOBjIkjEiSgRW5F/HoXw/QXOTbakuFvR7wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"25\"\n        title=\"25\"\n        src=\"/static/298abbfe771d22d1920c2c1444e6bb3a/c1b63/25.png\"\n        srcset=\"/static/298abbfe771d22d1920c2c1444e6bb3a/5a46d/25.png 300w,\n/static/298abbfe771d22d1920c2c1444e6bb3a/0a47e/25.png 600w,\n/static/298abbfe771d22d1920c2c1444e6bb3a/c1b63/25.png 1200w,\n/static/298abbfe771d22d1920c2c1444e6bb3a/d61c2/25.png 1800w,\n/static/298abbfe771d22d1920c2c1444e6bb3a/e2cbf/25.png 2138w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABkUlEQVQoz62O3UoCQRTHB7oOIqibtN31Y7fN1UzTIi3pAboKGnqAPiTN2lq1reiiV1DEN+kBBLWiN+kD0UTbM6fZ1BCji6L/8OPM/M/5H4b4Zc+mrMg74fDydjy2ToOhKA0shqnXo1Cn4KazokRF0U1FQaKS6KJu7nu8CpVcXuqYEaggurZnHIL93lJV3zhZXPA1taUgRlfiGF2NYySyguFQFLVACFV1Hufm/CgrPpRVP7rleZwVXOhwSsgXoD8YQkXVUNOCPBNBvniZJLNnL5mbC9TzprWn63BuGHCaOoVM9hJMU4fjdBZ299Owe5SDpGHCQfKQkwLdyMHJ9RWkMydWLmcyI5t/TyQ24uSt1XrBnoDDRul0Ouzp+Zm131rfep+nl0M+Z5VKpRhpNpuvtsEYA459+YT1PBxWr8W+6OfYYGGxWIyRRqPxZBuWZb0DgDXKsH7q259pt9vdQqGwSrrdbgf/SeVyeY1UKpXber3+WK1W7zj3f+CuVqs98FoxDMNHuCY405ypfv0tg9wkZ+wDT+vNB2Ixx24AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"26\"\n        title=\"26\"\n        src=\"/static/b4e9763b026b070af5c2b6edfec39d20/c1b63/26.png\"\n        srcset=\"/static/b4e9763b026b070af5c2b6edfec39d20/5a46d/26.png 300w,\n/static/b4e9763b026b070af5c2b6edfec39d20/0a47e/26.png 600w,\n/static/b4e9763b026b070af5c2b6edfec39d20/c1b63/26.png 1200w,\n/static/b4e9763b026b070af5c2b6edfec39d20/d61c2/26.png 1800w,\n/static/b4e9763b026b070af5c2b6edfec39d20/43853/26.png 2284w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>수신 경로를 정의한 요청은 ingress로 전달되며 그러면 알아서 HTTPS 처리와 Load balancing까지 처리됨을 기대할 수 있습니다.</p>\n<h1 id=\"네임-스페이스-생성\" style=\"position:relative;\"><a href=\"#%EB%84%A4%EC%9E%84-%EC%8A%A4%ED%8E%98%EC%9D%B4%EC%8A%A4-%EC%83%9D%EC%84%B1\" aria-label=\"네임 스페이스 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>네임 스페이스 생성</h1>\n<p>추후, 사용될 <code class=\"language-text\">qa</code>, <code class=\"language-text\">prod</code> ns를 미리 만들어주도록 합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABx0lEQVQoz6XO307aYBgG8LeroFQ/HGOaZcsSMzNklvK3hZYCCiJCrVIJfzrAyFiM4Ig4vqNlu5Tdnsl3Ax548OVdcdkV7E1+eZLn4M0DVQBRF4HoW0COdhRS3o0Q19DIj75Lfg5c8mv4mXx3mmS8J5G7mEA2au8J7AGBoAf+CnhovSz+/uoCjKqV7vCq9xi3Lh4Sms5iao5phQorHZ+yQrXBiscWy1dOWNHus2r3hl1aAzYwbdbJW6zX6TC313to2OePESXVNWvnAImDIjW/zDFsf8OglvUYuJY00R/XcUXJIXxSUVSyKFX6SGrXWDZcbOU66BRcbN5MsTWbYaLZRv+HfRpsXQNETXOR7k9wsz5+ktQcX9dMvpYucTFucF8iz0HOciGu88DRgG80JrxouNxO2ryuNvnBcMQPr8ZPEcvB1V15EbpcACRL5r0xusPQ6S0nahFFWUMxln1eJuyrzwleCnLOo6OUKmHIW/rubILO9BbbsxlPOh307UTvSXsKkFE+ypmyNZeiBbq+/ZZC8BUVNsP0xcvXnn/pWXbBEF3ZekMD8iENp2u00ajS5lmNJrTMHPySDCkLlid4RI/vP4jbyz9aC/4AFk2ZVGcSTHIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"27\"\n        title=\"27\"\n        src=\"/static/5f7166ab0da63bf598758a6545324c24/c1b63/27.png\"\n        srcset=\"/static/5f7166ab0da63bf598758a6545324c24/5a46d/27.png 300w,\n/static/5f7166ab0da63bf598758a6545324c24/0a47e/27.png 600w,\n/static/5f7166ab0da63bf598758a6545324c24/c1b63/27.png 1200w,\n/static/5f7166ab0da63bf598758a6545324c24/f02b9/27.png 1554w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h1 id=\"스토리지-클래스-생성-및-pvc-요청\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%83%9D%EC%84%B1-%EB%B0%8F-pvc-%EC%9A%94%EC%B2%AD\" aria-label=\"스토리지 클래스 생성 및 pvc 요청 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스토리지 클래스 생성 및 pvc 요청</h1>\n<p>Pod이 죽더라도 정적 자산과 같은 영구적인 데이터 저장하기 위해 azure files을 사용합니다. azure files 스토리지 클래스를 등록 및 pvc를 미리 요청하도록 합니다.</p>\n<p><code class=\"language-text\">yaml</code> 은 <a href=\"https://github.com/belf-kr/infrastructure-as-code/tree/v0.1.0/storage\">프로젝트에 사용한 YAML</a> 을 참고합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABpUlEQVQY003OX2/SYBgF8GeFiQJlkUygLIDuDxu0lpaOsrUle7thusUZoCslRjITLkxEgeFn8Nab1fj1vPbCxGTNklnN49vuxotfzrk6OSBBPDEeO591+823g9PX19bondd7O/NejT9459Spc+kZJ12PWOeRI+ul1+meeQalmZYnKIfXvHLwVWp3vtTEZhEqLBRa7uSufLHAij3DreECt6mt4Rx3Rp+w8MLFpNjEtKRhWtaQlfUoE4KKD/7z6LmKj3d4A4oscPXB5Y9c/yPme9O74mAahAr990GuNw3SxA5WBDlgxMMgRsUbWpRQb93j1d/UH0ZQb9ntug6lDHANd/Kr6Cxxw1lgeRi6wo2LGRYGc8wcOxinD1clPZKQDaSjSEeQDiLUFIRdJex/16qCAc9YyCvu5DtnL+m7+U3FufJDJXvul5yl/6Q78pk90Wdqih8L1ZWoQ7Xhx5snftZ0b1oD53bTtH7GuKdtyK7A6q60v7/Od46zNf0oJxiEEzukSJVkk+SrMoFkhkCKSrL3UmuESaXJwzJPKuoZGfUts91WNABI/wOY6ZvsNW8qCgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"28\"\n        title=\"28\"\n        src=\"/static/721a277579b909282ac758506537b7f2/c1b63/28.png\"\n        srcset=\"/static/721a277579b909282ac758506537b7f2/5a46d/28.png 300w,\n/static/721a277579b909282ac758506537b7f2/0a47e/28.png 600w,\n/static/721a277579b909282ac758506537b7f2/c1b63/28.png 1200w,\n/static/721a277579b909282ac758506537b7f2/d61c2/28.png 1800w,\n/static/721a277579b909282ac758506537b7f2/f291a/28.png 2258w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>정상적으로 적용된 것을 확인할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAACNklEQVQoz22QW08aURSFjygX0YZLYRhxQEVuFRDGgQ73IDdlGEYuonMG0aDUpMaf2R/Ql3aa9De0fWqaKOfsDvS1D1/W2iv7YWWhOnJufJwqF83B5aTWHKr9qxm+mT1j7e4Jq7dPeKze4W7nHPe6F7grKYYqWOqN8PB6jp9ljLXKmaoN+ngoy+NEIu1AMY+dLY1vfu/JD7AnzSA1foKkQbT/CEcjQzsq+LIicMU6+MUavM3kgS13ICLPQSlfglIbgTS9A0FSYCsYKSHTGydnzRR/bhqPpoSwsPMFssnniTUtEnMqRyzpAkFHInEVG8SerZK148K/LJYmKJ4hKJVboNAxRZHMiyOarCK/27obV7Rfvt4H8HZmxN+b0yU78gPdVR6pq9anGymBbmer1C5UqC1TpDaxTR31Cc2dyLRY6pO8egOHLfnVHAhXEePe2g22+j9cjWtw18evvrZKlnibV4RpY+KuysQuFImVLxEbX161s2RPCdO8JkmxSxJ5aRE+Vyhbbr7Y9qNVFPDauaii/XF17sEr3QNrbMn25oafwbK183QAVl4Em1AB20nF8CWwiG3wnN1CvjCAQmUIojqFg5YM5mC0hjjXBhM7H35yNybfPQ3tC9ua6EuYpqaz7anuKcu6KZzSTZHjFevRtHEn9fVQTEdCXXe28NfK5fhb7LT9eY0J8MiJkIk/DDFc6CSwE0xx+6EMF4nwK2LxHOdnOA4h9F9c69tc2BfiLnLvAu8PfDtGZv4L3mbQME28UyYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"29\"\n        title=\"29\"\n        src=\"/static/d90bbd32856313b47c6c76e06b9b1de4/c1b63/29.png\"\n        srcset=\"/static/d90bbd32856313b47c6c76e06b9b1de4/5a46d/29.png 300w,\n/static/d90bbd32856313b47c6c76e06b9b1de4/0a47e/29.png 600w,\n/static/d90bbd32856313b47c6c76e06b9b1de4/c1b63/29.png 1200w,\n/static/d90bbd32856313b47c6c76e06b9b1de4/d61c2/29.png 1800w,\n/static/d90bbd32856313b47c6c76e06b9b1de4/f291a/29.png 2258w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>요청한 용량에 맞게 Azure에서도 조회되는 것을 확인할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1200px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACL0lEQVQoz5WSy27aUBCG/QAFDOZiY2MbXzAYc/MxlwC1smOBxKpQiaoR+7DKk8SrlkgNUqUu+oaJDvJ0jjFNqqqVsvg0M7bPPzP/Mdfrex+D2fRh9v76nvijyLKdSNOMSFL0SJK1SK5pkaLWz1HRIlU1sDYivW5Fmm5GpuVE3Z5/PxgMH4Lh1QeOTMc/R+Ecmu0ONBsumLYDjtMGfzIHPxjBwCfgj8bgEwLEH8BkNIHhaApu24O214Fut5/g4nnX9b5zDdf7Vrdb4DTbT7phU6vRoobdorKiUkkUqVipvIB1Jc0FQUgoFAo0m808ZTLvIJPJfOG6fnA07QaIYoW6rhs7jgPVqgz5fB7yhQLwGHM8D7lcDniMfJLzyXsUYzFmoml+4Dp+/9hAEdaVEBLXVBVKZQkqooixAkKxmBwspvGCIBRxCBGjEKMQZQ2w2YHzSHA0DAPKpRLt+yTWTQuMeh3YM8syQZblZCrLsqBWqyU5E7Jtm4klE1arVVoul88Tktn8SIZDsC2LzsMwllBAfgX7kImgdwksZ0Io8nvl1Muz4GB8dbQbDluJTiYTHJ+HbDabeHbxja1zqdPVXnsaIzTND1xvjCubJghobBAEcerJW3nx0O26j5qus6me8VJO2PmE13/C+i08s62Qrxz+Kj/anpcYHoYhqHjLzDtFUf6APWO+/Q9Jkh45t9O93n6+ufu03d7udrv9ZrPZr9frv1itVvvlcvkvbpG7xWIR/gKRaCxUkl49/QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"30\"\n        title=\"30\"\n        src=\"/static/42ed29f097f8bb07872d13b6092a5d04/c1b63/30.png\"\n        srcset=\"/static/42ed29f097f8bb07872d13b6092a5d04/5a46d/30.png 300w,\n/static/42ed29f097f8bb07872d13b6092a5d04/0a47e/30.png 600w,\n/static/42ed29f097f8bb07872d13b6092a5d04/c1b63/30.png 1200w,\n/static/42ed29f097f8bb07872d13b6092a5d04/d61c2/30.png 1800w,\n/static/42ed29f097f8bb07872d13b6092a5d04/97a96/30.png 2400w,\n/static/42ed29f097f8bb07872d13b6092a5d04/1fec9/30.png 3808w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<blockquote>\n<p>azure files의 StorageClass를 사용하는 pvc의 경우 하나의 스토리지 클래스에 여러게의 파일 공유영역이 생성되는 것을 확인할 수 있습니다.</p>\n</blockquote>\n<h1 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h1>\n<p>해당 글을 보고 따라하는 시점에 MS 공식 문서와 azure portal이 많이 바껴있을 수 있어 따라하는데 힘들 수도 있습니다.</p>\n<p>그래도 트러블 슈팅을 통해 여기까지 오셨으면 클라우드 환경으로 k8s cluster까지 올릴 수 있는 경험치가 생긴 것 입니다!!! 축하해요 👏</p>\n<p>이제 인프라도 깔렸으니 Policy 와 자동화 라인만 깔아놓으면 마음껏 개발한 준비는 끝난 것입니다.</p>\n<p>끝까지 읽어주셔서 감사합니다 :) 다음 챕터에서 봬요~</p>","frontmatter":{"title":"aks, github, slack으로 워크플로우 구축하기 - 3편 (인프라 생성)","date":"May 06, 2021"}}},"pageContext":{"slug":"/devops/workflows-with-aks-github-slack-3/","previous":{"fields":{"slug":"/devops/workflows-with-aks-github-slack-2/"},"frontmatter":{"title":"aks, github, slack으로 워크플로우 구축하기 - 2편 (blueprint)","category":"devops","draft":false}},"next":{"fields":{"slug":"/devops/workflows-with-aks-github-slack-4/"},"frontmatter":{"title":"aks, github, slack으로 워크플로우 구축하기 - 4편 (github 설정)","category":"devops","draft":false}}}},"staticQueryHashes":["2486386679","3128451518"]}